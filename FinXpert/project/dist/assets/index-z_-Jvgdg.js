var Dw=Object.defineProperty;var $w=(t,e,n)=>e in t?Dw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>$w(t,typeof e!="symbol"?e+"":e,n);function Fw(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Bw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var Um={exports:{}},Ll={},Hm={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=Symbol.for("react.element"),Uw=Symbol.for("react.portal"),Hw=Symbol.for("react.fragment"),Ww=Symbol.for("react.strict_mode"),Vw=Symbol.for("react.profiler"),Kw=Symbol.for("react.provider"),qw=Symbol.for("react.context"),Jw=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Yw=Symbol.for("react.memo"),Gw=Symbol.for("react.lazy"),If=Symbol.iterator;function Qw(t){return t===null||typeof t!="object"?null:(t=If&&t[If]||t["@@iterator"],typeof t=="function"?t:null)}var Wm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vm=Object.assign,Km={};function Dr(t,e,n){this.props=t,this.context=e,this.refs=Km,this.updater=n||Wm}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Dr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qm(){}qm.prototype=Dr.prototype;function Vd(t,e,n){this.props=t,this.context=e,this.refs=Km,this.updater=n||Wm}var Kd=Vd.prototype=new qm;Kd.constructor=Vd;Vm(Kd,Dr.prototype);Kd.isPureReactComponent=!0;var jf=Array.isArray,Jm=Object.prototype.hasOwnProperty,qd={current:null},Xm={key:!0,ref:!0,__self:!0,__source:!0};function Ym(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Jm.call(e,s)&&!Xm.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:_o,type:t,key:i,ref:o,props:r,_owner:qd.current}}function Zw(t,e){return{$$typeof:_o,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jd(t){return typeof t=="object"&&t!==null&&t.$$typeof===_o}function ex(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Lf=/\/+/g;function vc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ex(""+t.key):e.toString(36)}function Ca(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _o:case Uw:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+vc(o,0):s,jf(r)?(n="",t!=null&&(n=t.replace(Lf,"$&/")+"/"),Ca(r,e,n,"",function(c){return c})):r!=null&&(Jd(r)&&(r=Zw(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Lf,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",jf(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+vc(i,a);o+=Ca(i,e,n,l,r)}else if(l=Qw(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+vc(i,a++),o+=Ca(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function No(t,e,n){if(t==null)return t;var s=[],r=0;return Ca(t,s,"","",function(i){return e.call(n,i,r++)}),s}function tx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qe={current:null},Ea={transition:null},nx={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:Ea,ReactCurrentOwner:qd};function Gm(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:No,forEach:function(t,e,n){No(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return No(t,function(){e++}),e},toArray:function(t){return No(t,function(e){return e})||[]},only:function(t){if(!Jd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=Dr;F.Fragment=Hw;F.Profiler=Vw;F.PureComponent=Vd;F.StrictMode=Ww;F.Suspense=Xw;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nx;F.act=Gm;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Vm({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=qd.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Jm.call(e,l)&&!Xm.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:_o,type:t.type,key:r,ref:i,props:s,_owner:o}};F.createContext=function(t){return t={$$typeof:qw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kw,_context:t},t.Consumer=t};F.createElement=Ym;F.createFactory=function(t){var e=Ym.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:Jw,render:t}};F.isValidElement=Jd;F.lazy=function(t){return{$$typeof:Gw,_payload:{_status:-1,_result:t},_init:tx}};F.memo=function(t,e){return{$$typeof:Yw,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=Ea.transition;Ea.transition={};try{t()}finally{Ea.transition=e}};F.unstable_act=Gm;F.useCallback=function(t,e){return qe.current.useCallback(t,e)};F.useContext=function(t){return qe.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return qe.current.useDeferredValue(t)};F.useEffect=function(t,e){return qe.current.useEffect(t,e)};F.useId=function(){return qe.current.useId()};F.useImperativeHandle=function(t,e,n){return qe.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return qe.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return qe.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return qe.current.useMemo(t,e)};F.useReducer=function(t,e,n){return qe.current.useReducer(t,e,n)};F.useRef=function(t){return qe.current.useRef(t)};F.useState=function(t){return qe.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return qe.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return qe.current.useTransition()};F.version="18.3.1";Hm.exports=F;var E=Hm.exports;const Xd=zw(E),sx=Fw({__proto__:null,default:Xd},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=E,ix=Symbol.for("react.element"),ox=Symbol.for("react.fragment"),ax=Object.prototype.hasOwnProperty,lx=rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cx={key:!0,ref:!0,__self:!0,__source:!0};function Qm(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)ax.call(e,s)&&!cx.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:ix,type:t,key:i,ref:o,props:r,_owner:lx.current}}Ll.Fragment=ox;Ll.jsx=Qm;Ll.jsxs=Qm;Um.exports=Ll;var b=Um.exports,Zm={exports:{}},ft={},ey={exports:{}},ty={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,j){var L=R.length;R.push(j);e:for(;0<L;){var G=L-1>>>1,te=R[G];if(0<r(te,j))R[G]=j,R[L]=te,L=G;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var j=R[0],L=R.pop();if(L!==j){R[0]=L;e:for(var G=0,te=R.length,Bt=te>>>1;G<Bt;){var Ue=2*(G+1)-1,sn=R[Ue],He=Ue+1,Lo=R[He];if(0>r(sn,L))He<te&&0>r(Lo,sn)?(R[G]=Lo,R[He]=L,G=He):(R[G]=sn,R[Ue]=L,G=Ue);else if(He<te&&0>r(Lo,L))R[G]=Lo,R[He]=L,G=He;else break e}}return j}function r(R,j){var L=R.sortIndex-j.sortIndex;return L!==0?L:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var j=n(c);j!==null;){if(j.callback===null)s(c);else if(j.startTime<=R)s(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function w(R){if(y=!1,_(R),!m)if(n(l)!==null)m=!0,he(x);else{var j=n(c);j!==null&&Me(w,j.startTime-R)}}function x(R,j){m=!1,y&&(y=!1,g(C),C=-1),f=!0;var L=h;try{for(_(j),d=n(l);d!==null&&(!(d.expirationTime>j)||R&&!A());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var te=G(d.expirationTime<=j);j=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&s(l),_(j)}else s(l);d=n(l)}if(d!==null)var Bt=!0;else{var Ue=n(c);Ue!==null&&Me(w,Ue.startTime-j),Bt=!1}return Bt}finally{d=null,h=L,f=!1}}var S=!1,k=null,C=-1,T=5,O=-1;function A(){return!(t.unstable_now()-O<T)}function N(){if(k!==null){var R=t.unstable_now();O=R;var j=!0;try{j=k(!0,R)}finally{j?ie():(S=!1,k=null)}}else S=!1}var ie;if(typeof p=="function")ie=function(){p(N)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Y=Be.port2;Be.port1.onmessage=N,ie=function(){Y.postMessage(null)}}else ie=function(){v(N,0)};function he(R){k=R,S||(S=!0,ie())}function Me(R,j){C=v(function(){R(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,he(x))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var L=h;h=j;try{return R()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=h;h=R;try{return j()}finally{h=L}},t.unstable_scheduleCallback=function(R,j,L){var G=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?G+L:G):L=G,R){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=L+te,R={id:u++,callback:j,priorityLevel:R,startTime:L,expirationTime:te,sortIndex:-1},L>G?(R.sortIndex=L,e(c,R),n(l)===null&&R===n(c)&&(y?(g(C),C=-1):y=!0,Me(w,L-G))):(R.sortIndex=te,e(l,R),m||f||(m=!0,he(x))),R},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(R){var j=h;return function(){var L=h;h=j;try{return R.apply(this,arguments)}finally{h=L}}}})(ty);ey.exports=ty;var ux=ey.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx=E,ht=ux;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ny=new Set,Wi={};function Ls(t,e){Sr(t,e),Sr(t+"Capture",e)}function Sr(t,e){for(Wi[t]=e,t=0;t<e.length;t++)ny.add(e[t])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gu=Object.prototype.hasOwnProperty,hx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nf={},Df={};function fx(t){return gu.call(Df,t)?!0:gu.call(Nf,t)?!1:hx.test(t)?Df[t]=!0:(Nf[t]=!0,!1)}function px(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gx(t,e,n,s){if(e===null||typeof e>"u"||px(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Je(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ae[t]=new Je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ae[e]=new Je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ae[t]=new Je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ae[t]=new Je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ae[t]=new Je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ae[t]=new Je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ae[t]=new Je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ae[t]=new Je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ae[t]=new Je(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yd=/[\-:]([a-z])/g;function Gd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yd,Gd);Ae[e]=new Je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yd,Gd);Ae[e]=new Je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yd,Gd);Ae[e]=new Je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ae[t]=new Je(t,1,!1,t.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ae[t]=new Je(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qd(t,e,n,s){var r=Ae.hasOwnProperty(e)?Ae[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gx(e,n,r,s)&&(n=null),s||r===null?fx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var Sn=dx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Do=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),er=Symbol.for("react.fragment"),Zd=Symbol.for("react.strict_mode"),mu=Symbol.for("react.profiler"),sy=Symbol.for("react.provider"),ry=Symbol.for("react.context"),eh=Symbol.for("react.forward_ref"),yu=Symbol.for("react.suspense"),vu=Symbol.for("react.suspense_list"),th=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),iy=Symbol.for("react.offscreen"),$f=Symbol.iterator;function qr(t){return t===null||typeof t!="object"?null:(t=$f&&t[$f]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,_c;function li(t){if(_c===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_c=e&&e[1]||""}return`
`+_c+t}var wc=!1;function xc(t,e){if(!t||wc)return"";wc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{wc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?li(t):""}function mx(t){switch(t.tag){case 5:return li(t.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 2:case 15:return t=xc(t.type,!1),t;case 11:return t=xc(t.type.render,!1),t;case 1:return t=xc(t.type,!0),t;default:return""}}function _u(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case er:return"Fragment";case Zs:return"Portal";case mu:return"Profiler";case Zd:return"StrictMode";case yu:return"Suspense";case vu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ry:return(t.displayName||"Context")+".Consumer";case sy:return(t._context.displayName||"Context")+".Provider";case eh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case th:return e=t.displayName||null,e!==null?e:_u(t.type)||"Memo";case Rn:e=t._payload,t=t._init;try{return _u(t(e))}catch{}}return null}function yx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _u(e);case 8:return e===Zd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vx(t){var e=oy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $o(t){t._valueTracker||(t._valueTracker=vx(t))}function ay(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=oy(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Ja(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wu(t,e){var n=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ff(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Qn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ly(t,e){e=e.checked,e!=null&&Qd(t,"checked",e,!1)}function xu(t,e){ly(t,e);var n=Qn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bu(t,e.type,n):e.hasOwnProperty("defaultValue")&&bu(t,e.type,Qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bu(t,e,n){(e!=="number"||Ja(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ci=Array.isArray;function hr(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Qn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ku(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(ci(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qn(n)}}function cy(t,e){var n=Qn(e.value),s=Qn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Uf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Su(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fo,dy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fo=Fo||document.createElement("div"),Fo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_x=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(t){_x.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Si[e]=Si[t]})});function hy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Si.hasOwnProperty(t)&&Si[t]?(""+e).trim():e+"px"}function fy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=hy(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var wx=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cu(t,e){if(e){if(wx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Eu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pu=null;function nh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ou=null,fr=null,pr=null;function Hf(t){if(t=bo(t)){if(typeof Ou!="function")throw Error(P(280));var e=t.stateNode;e&&(e=zl(e),Ou(t.stateNode,t.type,e))}}function py(t){fr?pr?pr.push(t):pr=[t]:fr=t}function gy(){if(fr){var t=fr,e=pr;if(pr=fr=null,Hf(t),e)for(t=0;t<e.length;t++)Hf(e[t])}}function my(t,e){return t(e)}function yy(){}var bc=!1;function vy(t,e,n){if(bc)return t(e,n);bc=!0;try{return my(t,e,n)}finally{bc=!1,(fr!==null||pr!==null)&&(yy(),gy())}}function Ki(t,e){var n=t.stateNode;if(n===null)return null;var s=zl(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Tu=!1;if(vn)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Tu=!1}function xx(t,e,n,s,r,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Ci=!1,Xa=null,Ya=!1,Au=null,bx={onError:function(t){Ci=!0,Xa=t}};function kx(t,e,n,s,r,i,o,a,l){Ci=!1,Xa=null,xx.apply(bx,arguments)}function Sx(t,e,n,s,r,i,o,a,l){if(kx.apply(this,arguments),Ci){if(Ci){var c=Xa;Ci=!1,Xa=null}else throw Error(P(198));Ya||(Ya=!0,Au=c)}}function Ns(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _y(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wf(t){if(Ns(t)!==t)throw Error(P(188))}function Cx(t){var e=t.alternate;if(!e){if(e=Ns(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Wf(r),t;if(i===s)return Wf(r),e;i=i.sibling}throw Error(P(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==s)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function wy(t){return t=Cx(t),t!==null?xy(t):null}function xy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xy(t);if(e!==null)return e;t=t.sibling}return null}var by=ht.unstable_scheduleCallback,Vf=ht.unstable_cancelCallback,Ex=ht.unstable_shouldYield,Px=ht.unstable_requestPaint,fe=ht.unstable_now,Ox=ht.unstable_getCurrentPriorityLevel,sh=ht.unstable_ImmediatePriority,ky=ht.unstable_UserBlockingPriority,Ga=ht.unstable_NormalPriority,Tx=ht.unstable_LowPriority,Sy=ht.unstable_IdlePriority,Nl=null,Zt=null;function Ax(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Nl,t,void 0,(t.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Ix,Rx=Math.log,Mx=Math.LN2;function Ix(t){return t>>>=0,t===0?32:31-(Rx(t)/Mx|0)|0}var zo=64,Bo=4194304;function ui(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qa(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=ui(a):(i&=o,i!==0&&(s=ui(i)))}else o=n&~r,o!==0?s=ui(o):i!==0&&(s=ui(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-$t(e),r=1<<n,s|=t[n],e&=~r;return s}function jx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lx(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$t(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=jx(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ru(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Cy(){var t=zo;return zo<<=1,!(zo&4194240)&&(zo=64),t}function kc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$t(e),t[e]=n}function Nx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-$t(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function rh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-$t(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var J=0;function Ey(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Py,ih,Oy,Ty,Ay,Mu=!1,Uo=[],Un=null,Hn=null,Wn=null,qi=new Map,Ji=new Map,jn=[],Dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kf(t,e){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":qi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(e.pointerId)}}function Xr(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=bo(e),e!==null&&ih(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function $x(t,e,n,s,r){switch(e){case"focusin":return Un=Xr(Un,t,e,n,s,r),!0;case"dragenter":return Hn=Xr(Hn,t,e,n,s,r),!0;case"mouseover":return Wn=Xr(Wn,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return qi.set(i,Xr(qi.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Ji.set(i,Xr(Ji.get(i)||null,t,e,n,s,r)),!0}return!1}function Ry(t){var e=_s(t.target);if(e!==null){var n=Ns(e);if(n!==null){if(e=n.tag,e===13){if(e=_y(n),e!==null){t.blockedOn=e,Ay(t.priority,function(){Oy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Iu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Pu=s,n.target.dispatchEvent(s),Pu=null}else return e=bo(n),e!==null&&ih(e),t.blockedOn=n,!1;e.shift()}return!0}function qf(t,e,n){Pa(t)&&n.delete(e)}function Fx(){Mu=!1,Un!==null&&Pa(Un)&&(Un=null),Hn!==null&&Pa(Hn)&&(Hn=null),Wn!==null&&Pa(Wn)&&(Wn=null),qi.forEach(qf),Ji.forEach(qf)}function Yr(t,e){t.blockedOn===e&&(t.blockedOn=null,Mu||(Mu=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,Fx)))}function Xi(t){function e(r){return Yr(r,t)}if(0<Uo.length){Yr(Uo[0],t);for(var n=1;n<Uo.length;n++){var s=Uo[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Un!==null&&Yr(Un,t),Hn!==null&&Yr(Hn,t),Wn!==null&&Yr(Wn,t),qi.forEach(e),Ji.forEach(e),n=0;n<jn.length;n++)s=jn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)Ry(n),n.blockedOn===null&&jn.shift()}var gr=Sn.ReactCurrentBatchConfig,Za=!0;function zx(t,e,n,s){var r=J,i=gr.transition;gr.transition=null;try{J=1,oh(t,e,n,s)}finally{J=r,gr.transition=i}}function Bx(t,e,n,s){var r=J,i=gr.transition;gr.transition=null;try{J=4,oh(t,e,n,s)}finally{J=r,gr.transition=i}}function oh(t,e,n,s){if(Za){var r=Iu(t,e,n,s);if(r===null)Ic(t,e,s,el,n),Kf(t,s);else if($x(r,t,e,n,s))s.stopPropagation();else if(Kf(t,s),e&4&&-1<Dx.indexOf(t)){for(;r!==null;){var i=bo(r);if(i!==null&&Py(i),i=Iu(t,e,n,s),i===null&&Ic(t,e,s,el,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Ic(t,e,s,null,n)}}var el=null;function Iu(t,e,n,s){if(el=null,t=nh(s),t=_s(t),t!==null)if(e=Ns(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_y(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return el=t,null}function My(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ox()){case sh:return 1;case ky:return 4;case Ga:case Tx:return 16;case Sy:return 536870912;default:return 16}default:return 16}}var $n=null,ah=null,Oa=null;function Iy(){if(Oa)return Oa;var t,e=ah,n=e.length,s,r="value"in $n?$n.value:$n.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return Oa=r.slice(t,1<s?1-s:void 0)}function Ta(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ho(){return!0}function Jf(){return!1}function pt(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ho:Jf,this.isPropagationStopped=Jf,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ho)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ho)},persist:function(){},isPersistent:Ho}),e}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lh=pt($r),xo=ue({},$r,{view:0,detail:0}),Ux=pt(xo),Sc,Cc,Gr,Dl=ue({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ch,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gr&&(Gr&&t.type==="mousemove"?(Sc=t.screenX-Gr.screenX,Cc=t.screenY-Gr.screenY):Cc=Sc=0,Gr=t),Sc)},movementY:function(t){return"movementY"in t?t.movementY:Cc}}),Xf=pt(Dl),Hx=ue({},Dl,{dataTransfer:0}),Wx=pt(Hx),Vx=ue({},xo,{relatedTarget:0}),Ec=pt(Vx),Kx=ue({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),qx=pt(Kx),Jx=ue({},$r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xx=pt(Jx),Yx=ue({},$r,{data:0}),Yf=pt(Yx),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zx[t])?!!e[t]:!1}function ch(){return eb}var tb=ue({},xo,{key:function(t){if(t.key){var e=Gx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ta(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ch,charCode:function(t){return t.type==="keypress"?Ta(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ta(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nb=pt(tb),sb=ue({},Dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gf=pt(sb),rb=ue({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ch}),ib=pt(rb),ob=ue({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),ab=pt(ob),lb=ue({},Dl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cb=pt(lb),ub=[9,13,27,32],uh=vn&&"CompositionEvent"in window,Ei=null;vn&&"documentMode"in document&&(Ei=document.documentMode);var db=vn&&"TextEvent"in window&&!Ei,jy=vn&&(!uh||Ei&&8<Ei&&11>=Ei),Qf=" ",Zf=!1;function Ly(t,e){switch(t){case"keyup":return ub.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ny(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tr=!1;function hb(t,e){switch(t){case"compositionend":return Ny(e);case"keypress":return e.which!==32?null:(Zf=!0,Qf);case"textInput":return t=e.data,t===Qf&&Zf?null:t;default:return null}}function fb(t,e){if(tr)return t==="compositionend"||!uh&&Ly(t,e)?(t=Iy(),Oa=ah=$n=null,tr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jy&&e.locale!=="ko"?null:e.data;default:return null}}var pb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pb[t.type]:e==="textarea"}function Dy(t,e,n,s){py(s),e=tl(e,"onChange"),0<e.length&&(n=new lh("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Pi=null,Yi=null;function gb(t){Jy(t,0)}function $l(t){var e=rr(t);if(ay(e))return t}function mb(t,e){if(t==="change")return e}var $y=!1;if(vn){var Pc;if(vn){var Oc="oninput"in document;if(!Oc){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),Oc=typeof tp.oninput=="function"}Pc=Oc}else Pc=!1;$y=Pc&&(!document.documentMode||9<document.documentMode)}function np(){Pi&&(Pi.detachEvent("onpropertychange",Fy),Yi=Pi=null)}function Fy(t){if(t.propertyName==="value"&&$l(Yi)){var e=[];Dy(e,Yi,t,nh(t)),vy(gb,e)}}function yb(t,e,n){t==="focusin"?(np(),Pi=e,Yi=n,Pi.attachEvent("onpropertychange",Fy)):t==="focusout"&&np()}function vb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $l(Yi)}function _b(t,e){if(t==="click")return $l(e)}function wb(t,e){if(t==="input"||t==="change")return $l(e)}function xb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zt=typeof Object.is=="function"?Object.is:xb;function Gi(t,e){if(zt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!gu.call(e,r)||!zt(t[r],e[r]))return!1}return!0}function sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rp(t,e){var n=sp(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sp(n)}}function zy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function By(){for(var t=window,e=Ja();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ja(t.document)}return e}function dh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bb(t){var e=By(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&zy(n.ownerDocument.documentElement,n)){if(s!==null&&dh(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=rp(n,i);var o=rp(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kb=vn&&"documentMode"in document&&11>=document.documentMode,nr=null,ju=null,Oi=null,Lu=!1;function ip(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lu||nr==null||nr!==Ja(s)||(s=nr,"selectionStart"in s&&dh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Oi&&Gi(Oi,s)||(Oi=s,s=tl(ju,"onSelect"),0<s.length&&(e=new lh("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=nr)))}function Wo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sr={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},Tc={},Uy={};vn&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function Fl(t){if(Tc[t])return Tc[t];if(!sr[t])return t;var e=sr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Uy)return Tc[t]=e[n];return t}var Hy=Fl("animationend"),Wy=Fl("animationiteration"),Vy=Fl("animationstart"),Ky=Fl("transitionend"),qy=new Map,op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(t,e){qy.set(t,e),Ls(e,[t])}for(var Ac=0;Ac<op.length;Ac++){var Rc=op[Ac],Sb=Rc.toLowerCase(),Cb=Rc[0].toUpperCase()+Rc.slice(1);ts(Sb,"on"+Cb)}ts(Hy,"onAnimationEnd");ts(Wy,"onAnimationIteration");ts(Vy,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(Ky,"onTransitionEnd");Sr("onMouseEnter",["mouseout","mouseover"]);Sr("onMouseLeave",["mouseout","mouseover"]);Sr("onPointerEnter",["pointerout","pointerover"]);Sr("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eb=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function ap(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Sx(s,e,void 0,t),t.currentTarget=null}function Jy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;ap(r,a,c),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;ap(r,a,c),i=l}}}if(Ya)throw t=Au,Ya=!1,Au=null,t}function ne(t,e){var n=e[zu];n===void 0&&(n=e[zu]=new Set);var s=t+"__bubble";n.has(s)||(Xy(e,t,2,!1),n.add(s))}function Mc(t,e,n){var s=0;e&&(s|=4),Xy(n,t,s,e)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function Qi(t){if(!t[Vo]){t[Vo]=!0,ny.forEach(function(n){n!=="selectionchange"&&(Eb.has(n)||Mc(n,!1,t),Mc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vo]||(e[Vo]=!0,Mc("selectionchange",!1,e))}}function Xy(t,e,n,s){switch(My(e)){case 1:var r=zx;break;case 4:r=Bx;break;default:r=oh}n=r.bind(null,e,n,t),r=void 0,!Tu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ic(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=_s(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}vy(function(){var c=i,u=nh(n),d=[];e:{var h=qy.get(t);if(h!==void 0){var f=lh,m=t;switch(t){case"keypress":if(Ta(n)===0)break e;case"keydown":case"keyup":f=nb;break;case"focusin":m="focus",f=Ec;break;case"focusout":m="blur",f=Ec;break;case"beforeblur":case"afterblur":f=Ec;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Wx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=ib;break;case Hy:case Wy:case Vy:f=qx;break;case Ky:f=ab;break;case"scroll":f=Ux;break;case"wheel":f=cb;break;case"copy":case"cut":case"paste":f=Xx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Gf}var y=(e&4)!==0,v=!y&&t==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var p=c,_;p!==null;){_=p;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,g!==null&&(w=Ki(p,g),w!=null&&y.push(Zi(p,w,_)))),v)break;p=p.return}0<y.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Pu&&(m=n.relatedTarget||n.fromElement)&&(_s(m)||m[_n]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?_s(m):null,m!==null&&(v=Ns(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(y=Xf,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=Gf,w="onPointerLeave",g="onPointerEnter",p="pointer"),v=f==null?h:rr(f),_=m==null?h:rr(m),h=new y(w,p+"leave",f,n,u),h.target=v,h.relatedTarget=_,w=null,_s(u)===c&&(y=new y(g,p+"enter",m,n,u),y.target=_,y.relatedTarget=v,w=y),v=w,f&&m)t:{for(y=f,g=m,p=0,_=y;_;_=Hs(_))p++;for(_=0,w=g;w;w=Hs(w))_++;for(;0<p-_;)y=Hs(y),p--;for(;0<_-p;)g=Hs(g),_--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=Hs(y),g=Hs(g)}y=null}else y=null;f!==null&&lp(d,h,f,y,!1),m!==null&&v!==null&&lp(d,v,m,y,!0)}}e:{if(h=c?rr(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=mb;else if(ep(h))if($y)x=wb;else{x=vb;var S=yb}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=_b);if(x&&(x=x(t,c))){Dy(d,x,n,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&bu(h,"number",h.value)}switch(S=c?rr(c):window,t){case"focusin":(ep(S)||S.contentEditable==="true")&&(nr=S,ju=c,Oi=null);break;case"focusout":Oi=ju=nr=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,ip(d,n,u);break;case"selectionchange":if(kb)break;case"keydown":case"keyup":ip(d,n,u)}var k;if(uh)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else tr?Ly(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(jy&&n.locale!=="ko"&&(tr||C!=="onCompositionStart"?C==="onCompositionEnd"&&tr&&(k=Iy()):($n=u,ah="value"in $n?$n.value:$n.textContent,tr=!0)),S=tl(c,C),0<S.length&&(C=new Yf(C,t,null,n,u),d.push({event:C,listeners:S}),k?C.data=k:(k=Ny(n),k!==null&&(C.data=k)))),(k=db?hb(t,n):fb(t,n))&&(c=tl(c,"onBeforeInput"),0<c.length&&(u=new Yf("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=k))}Jy(d,e)})}function Zi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function tl(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=Ki(t,n),i!=null&&s.unshift(Zi(t,i,r)),i=Ki(t,e),i!=null&&s.push(Zi(t,i,r))),t=t.return}return s}function Hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lp(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,r?(l=Ki(n,i),l!=null&&o.unshift(Zi(n,l,a))):r||(l=Ki(n,i),l!=null&&o.push(Zi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Pb=/\r\n?/g,Ob=/\u0000|\uFFFD/g;function cp(t){return(typeof t=="string"?t:""+t).replace(Pb,`
`).replace(Ob,"")}function Ko(t,e,n){if(e=cp(e),cp(t)!==e&&n)throw Error(P(425))}function nl(){}var Nu=null,Du=null;function $u(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fu=typeof setTimeout=="function"?setTimeout:void 0,Tb=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,Ab=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(t){return up.resolve(null).then(t).catch(Rb)}:Fu;function Rb(t){setTimeout(function(){throw t})}function jc(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Xi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Xi(e)}function Vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Fr,eo="__reactProps$"+Fr,_n="__reactContainer$"+Fr,zu="__reactEvents$"+Fr,Mb="__reactListeners$"+Fr,Ib="__reactHandles$"+Fr;function _s(t){var e=t[Gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_n]||n[Gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dp(t);t!==null;){if(n=t[Gt])return n;t=dp(t)}return e}t=n,n=t.parentNode}return null}function bo(t){return t=t[Gt]||t[_n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function zl(t){return t[eo]||null}var Bu=[],ir=-1;function ns(t){return{current:t}}function re(t){0>ir||(t.current=Bu[ir],Bu[ir]=null,ir--)}function Z(t,e){ir++,Bu[ir]=t.current,t.current=e}var Zn={},Fe=ns(Zn),nt=ns(!1),Ts=Zn;function Cr(t,e){var n=t.type.contextTypes;if(!n)return Zn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function st(t){return t=t.childContextTypes,t!=null}function sl(){re(nt),re(Fe)}function hp(t,e,n){if(Fe.current!==Zn)throw Error(P(168));Z(Fe,e),Z(nt,n)}function Yy(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(P(108,yx(t)||"Unknown",r));return ue({},n,s)}function rl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zn,Ts=Fe.current,Z(Fe,t),Z(nt,nt.current),!0}function fp(t,e,n){var s=t.stateNode;if(!s)throw Error(P(169));n?(t=Yy(t,e,Ts),s.__reactInternalMemoizedMergedChildContext=t,re(nt),re(Fe),Z(Fe,t)):re(nt),Z(nt,n)}var fn=null,Bl=!1,Lc=!1;function Gy(t){fn===null?fn=[t]:fn.push(t)}function jb(t){Bl=!0,Gy(t)}function ss(){if(!Lc&&fn!==null){Lc=!0;var t=0,e=J;try{var n=fn;for(J=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}fn=null,Bl=!1}catch(r){throw fn!==null&&(fn=fn.slice(t+1)),by(sh,ss),r}finally{J=e,Lc=!1}}return null}var or=[],ar=0,il=null,ol=0,yt=[],vt=0,As=null,gn=1,mn="";function ds(t,e){or[ar++]=ol,or[ar++]=il,il=t,ol=e}function Qy(t,e,n){yt[vt++]=gn,yt[vt++]=mn,yt[vt++]=As,As=t;var s=gn;t=mn;var r=32-$t(s)-1;s&=~(1<<r),n+=1;var i=32-$t(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,gn=1<<32-$t(e)+r|n<<r|s,mn=i+t}else gn=1<<i|n<<r|s,mn=t}function hh(t){t.return!==null&&(ds(t,1),Qy(t,1,0))}function fh(t){for(;t===il;)il=or[--ar],or[ar]=null,ol=or[--ar],or[ar]=null;for(;t===As;)As=yt[--vt],yt[vt]=null,mn=yt[--vt],yt[vt]=null,gn=yt[--vt],yt[vt]=null}var dt=null,ut=null,oe=!1,jt=null;function Zy(t,e){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dt=t,ut=Vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dt=t,ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:gn,overflow:mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dt=t,ut=null,!0):!1;default:return!1}}function Uu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hu(t){if(oe){var e=ut;if(e){var n=e;if(!pp(t,e)){if(Uu(t))throw Error(P(418));e=Vn(n.nextSibling);var s=dt;e&&pp(t,e)?Zy(s,n):(t.flags=t.flags&-4097|2,oe=!1,dt=t)}}else{if(Uu(t))throw Error(P(418));t.flags=t.flags&-4097|2,oe=!1,dt=t}}}function gp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dt=t}function qo(t){if(t!==dt)return!1;if(!oe)return gp(t),oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$u(t.type,t.memoizedProps)),e&&(e=ut)){if(Uu(t))throw e0(),Error(P(418));for(;e;)Zy(t,e),e=Vn(e.nextSibling)}if(gp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ut=Vn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ut=null}}else ut=dt?Vn(t.stateNode.nextSibling):null;return!0}function e0(){for(var t=ut;t;)t=Vn(t.nextSibling)}function Er(){ut=dt=null,oe=!1}function ph(t){jt===null?jt=[t]:jt.push(t)}var Lb=Sn.ReactCurrentBatchConfig;function Qr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var s=n.stateNode}if(!s)throw Error(P(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Jo(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mp(t){var e=t._init;return e(t._payload)}function t0(t){function e(g,p){if(t){var _=g.deletions;_===null?(g.deletions=[p],g.flags|=16):_.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function s(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function r(g,p){return g=Xn(g,p),g.index=0,g.sibling=null,g}function i(g,p,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<p?(g.flags|=2,p):_):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,_,w){return p===null||p.tag!==6?(p=Uc(_,g.mode,w),p.return=g,p):(p=r(p,_),p.return=g,p)}function l(g,p,_,w){var x=_.type;return x===er?u(g,p,_.props.children,w,_.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Rn&&mp(x)===p.type)?(w=r(p,_.props),w.ref=Qr(g,p,_),w.return=g,w):(w=Na(_.type,_.key,_.props,null,g.mode,w),w.ref=Qr(g,p,_),w.return=g,w)}function c(g,p,_,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==_.containerInfo||p.stateNode.implementation!==_.implementation?(p=Hc(_,g.mode,w),p.return=g,p):(p=r(p,_.children||[]),p.return=g,p)}function u(g,p,_,w,x){return p===null||p.tag!==7?(p=Ps(_,g.mode,w,x),p.return=g,p):(p=r(p,_),p.return=g,p)}function d(g,p,_){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Uc(""+p,g.mode,_),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Do:return _=Na(p.type,p.key,p.props,null,g.mode,_),_.ref=Qr(g,null,p),_.return=g,_;case Zs:return p=Hc(p,g.mode,_),p.return=g,p;case Rn:var w=p._init;return d(g,w(p._payload),_)}if(ci(p)||qr(p))return p=Ps(p,g.mode,_,null),p.return=g,p;Jo(g,p)}return null}function h(g,p,_,w){var x=p!==null?p.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(g,p,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Do:return _.key===x?l(g,p,_,w):null;case Zs:return _.key===x?c(g,p,_,w):null;case Rn:return x=_._init,h(g,p,x(_._payload),w)}if(ci(_)||qr(_))return x!==null?null:u(g,p,_,w,null);Jo(g,_)}return null}function f(g,p,_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(_)||null,a(p,g,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Do:return g=g.get(w.key===null?_:w.key)||null,l(p,g,w,x);case Zs:return g=g.get(w.key===null?_:w.key)||null,c(p,g,w,x);case Rn:var S=w._init;return f(g,p,_,S(w._payload),x)}if(ci(w)||qr(w))return g=g.get(_)||null,u(p,g,w,x,null);Jo(p,w)}return null}function m(g,p,_,w){for(var x=null,S=null,k=p,C=p=0,T=null;k!==null&&C<_.length;C++){k.index>C?(T=k,k=null):T=k.sibling;var O=h(g,k,_[C],w);if(O===null){k===null&&(k=T);break}t&&k&&O.alternate===null&&e(g,k),p=i(O,p,C),S===null?x=O:S.sibling=O,S=O,k=T}if(C===_.length)return n(g,k),oe&&ds(g,C),x;if(k===null){for(;C<_.length;C++)k=d(g,_[C],w),k!==null&&(p=i(k,p,C),S===null?x=k:S.sibling=k,S=k);return oe&&ds(g,C),x}for(k=s(g,k);C<_.length;C++)T=f(k,g,C,_[C],w),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?C:T.key),p=i(T,p,C),S===null?x=T:S.sibling=T,S=T);return t&&k.forEach(function(A){return e(g,A)}),oe&&ds(g,C),x}function y(g,p,_,w){var x=qr(_);if(typeof x!="function")throw Error(P(150));if(_=x.call(_),_==null)throw Error(P(151));for(var S=x=null,k=p,C=p=0,T=null,O=_.next();k!==null&&!O.done;C++,O=_.next()){k.index>C?(T=k,k=null):T=k.sibling;var A=h(g,k,O.value,w);if(A===null){k===null&&(k=T);break}t&&k&&A.alternate===null&&e(g,k),p=i(A,p,C),S===null?x=A:S.sibling=A,S=A,k=T}if(O.done)return n(g,k),oe&&ds(g,C),x;if(k===null){for(;!O.done;C++,O=_.next())O=d(g,O.value,w),O!==null&&(p=i(O,p,C),S===null?x=O:S.sibling=O,S=O);return oe&&ds(g,C),x}for(k=s(g,k);!O.done;C++,O=_.next())O=f(k,g,C,O.value,w),O!==null&&(t&&O.alternate!==null&&k.delete(O.key===null?C:O.key),p=i(O,p,C),S===null?x=O:S.sibling=O,S=O);return t&&k.forEach(function(N){return e(g,N)}),oe&&ds(g,C),x}function v(g,p,_,w){if(typeof _=="object"&&_!==null&&_.type===er&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Do:e:{for(var x=_.key,S=p;S!==null;){if(S.key===x){if(x=_.type,x===er){if(S.tag===7){n(g,S.sibling),p=r(S,_.props.children),p.return=g,g=p;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Rn&&mp(x)===S.type){n(g,S.sibling),p=r(S,_.props),p.ref=Qr(g,S,_),p.return=g,g=p;break e}n(g,S);break}else e(g,S);S=S.sibling}_.type===er?(p=Ps(_.props.children,g.mode,w,_.key),p.return=g,g=p):(w=Na(_.type,_.key,_.props,null,g.mode,w),w.ref=Qr(g,p,_),w.return=g,g=w)}return o(g);case Zs:e:{for(S=_.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===_.containerInfo&&p.stateNode.implementation===_.implementation){n(g,p.sibling),p=r(p,_.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Hc(_,g.mode,w),p.return=g,g=p}return o(g);case Rn:return S=_._init,v(g,p,S(_._payload),w)}if(ci(_))return m(g,p,_,w);if(qr(_))return y(g,p,_,w);Jo(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,p!==null&&p.tag===6?(n(g,p.sibling),p=r(p,_),p.return=g,g=p):(n(g,p),p=Uc(_,g.mode,w),p.return=g,g=p),o(g)):n(g,p)}return v}var Pr=t0(!0),n0=t0(!1),al=ns(null),ll=null,lr=null,gh=null;function mh(){gh=lr=ll=null}function yh(t){var e=al.current;re(al),t._currentValue=e}function Wu(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function mr(t,e){ll=t,gh=lr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tt=!0),t.firstContext=null)}function St(t){var e=t._currentValue;if(gh!==t)if(t={context:t,memoizedValue:e,next:null},lr===null){if(ll===null)throw Error(P(308));lr=t,ll.dependencies={lanes:0,firstContext:t}}else lr=lr.next=t;return e}var ws=null;function vh(t){ws===null?ws=[t]:ws.push(t)}function s0(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,vh(e)):(n.next=r.next,r.next=n),e.interleaved=n,wn(t,s)}function wn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mn=!1;function _h(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Kn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,W&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,wn(t,n)}return r=s.interleaved,r===null?(e.next=e,vh(s)):(e.next=r.next,r.next=e),s.interleaved=e,wn(t,n)}function Aa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,rh(t,n)}}function yp(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cl(t,e,n,s){var r=t.updateQueue;Mn=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=r.baseState;o=0,u=c=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((s&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,y=a;switch(h=e,f=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=ue({},d,h);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Ms|=o,t.lanes=o,t.memoizedState=d}}function vp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(P(191,r));r.call(s)}}}var ko={},en=ns(ko),to=ns(ko),no=ns(ko);function xs(t){if(t===ko)throw Error(P(174));return t}function wh(t,e){switch(Z(no,e),Z(to,t),Z(en,ko),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Su(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Su(e,t)}re(en),Z(en,e)}function Or(){re(en),re(to),re(no)}function i0(t){xs(no.current);var e=xs(en.current),n=Su(e,t.type);e!==n&&(Z(to,t),Z(en,n))}function xh(t){to.current===t&&(re(en),re(to))}var le=ns(0);function ul(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nc=[];function bh(){for(var t=0;t<Nc.length;t++)Nc[t]._workInProgressVersionPrimary=null;Nc.length=0}var Ra=Sn.ReactCurrentDispatcher,Dc=Sn.ReactCurrentBatchConfig,Rs=0,ce=null,_e=null,ke=null,dl=!1,Ti=!1,so=0,Nb=0;function Ie(){throw Error(P(321))}function kh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zt(t[n],e[n]))return!1;return!0}function Sh(t,e,n,s,r,i){if(Rs=i,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ra.current=t===null||t.memoizedState===null?zb:Bb,t=n(s,r),Ti){i=0;do{if(Ti=!1,so=0,25<=i)throw Error(P(301));i+=1,ke=_e=null,e.updateQueue=null,Ra.current=Ub,t=n(s,r)}while(Ti)}if(Ra.current=hl,e=_e!==null&&_e.next!==null,Rs=0,ke=_e=ce=null,dl=!1,e)throw Error(P(300));return t}function Ch(){var t=so!==0;return so=0,t}function qt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ce.memoizedState=ke=t:ke=ke.next=t,ke}function Ct(){if(_e===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var e=ke===null?ce.memoizedState:ke.next;if(e!==null)ke=e,_e=t;else{if(t===null)throw Error(P(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},ke===null?ce.memoizedState=ke=t:ke=ke.next=t}return ke}function ro(t,e){return typeof e=="function"?e(t):e}function $c(t){var e=Ct(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var s=_e,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Rs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=s):l=l.next=d,ce.lanes|=u,Ms|=u}c=c.next}while(c!==null&&c!==i);l===null?o=s:l.next=a,zt(s,e.memoizedState)||(tt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ce.lanes|=i,Ms|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fc(t){var e=Ct(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);zt(i,e.memoizedState)||(tt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function o0(){}function a0(t,e){var n=ce,s=Ct(),r=e(),i=!zt(s.memoizedState,r);if(i&&(s.memoizedState=r,tt=!0),s=s.queue,Eh(u0.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,io(9,c0.bind(null,n,s,r,e),void 0,null),Ce===null)throw Error(P(349));Rs&30||l0(n,e,r)}return r}function l0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c0(t,e,n,s){e.value=n,e.getSnapshot=s,d0(e)&&h0(t)}function u0(t,e,n){return n(function(){d0(e)&&h0(t)})}function d0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zt(t,n)}catch{return!0}}function h0(t){var e=wn(t,1);e!==null&&Ft(e,t,1,-1)}function _p(t){var e=qt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:t},e.queue=t,t=t.dispatch=Fb.bind(null,ce,t),[e.memoizedState,t]}function io(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function f0(){return Ct().memoizedState}function Ma(t,e,n,s){var r=qt();ce.flags|=t,r.memoizedState=io(1|e,n,void 0,s===void 0?null:s)}function Ul(t,e,n,s){var r=Ct();s=s===void 0?null:s;var i=void 0;if(_e!==null){var o=_e.memoizedState;if(i=o.destroy,s!==null&&kh(s,o.deps)){r.memoizedState=io(e,n,i,s);return}}ce.flags|=t,r.memoizedState=io(1|e,n,i,s)}function wp(t,e){return Ma(8390656,8,t,e)}function Eh(t,e){return Ul(2048,8,t,e)}function p0(t,e){return Ul(4,2,t,e)}function g0(t,e){return Ul(4,4,t,e)}function m0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function y0(t,e,n){return n=n!=null?n.concat([t]):null,Ul(4,4,m0.bind(null,e,t),n)}function Ph(){}function v0(t,e){var n=Ct();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&kh(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function _0(t,e){var n=Ct();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&kh(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function w0(t,e,n){return Rs&21?(zt(n,e)||(n=Cy(),ce.lanes|=n,Ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tt=!0),t.memoizedState=n)}function Db(t,e){var n=J;J=n!==0&&4>n?n:4,t(!0);var s=Dc.transition;Dc.transition={};try{t(!1),e()}finally{J=n,Dc.transition=s}}function x0(){return Ct().memoizedState}function $b(t,e,n){var s=Jn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},b0(t))k0(e,n);else if(n=s0(t,e,n,s),n!==null){var r=Ke();Ft(n,t,s,r),S0(n,e,s)}}function Fb(t,e,n){var s=Jn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(b0(t))k0(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,zt(a,o)){var l=e.interleaved;l===null?(r.next=r,vh(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=s0(t,e,r,s),n!==null&&(r=Ke(),Ft(n,t,s,r),S0(n,e,s))}}function b0(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function k0(t,e){Ti=dl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function S0(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,rh(t,n)}}var hl={readContext:St,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},zb={readContext:St,useCallback:function(t,e){return qt().memoizedState=[t,e===void 0?null:e],t},useContext:St,useEffect:wp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ma(4194308,4,m0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ma(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ma(4,2,t,e)},useMemo:function(t,e){var n=qt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=qt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=$b.bind(null,ce,t),[s.memoizedState,t]},useRef:function(t){var e=qt();return t={current:t},e.memoizedState=t},useState:_p,useDebugValue:Ph,useDeferredValue:function(t){return qt().memoizedState=t},useTransition:function(){var t=_p(!1),e=t[0];return t=Db.bind(null,t[1]),qt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ce,r=qt();if(oe){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Ce===null)throw Error(P(349));Rs&30||l0(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,wp(u0.bind(null,s,i,t),[t]),s.flags|=2048,io(9,c0.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=qt(),e=Ce.identifierPrefix;if(oe){var n=mn,s=gn;n=(s&~(1<<32-$t(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=so++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Nb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bb={readContext:St,useCallback:v0,useContext:St,useEffect:Eh,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:g0,useMemo:_0,useReducer:$c,useRef:f0,useState:function(){return $c(ro)},useDebugValue:Ph,useDeferredValue:function(t){var e=Ct();return w0(e,_e.memoizedState,t)},useTransition:function(){var t=$c(ro)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:o0,useSyncExternalStore:a0,useId:x0,unstable_isNewReconciler:!1},Ub={readContext:St,useCallback:v0,useContext:St,useEffect:Eh,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:g0,useMemo:_0,useReducer:Fc,useRef:f0,useState:function(){return Fc(ro)},useDebugValue:Ph,useDeferredValue:function(t){var e=Ct();return _e===null?e.memoizedState=t:w0(e,_e.memoizedState,t)},useTransition:function(){var t=Fc(ro)[0],e=Ct().memoizedState;return[t,e]},useMutableSource:o0,useSyncExternalStore:a0,useId:x0,unstable_isNewReconciler:!1};function At(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vu(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hl={isMounted:function(t){return(t=t._reactInternals)?Ns(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ke(),r=Jn(t),i=yn(s,r);i.payload=e,n!=null&&(i.callback=n),e=Kn(t,i,r),e!==null&&(Ft(e,t,r,s),Aa(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ke(),r=Jn(t),i=yn(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Kn(t,i,r),e!==null&&(Ft(e,t,r,s),Aa(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ke(),s=Jn(t),r=yn(n,s);r.tag=2,e!=null&&(r.callback=e),e=Kn(t,r,s),e!==null&&(Ft(e,t,s,n),Aa(e,t,s))}};function xp(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Gi(n,s)||!Gi(r,i):!0}function C0(t,e,n){var s=!1,r=Zn,i=e.contextType;return typeof i=="object"&&i!==null?i=St(i):(r=st(e)?Ts:Fe.current,s=e.contextTypes,i=(s=s!=null)?Cr(t,r):Zn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hl,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function bp(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Hl.enqueueReplaceState(e,e.state,null)}function Ku(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},_h(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=St(i):(i=st(e)?Ts:Fe.current,r.context=Cr(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Vu(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Hl.enqueueReplaceState(r,r.state,null),cl(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Tr(t,e){try{var n="",s=e;do n+=mx(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function zc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hb=typeof WeakMap=="function"?WeakMap:Map;function E0(t,e,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){pl||(pl=!0,sd=s),qu(t,e)},n}function P0(t,e,n){n=yn(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){qu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qu(t,e),typeof s!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kp(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Hb;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=s1.bind(null,t,e,n),e.then(t,t))}function Sp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cp(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yn(-1,1),e.tag=2,Kn(n,e,1))),n.lanes|=1),t)}var Wb=Sn.ReactCurrentOwner,tt=!1;function We(t,e,n,s){e.child=t===null?n0(e,null,n,s):Pr(e,t.child,n,s)}function Ep(t,e,n,s,r){n=n.render;var i=e.ref;return mr(e,r),s=Sh(t,e,n,s,i,r),n=Ch(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,xn(t,e,r)):(oe&&n&&hh(e),e.flags|=1,We(t,e,s,r),e.child)}function Pp(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Lh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,O0(t,e,i,s,r)):(t=Na(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gi,n(o,s)&&t.ref===e.ref)return xn(t,e,r)}return e.flags|=1,t=Xn(i,s),t.ref=e.ref,t.return=e,e.child=t}function O0(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Gi(i,s)&&t.ref===e.ref)if(tt=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(tt=!0);else return e.lanes=t.lanes,xn(t,e,r)}return Ju(t,e,n,s,r)}function T0(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(ur,ct),ct|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(ur,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,Z(ur,ct),ct|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,Z(ur,ct),ct|=s;return We(t,e,r,n),e.child}function A0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ju(t,e,n,s,r){var i=st(n)?Ts:Fe.current;return i=Cr(e,i),mr(e,r),n=Sh(t,e,n,s,i,r),s=Ch(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,xn(t,e,r)):(oe&&s&&hh(e),e.flags|=1,We(t,e,n,r),e.child)}function Op(t,e,n,s,r){if(st(n)){var i=!0;rl(e)}else i=!1;if(mr(e,r),e.stateNode===null)Ia(t,e),C0(e,n,s),Ku(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=St(c):(c=st(n)?Ts:Fe.current,c=Cr(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&bp(e,o,s,c),Mn=!1;var h=e.memoizedState;o.state=h,cl(e,s,o,r),l=e.memoizedState,a!==s||h!==l||nt.current||Mn?(typeof u=="function"&&(Vu(e,n,u,s),l=e.memoizedState),(a=Mn||xp(e,n,a,s,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,r0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:At(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=St(l):(l=st(n)?Ts:Fe.current,l=Cr(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&bp(e,o,s,l),Mn=!1,h=e.memoizedState,o.state=h,cl(e,s,o,r);var m=e.memoizedState;a!==d||h!==m||nt.current||Mn?(typeof f=="function"&&(Vu(e,n,f,s),m=e.memoizedState),(c=Mn||xp(e,n,c,s,h,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),o.props=s,o.state=m,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),s=!1)}return Xu(t,e,n,s,i,r)}function Xu(t,e,n,s,r,i){A0(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&fp(e,n,!1),xn(t,e,i);s=e.stateNode,Wb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Pr(e,t.child,null,i),e.child=Pr(e,null,a,i)):We(t,e,a,i),e.memoizedState=s.state,r&&fp(e,n,!0),e.child}function R0(t){var e=t.stateNode;e.pendingContext?hp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hp(t,e.context,!1),wh(t,e.containerInfo)}function Tp(t,e,n,s,r){return Er(),ph(r),e.flags|=256,We(t,e,n,s),e.child}var Yu={dehydrated:null,treeContext:null,retryLane:0};function Gu(t){return{baseLanes:t,cachePool:null,transitions:null}}function M0(t,e,n){var s=e.pendingProps,r=le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Z(le,r&1),t===null)return Hu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kl(o,s,0,null),t=Ps(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Gu(n),e.memoizedState=Yu,t):Oh(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Vb(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Xn(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Xn(a,i):(i=Ps(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?Gu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Yu,s}return i=t.child,t=i.sibling,s=Xn(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Oh(t,e){return e=Kl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xo(t,e,n,s){return s!==null&&ph(s),Pr(e,t.child,null,n),t=Oh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vb(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=zc(Error(P(422))),Xo(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Kl({mode:"visible",children:s.children},r,0,null),i=Ps(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&Pr(e,t.child,null,o),e.child.memoizedState=Gu(o),e.memoizedState=Yu,i);if(!(e.mode&1))return Xo(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(P(419)),s=zc(i,s,void 0),Xo(t,e,o,s)}if(a=(o&t.childLanes)!==0,tt||a){if(s=Ce,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,wn(t,r),Ft(s,t,r,-1))}return jh(),s=zc(Error(P(421))),Xo(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=r1.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,ut=Vn(r.nextSibling),dt=e,oe=!0,jt=null,t!==null&&(yt[vt++]=gn,yt[vt++]=mn,yt[vt++]=As,gn=t.id,mn=t.overflow,As=e),e=Oh(e,s.children),e.flags|=4096,e)}function Ap(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Wu(t.return,e,n)}function Bc(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function I0(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(We(t,e,s.children,n),s=le.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ap(t,n,e);else if(t.tag===19)Ap(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(Z(le,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ul(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Bc(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ul(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Bc(e,!0,n,null,i);break;case"together":Bc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ia(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Xn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kb(t,e,n){switch(e.tag){case 3:R0(e),Er();break;case 5:i0(e);break;case 1:st(e.type)&&rl(e);break;case 4:wh(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;Z(al,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(Z(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?M0(t,e,n):(Z(le,le.current&1),t=xn(t,e,n),t!==null?t.sibling:null);Z(le,le.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return I0(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Z(le,le.current),s)break;return null;case 22:case 23:return e.lanes=0,T0(t,e,n)}return xn(t,e,n)}var j0,Qu,L0,N0;j0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qu=function(){};L0=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,xs(en.current);var i=null;switch(n){case"input":r=wu(t,r),s=wu(t,s),i=[];break;case"select":r=ue({},r,{value:void 0}),s=ue({},s,{value:void 0}),i=[];break;case"textarea":r=ku(t,r),s=ku(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=nl)}Cu(n,s);var o;n=null;for(c in r)if(!s.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in s){var l=s[c];if(a=r!=null?r[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ne("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};N0=function(t,e,n,s){n!==s&&(e.flags|=4)};function Zr(t,e){if(!oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function je(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function qb(t,e,n){var s=e.pendingProps;switch(fh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(e),null;case 1:return st(e.type)&&sl(),je(e),null;case 3:return s=e.stateNode,Or(),re(nt),re(Fe),bh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(qo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jt!==null&&(od(jt),jt=null))),Qu(t,e),je(e),null;case 5:xh(e);var r=xs(no.current);if(n=e.type,t!==null&&e.stateNode!=null)L0(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(P(166));return je(e),null}if(t=xs(en.current),qo(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[Gt]=e,s[eo]=i,t=(e.mode&1)!==0,n){case"dialog":ne("cancel",s),ne("close",s);break;case"iframe":case"object":case"embed":ne("load",s);break;case"video":case"audio":for(r=0;r<di.length;r++)ne(di[r],s);break;case"source":ne("error",s);break;case"img":case"image":case"link":ne("error",s),ne("load",s);break;case"details":ne("toggle",s);break;case"input":Ff(s,i),ne("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ne("invalid",s);break;case"textarea":Bf(s,i),ne("invalid",s)}Cu(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ko(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ko(s.textContent,a,t),r=["children",""+a]):Wi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ne("scroll",s)}switch(n){case"input":$o(s),zf(s,i,!0);break;case"textarea":$o(s),Uf(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=nl)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[Gt]=e,t[eo]=s,j0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Eu(n,s),n){case"dialog":ne("cancel",t),ne("close",t),r=s;break;case"iframe":case"object":case"embed":ne("load",t),r=s;break;case"video":case"audio":for(r=0;r<di.length;r++)ne(di[r],t);r=s;break;case"source":ne("error",t),r=s;break;case"img":case"image":case"link":ne("error",t),ne("load",t),r=s;break;case"details":ne("toggle",t),r=s;break;case"input":Ff(t,s),r=wu(t,s),ne("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=ue({},s,{value:void 0}),ne("invalid",t);break;case"textarea":Bf(t,s),r=ku(t,s),ne("invalid",t);break;default:r=s}Cu(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?fy(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&dy(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vi(t,l):typeof l=="number"&&Vi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",t):l!=null&&Qd(t,i,l,o))}switch(n){case"input":$o(t),zf(t,s,!1);break;case"textarea":$o(t),Uf(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Qn(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?hr(t,!!s.multiple,i,!1):s.defaultValue!=null&&hr(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=nl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return je(e),null;case 6:if(t&&e.stateNode!=null)N0(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(P(166));if(n=xs(no.current),xs(en.current),qo(e)){if(s=e.stateNode,n=e.memoizedProps,s[Gt]=e,(i=s.nodeValue!==n)&&(t=dt,t!==null))switch(t.tag){case 3:Ko(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ko(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Gt]=e,e.stateNode=s}return je(e),null;case 13:if(re(le),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oe&&ut!==null&&e.mode&1&&!(e.flags&128))e0(),Er(),e.flags|=98560,i=!1;else if(i=qo(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Gt]=e}else Er(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;je(e),i=!1}else jt!==null&&(od(jt),jt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?we===0&&(we=3):jh())),e.updateQueue!==null&&(e.flags|=4),je(e),null);case 4:return Or(),Qu(t,e),t===null&&Qi(e.stateNode.containerInfo),je(e),null;case 10:return yh(e.type._context),je(e),null;case 17:return st(e.type)&&sl(),je(e),null;case 19:if(re(le),i=e.memoizedState,i===null)return je(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Zr(i,!1);else{if(we!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ul(t),o!==null){for(e.flags|=128,Zr(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(le,le.current&1|2),e.child}t=t.sibling}i.tail!==null&&fe()>Ar&&(e.flags|=128,s=!0,Zr(i,!1),e.lanes=4194304)}else{if(!s)if(t=ul(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!oe)return je(e),null}else 2*fe()-i.renderingStartTime>Ar&&n!==1073741824&&(e.flags|=128,s=!0,Zr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=fe(),e.sibling=null,n=le.current,Z(le,s?n&1|2:n&1),e):(je(e),null);case 22:case 23:return Ih(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ct&1073741824&&(je(e),e.subtreeFlags&6&&(e.flags|=8192)):je(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function Jb(t,e){switch(fh(e),e.tag){case 1:return st(e.type)&&sl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Or(),re(nt),re(Fe),bh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xh(e),null;case 13:if(re(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Er()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return re(le),null;case 4:return Or(),null;case 10:return yh(e.type._context),null;case 22:case 23:return Ih(),null;case 24:return null;default:return null}}var Yo=!1,De=!1,Xb=typeof WeakSet=="function"?WeakSet:Set,M=null;function cr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){de(t,e,s)}else n.current=null}function Zu(t,e,n){try{n()}catch(s){de(t,e,s)}}var Rp=!1;function Yb(t,e){if(Nu=Za,t=By(),dh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==i||s!==0&&d.nodeType!==3||(l=o+s),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=o),h===i&&++u===s&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Du={focusedElem:t,selectionRange:n},Za=!1,M=e;M!==null;)if(e=M,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,M=t;else for(;M!==null;){e=M;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:At(e.type,y),v);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){de(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,M=t;break}M=e.return}return m=Rp,Rp=!1,m}function Ai(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Zu(e,n,i)}r=r.next}while(r!==s)}}function Wl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function ed(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function D0(t){var e=t.alternate;e!==null&&(t.alternate=null,D0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gt],delete e[eo],delete e[zu],delete e[Mb],delete e[Ib])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $0(t){return t.tag===5||t.tag===3||t.tag===4}function Mp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function td(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=nl));else if(s!==4&&(t=t.child,t!==null))for(td(t,e,n),t=t.sibling;t!==null;)td(t,e,n),t=t.sibling}function nd(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(nd(t,e,n),t=t.sibling;t!==null;)nd(t,e,n),t=t.sibling}var Pe=null,Mt=!1;function Cn(t,e,n){for(n=n.child;n!==null;)F0(t,e,n),n=n.sibling}function F0(t,e,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Nl,n)}catch{}switch(n.tag){case 5:De||cr(n,e);case 6:var s=Pe,r=Mt;Pe=null,Cn(t,e,n),Pe=s,Mt=r,Pe!==null&&(Mt?(t=Pe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(Mt?(t=Pe,n=n.stateNode,t.nodeType===8?jc(t.parentNode,n):t.nodeType===1&&jc(t,n),Xi(t)):jc(Pe,n.stateNode));break;case 4:s=Pe,r=Mt,Pe=n.stateNode.containerInfo,Mt=!0,Cn(t,e,n),Pe=s,Mt=r;break;case 0:case 11:case 14:case 15:if(!De&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Zu(n,e,o),r=r.next}while(r!==s)}Cn(t,e,n);break;case 1:if(!De&&(cr(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){de(n,e,a)}Cn(t,e,n);break;case 21:Cn(t,e,n);break;case 22:n.mode&1?(De=(s=De)||n.memoizedState!==null,Cn(t,e,n),De=s):Cn(t,e,n);break;default:Cn(t,e,n)}}function Ip(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Xb),e.forEach(function(s){var r=i1.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Ot(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,Mt=!1;break e;case 3:Pe=a.stateNode.containerInfo,Mt=!0;break e;case 4:Pe=a.stateNode.containerInfo,Mt=!0;break e}a=a.return}if(Pe===null)throw Error(P(160));F0(i,o,r),Pe=null,Mt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){de(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)z0(e,t),e=e.sibling}function z0(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ot(e,t),Ut(t),s&4){try{Ai(3,t,t.return),Wl(3,t)}catch(y){de(t,t.return,y)}try{Ai(5,t,t.return)}catch(y){de(t,t.return,y)}}break;case 1:Ot(e,t),Ut(t),s&512&&n!==null&&cr(n,n.return);break;case 5:if(Ot(e,t),Ut(t),s&512&&n!==null&&cr(n,n.return),t.flags&32){var r=t.stateNode;try{Vi(r,"")}catch(y){de(t,t.return,y)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ly(r,i),Eu(a,o);var c=Eu(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?fy(r,d):u==="dangerouslySetInnerHTML"?dy(r,d):u==="children"?Vi(r,d):Qd(r,u,d,c)}switch(a){case"input":xu(r,i);break;case"textarea":cy(r,i);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?hr(r,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?hr(r,!!i.multiple,i.defaultValue,!0):hr(r,!!i.multiple,i.multiple?[]:"",!1))}r[eo]=i}catch(y){de(t,t.return,y)}}break;case 6:if(Ot(e,t),Ut(t),s&4){if(t.stateNode===null)throw Error(P(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(y){de(t,t.return,y)}}break;case 3:if(Ot(e,t),Ut(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Xi(e.containerInfo)}catch(y){de(t,t.return,y)}break;case 4:Ot(e,t),Ut(t);break;case 13:Ot(e,t),Ut(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Rh=fe())),s&4&&Ip(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(De=(c=De)||u,Ot(e,t),De=c):Ot(e,t),Ut(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(M=t,u=t.child;u!==null;){for(d=M=u;M!==null;){switch(h=M,f=h.child,h.tag){case 0:case 11:case 14:case 15:Ai(4,h,h.return);break;case 1:cr(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){s=h,n=h.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){de(s,n,y)}}break;case 5:cr(h,h.return);break;case 22:if(h.memoizedState!==null){Lp(d);continue}}f!==null?(f.return=h,M=f):Lp(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hy("display",o))}catch(y){de(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){de(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ot(e,t),Ut(t),s&4&&Ip(t);break;case 21:break;default:Ot(e,t),Ut(t)}}function Ut(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($0(n)){var s=n;break e}n=n.return}throw Error(P(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Vi(r,""),s.flags&=-33);var i=Mp(t);nd(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Mp(t);td(t,a,o);break;default:throw Error(P(161))}}catch(l){de(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Gb(t,e,n){M=t,B0(t)}function B0(t,e,n){for(var s=(t.mode&1)!==0;M!==null;){var r=M,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Yo;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||De;a=Yo;var c=De;if(Yo=o,(De=l)&&!c)for(M=r;M!==null;)o=M,l=o.child,o.tag===22&&o.memoizedState!==null?Np(r):l!==null?(l.return=o,M=l):Np(r);for(;i!==null;)M=i,B0(i),i=i.sibling;M=r,Yo=a,De=c}jp(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,M=i):jp(t)}}function jp(t){for(;M!==null;){var e=M;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:De||Wl(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!De)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:At(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vp(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vp(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Xi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}De||e.flags&512&&ed(e)}catch(h){de(e,e.return,h)}}if(e===t){M=null;break}if(n=e.sibling,n!==null){n.return=e.return,M=n;break}M=e.return}}function Lp(t){for(;M!==null;){var e=M;if(e===t){M=null;break}var n=e.sibling;if(n!==null){n.return=e.return,M=n;break}M=e.return}}function Np(t){for(;M!==null;){var e=M;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wl(4,e)}catch(l){de(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){de(e,r,l)}}var i=e.return;try{ed(e)}catch(l){de(e,i,l)}break;case 5:var o=e.return;try{ed(e)}catch(l){de(e,o,l)}}}catch(l){de(e,e.return,l)}if(e===t){M=null;break}var a=e.sibling;if(a!==null){a.return=e.return,M=a;break}M=e.return}}var Qb=Math.ceil,fl=Sn.ReactCurrentDispatcher,Th=Sn.ReactCurrentOwner,bt=Sn.ReactCurrentBatchConfig,W=0,Ce=null,ge=null,Te=0,ct=0,ur=ns(0),we=0,oo=null,Ms=0,Vl=0,Ah=0,Ri=null,Qe=null,Rh=0,Ar=1/0,dn=null,pl=!1,sd=null,qn=null,Go=!1,Fn=null,gl=0,Mi=0,rd=null,ja=-1,La=0;function Ke(){return W&6?fe():ja!==-1?ja:ja=fe()}function Jn(t){return t.mode&1?W&2&&Te!==0?Te&-Te:Lb.transition!==null?(La===0&&(La=Cy()),La):(t=J,t!==0||(t=window.event,t=t===void 0?16:My(t.type)),t):1}function Ft(t,e,n,s){if(50<Mi)throw Mi=0,rd=null,Error(P(185));wo(t,n,s),(!(W&2)||t!==Ce)&&(t===Ce&&(!(W&2)&&(Vl|=n),we===4&&Ln(t,Te)),rt(t,s),n===1&&W===0&&!(e.mode&1)&&(Ar=fe()+500,Bl&&ss()))}function rt(t,e){var n=t.callbackNode;Lx(t,e);var s=Qa(t,t===Ce?Te:0);if(s===0)n!==null&&Vf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Vf(n),e===1)t.tag===0?jb(Dp.bind(null,t)):Gy(Dp.bind(null,t)),Ab(function(){!(W&6)&&ss()}),n=null;else{switch(Ey(s)){case 1:n=sh;break;case 4:n=ky;break;case 16:n=Ga;break;case 536870912:n=Sy;break;default:n=Ga}n=X0(n,U0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function U0(t,e){if(ja=-1,La=0,W&6)throw Error(P(327));var n=t.callbackNode;if(yr()&&t.callbackNode!==n)return null;var s=Qa(t,t===Ce?Te:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=ml(t,s);else{e=s;var r=W;W|=2;var i=W0();(Ce!==t||Te!==e)&&(dn=null,Ar=fe()+500,Es(t,e));do try{t1();break}catch(a){H0(t,a)}while(!0);mh(),fl.current=i,W=r,ge!==null?e=0:(Ce=null,Te=0,e=we)}if(e!==0){if(e===2&&(r=Ru(t),r!==0&&(s=r,e=id(t,r))),e===1)throw n=oo,Es(t,0),Ln(t,s),rt(t,fe()),n;if(e===6)Ln(t,s);else{if(r=t.current.alternate,!(s&30)&&!Zb(r)&&(e=ml(t,s),e===2&&(i=Ru(t),i!==0&&(s=i,e=id(t,i))),e===1))throw n=oo,Es(t,0),Ln(t,s),rt(t,fe()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(P(345));case 2:hs(t,Qe,dn);break;case 3:if(Ln(t,s),(s&130023424)===s&&(e=Rh+500-fe(),10<e)){if(Qa(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Ke(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Fu(hs.bind(null,t,Qe,dn),e);break}hs(t,Qe,dn);break;case 4:if(Ln(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-$t(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=fe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Qb(s/1960))-s,10<s){t.timeoutHandle=Fu(hs.bind(null,t,Qe,dn),s);break}hs(t,Qe,dn);break;case 5:hs(t,Qe,dn);break;default:throw Error(P(329))}}}return rt(t,fe()),t.callbackNode===n?U0.bind(null,t):null}function id(t,e){var n=Ri;return t.current.memoizedState.isDehydrated&&(Es(t,e).flags|=256),t=ml(t,e),t!==2&&(e=Qe,Qe=n,e!==null&&od(e)),t}function od(t){Qe===null?Qe=t:Qe.push.apply(Qe,t)}function Zb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!zt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ln(t,e){for(e&=~Ah,e&=~Vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$t(e),s=1<<n;t[n]=-1,e&=~s}}function Dp(t){if(W&6)throw Error(P(327));yr();var e=Qa(t,0);if(!(e&1))return rt(t,fe()),null;var n=ml(t,e);if(t.tag!==0&&n===2){var s=Ru(t);s!==0&&(e=s,n=id(t,s))}if(n===1)throw n=oo,Es(t,0),Ln(t,e),rt(t,fe()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,Qe,dn),rt(t,fe()),null}function Mh(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(Ar=fe()+500,Bl&&ss())}}function Is(t){Fn!==null&&Fn.tag===0&&!(W&6)&&yr();var e=W;W|=1;var n=bt.transition,s=J;try{if(bt.transition=null,J=1,t)return t()}finally{J=s,bt.transition=n,W=e,!(W&6)&&ss()}}function Ih(){ct=ur.current,re(ur)}function Es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Tb(n)),ge!==null)for(n=ge.return;n!==null;){var s=n;switch(fh(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&sl();break;case 3:Or(),re(nt),re(Fe),bh();break;case 5:xh(s);break;case 4:Or();break;case 13:re(le);break;case 19:re(le);break;case 10:yh(s.type._context);break;case 22:case 23:Ih()}n=n.return}if(Ce=t,ge=t=Xn(t.current,null),Te=ct=e,we=0,oo=null,Ah=Vl=Ms=0,Qe=Ri=null,ws!==null){for(e=0;e<ws.length;e++)if(n=ws[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}ws=null}return t}function H0(t,e){do{var n=ge;try{if(mh(),Ra.current=hl,dl){for(var s=ce.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}dl=!1}if(Rs=0,ke=_e=ce=null,Ti=!1,so=0,Th.current=null,n===null||n.return===null){we=1,oo=e,ge=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Te,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Sp(o);if(f!==null){f.flags&=-257,Cp(f,o,a,i,e),f.mode&1&&kp(i,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){kp(i,c,e),jh();break e}l=Error(P(426))}}else if(oe&&a.mode&1){var v=Sp(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Cp(v,o,a,i,e),ph(Tr(l,a));break e}}i=l=Tr(l,a),we!==4&&(we=2),Ri===null?Ri=[i]:Ri.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=E0(i,l,e);yp(i,g);break e;case 1:a=l;var p=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(qn===null||!qn.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=P0(i,a,e);yp(i,w);break e}}i=i.return}while(i!==null)}K0(n)}catch(x){e=x,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function W0(){var t=fl.current;return fl.current=hl,t===null?hl:t}function jh(){(we===0||we===3||we===2)&&(we=4),Ce===null||!(Ms&268435455)&&!(Vl&268435455)||Ln(Ce,Te)}function ml(t,e){var n=W;W|=2;var s=W0();(Ce!==t||Te!==e)&&(dn=null,Es(t,e));do try{e1();break}catch(r){H0(t,r)}while(!0);if(mh(),W=n,fl.current=s,ge!==null)throw Error(P(261));return Ce=null,Te=0,we}function e1(){for(;ge!==null;)V0(ge)}function t1(){for(;ge!==null&&!Ex();)V0(ge)}function V0(t){var e=J0(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?K0(t):ge=e,Th.current=null}function K0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jb(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{we=6,ge=null;return}}else if(n=qb(n,e,ct),n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);we===0&&(we=5)}function hs(t,e,n){var s=J,r=bt.transition;try{bt.transition=null,J=1,n1(t,e,n,s)}finally{bt.transition=r,J=s}return null}function n1(t,e,n,s){do yr();while(Fn!==null);if(W&6)throw Error(P(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Nx(t,i),t===Ce&&(ge=Ce=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Go||(Go=!0,X0(Ga,function(){return yr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bt.transition,bt.transition=null;var o=J;J=1;var a=W;W|=4,Th.current=null,Yb(t,n),z0(n,t),bb(Du),Za=!!Nu,Du=Nu=null,t.current=n,Gb(n),Px(),W=a,J=o,bt.transition=i}else t.current=n;if(Go&&(Go=!1,Fn=t,gl=r),i=t.pendingLanes,i===0&&(qn=null),Ax(n.stateNode),rt(t,fe()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(pl)throw pl=!1,t=sd,sd=null,t;return gl&1&&t.tag!==0&&yr(),i=t.pendingLanes,i&1?t===rd?Mi++:(Mi=0,rd=t):Mi=0,ss(),null}function yr(){if(Fn!==null){var t=Ey(gl),e=bt.transition,n=J;try{if(bt.transition=null,J=16>t?16:t,Fn===null)var s=!1;else{if(t=Fn,Fn=null,gl=0,W&6)throw Error(P(331));var r=W;for(W|=4,M=t.current;M!==null;){var i=M,o=i.child;if(M.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(M=c;M!==null;){var u=M;switch(u.tag){case 0:case 11:case 15:Ai(8,u,i)}var d=u.child;if(d!==null)d.return=u,M=d;else for(;M!==null;){u=M;var h=u.sibling,f=u.return;if(D0(u),u===c){M=null;break}if(h!==null){h.return=f,M=h;break}M=f}}}var m=i.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}M=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,M=o;else e:for(;M!==null;){if(i=M,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ai(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,M=g;break e}M=i.return}}var p=t.current;for(M=p;M!==null;){o=M;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,M=_;else e:for(o=p;M!==null;){if(a=M,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wl(9,a)}}catch(x){de(a,a.return,x)}if(a===o){M=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,M=w;break e}M=a.return}}if(W=r,ss(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Nl,t)}catch{}s=!0}return s}finally{J=n,bt.transition=e}}return!1}function $p(t,e,n){e=Tr(n,e),e=E0(t,e,1),t=Kn(t,e,1),e=Ke(),t!==null&&(wo(t,1,e),rt(t,e))}function de(t,e,n){if(t.tag===3)$p(t,t,n);else for(;e!==null;){if(e.tag===3){$p(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(qn===null||!qn.has(s))){t=Tr(n,t),t=P0(e,t,1),e=Kn(e,t,1),t=Ke(),e!==null&&(wo(e,1,t),rt(e,t));break}}e=e.return}}function s1(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&n,Ce===t&&(Te&n)===n&&(we===4||we===3&&(Te&130023424)===Te&&500>fe()-Rh?Es(t,0):Ah|=n),rt(t,e)}function q0(t,e){e===0&&(t.mode&1?(e=Bo,Bo<<=1,!(Bo&130023424)&&(Bo=4194304)):e=1);var n=Ke();t=wn(t,e),t!==null&&(wo(t,e,n),rt(t,n))}function r1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),q0(t,n)}function i1(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(P(314))}s!==null&&s.delete(e),q0(t,n)}var J0;J0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tt=!1,Kb(t,e,n);tt=!!(t.flags&131072)}else tt=!1,oe&&e.flags&1048576&&Qy(e,ol,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ia(t,e),t=e.pendingProps;var r=Cr(e,Fe.current);mr(e,n),r=Sh(null,e,s,t,r,n);var i=Ch();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,st(s)?(i=!0,rl(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,_h(e),r.updater=Hl,e.stateNode=r,r._reactInternals=e,Ku(e,s,t,n),e=Xu(null,e,s,!0,i,n)):(e.tag=0,oe&&i&&hh(e),We(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Ia(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=a1(s),t=At(s,t),r){case 0:e=Ju(null,e,s,t,n);break e;case 1:e=Op(null,e,s,t,n);break e;case 11:e=Ep(null,e,s,t,n);break e;case 14:e=Pp(null,e,s,At(s.type,t),n);break e}throw Error(P(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:At(s,r),Ju(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:At(s,r),Op(t,e,s,r,n);case 3:e:{if(R0(e),t===null)throw Error(P(387));s=e.pendingProps,i=e.memoizedState,r=i.element,r0(t,e),cl(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=Tr(Error(P(423)),e),e=Tp(t,e,s,n,r);break e}else if(s!==r){r=Tr(Error(P(424)),e),e=Tp(t,e,s,n,r);break e}else for(ut=Vn(e.stateNode.containerInfo.firstChild),dt=e,oe=!0,jt=null,n=n0(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Er(),s===r){e=xn(t,e,n);break e}We(t,e,s,n)}e=e.child}return e;case 5:return i0(e),t===null&&Hu(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,$u(s,r)?o=null:i!==null&&$u(s,i)&&(e.flags|=32),A0(t,e),We(t,e,o,n),e.child;case 6:return t===null&&Hu(e),null;case 13:return M0(t,e,n);case 4:return wh(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Pr(e,null,s,n):We(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:At(s,r),Ep(t,e,s,r,n);case 7:return We(t,e,e.pendingProps,n),e.child;case 8:return We(t,e,e.pendingProps.children,n),e.child;case 12:return We(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,Z(al,s._currentValue),s._currentValue=o,i!==null)if(zt(i.value,o)){if(i.children===r.children&&!nt.current){e=xn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=yn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Wu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}We(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,mr(e,n),r=St(r),s=s(r),e.flags|=1,We(t,e,s,n),e.child;case 14:return s=e.type,r=At(s,e.pendingProps),r=At(s.type,r),Pp(t,e,s,r,n);case 15:return O0(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:At(s,r),Ia(t,e),e.tag=1,st(s)?(t=!0,rl(e)):t=!1,mr(e,n),C0(e,s,r),Ku(e,s,r,n),Xu(null,e,s,!0,t,n);case 19:return I0(t,e,n);case 22:return T0(t,e,n)}throw Error(P(156,e.tag))};function X0(t,e){return by(t,e)}function o1(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(t,e,n,s){return new o1(t,e,n,s)}function Lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a1(t){if(typeof t=="function")return Lh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eh)return 11;if(t===th)return 14}return 2}function Xn(t,e){var n=t.alternate;return n===null?(n=_t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Na(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")Lh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case er:return Ps(n.children,r,i,e);case Zd:o=8,r|=8;break;case mu:return t=_t(12,n,e,r|2),t.elementType=mu,t.lanes=i,t;case yu:return t=_t(13,n,e,r),t.elementType=yu,t.lanes=i,t;case vu:return t=_t(19,n,e,r),t.elementType=vu,t.lanes=i,t;case iy:return Kl(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sy:o=10;break e;case ry:o=9;break e;case eh:o=11;break e;case th:o=14;break e;case Rn:o=16,s=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=_t(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Ps(t,e,n,s){return t=_t(7,t,s,e),t.lanes=n,t}function Kl(t,e,n,s){return t=_t(22,t,s,e),t.elementType=iy,t.lanes=n,t.stateNode={isHidden:!1},t}function Uc(t,e,n){return t=_t(6,t,null,e),t.lanes=n,t}function Hc(t,e,n){return e=_t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l1(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kc(0),this.expirationTimes=kc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Nh(t,e,n,s,r,i,o,a,l){return t=new l1(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=_t(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_h(i),t}function c1(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Y0(t){if(!t)return Zn;t=t._reactInternals;e:{if(Ns(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(st(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(st(n))return Yy(t,n,e)}return e}function G0(t,e,n,s,r,i,o,a,l){return t=Nh(n,s,!0,t,r,i,o,a,l),t.context=Y0(null),n=t.current,s=Ke(),r=Jn(n),i=yn(s,r),i.callback=e??null,Kn(n,i,r),t.current.lanes=r,wo(t,r,s),rt(t,s),t}function ql(t,e,n,s){var r=e.current,i=Ke(),o=Jn(r);return n=Y0(n),e.context===null?e.context=n:e.pendingContext=n,e=yn(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Kn(r,e,o),t!==null&&(Ft(t,r,o,i),Aa(t,r,o)),o}function yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dh(t,e){Fp(t,e),(t=t.alternate)&&Fp(t,e)}function u1(){return null}var Q0=typeof reportError=="function"?reportError:function(t){console.error(t)};function $h(t){this._internalRoot=t}Jl.prototype.render=$h.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));ql(t,e,null,null)};Jl.prototype.unmount=$h.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Is(function(){ql(null,t,null,null)}),e[_n]=null}};function Jl(t){this._internalRoot=t}Jl.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ty();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jn.length&&e!==0&&e<jn[n].priority;n++);jn.splice(n,0,t),n===0&&Ry(t)}};function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zp(){}function d1(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var c=yl(o);i.call(c)}}var o=G0(e,s,t,0,null,!1,!1,"",zp);return t._reactRootContainer=o,t[_n]=o.current,Qi(t.nodeType===8?t.parentNode:t),Is(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var c=yl(l);a.call(c)}}var l=Nh(t,0,!1,null,null,!1,!1,"",zp);return t._reactRootContainer=l,t[_n]=l.current,Qi(t.nodeType===8?t.parentNode:t),Is(function(){ql(e,l,n,s)}),l}function Yl(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=yl(o);a.call(l)}}ql(e,o,t,r)}else o=d1(n,e,t,r,s);return yl(o)}Py=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ui(e.pendingLanes);n!==0&&(rh(e,n|1),rt(e,fe()),!(W&6)&&(Ar=fe()+500,ss()))}break;case 13:Is(function(){var s=wn(t,1);if(s!==null){var r=Ke();Ft(s,t,1,r)}}),Dh(t,1)}};ih=function(t){if(t.tag===13){var e=wn(t,134217728);if(e!==null){var n=Ke();Ft(e,t,134217728,n)}Dh(t,134217728)}};Oy=function(t){if(t.tag===13){var e=Jn(t),n=wn(t,e);if(n!==null){var s=Ke();Ft(n,t,e,s)}Dh(t,e)}};Ty=function(){return J};Ay=function(t,e){var n=J;try{return J=t,e()}finally{J=n}};Ou=function(t,e,n){switch(e){case"input":if(xu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=zl(s);if(!r)throw Error(P(90));ay(s),xu(s,r)}}}break;case"textarea":cy(t,n);break;case"select":e=n.value,e!=null&&hr(t,!!n.multiple,e,!1)}};my=Mh;yy=Is;var h1={usingClientEntryPoint:!1,Events:[bo,rr,zl,py,gy,Mh]},ei={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f1={bundleType:ei.bundleType,version:ei.version,rendererPackageName:ei.rendererPackageName,rendererConfig:ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wy(t),t===null?null:t.stateNode},findFiberByHostInstance:ei.findFiberByHostInstance||u1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qo.isDisabled&&Qo.supportsFiber)try{Nl=Qo.inject(f1),Zt=Qo}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h1;ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fh(e))throw Error(P(200));return c1(t,e,null,n)};ft.createRoot=function(t,e){if(!Fh(t))throw Error(P(299));var n=!1,s="",r=Q0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Nh(t,1,!1,null,null,n,!1,s,r),t[_n]=e.current,Qi(t.nodeType===8?t.parentNode:t),new $h(e)};ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=wy(e),t=t===null?null:t.stateNode,t};ft.flushSync=function(t){return Is(t)};ft.hydrate=function(t,e,n){if(!Xl(e))throw Error(P(200));return Yl(null,t,e,!0,n)};ft.hydrateRoot=function(t,e,n){if(!Fh(t))throw Error(P(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=Q0;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=G0(e,null,t,1,n??null,r,!1,i,o),t[_n]=e.current,Qi(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Jl(e)};ft.render=function(t,e,n){if(!Xl(e))throw Error(P(200));return Yl(null,t,e,!1,n)};ft.unmountComponentAtNode=function(t){if(!Xl(t))throw Error(P(40));return t._reactRootContainer?(Is(function(){Yl(null,null,t,!1,function(){t._reactRootContainer=null,t[_n]=null})}),!0):!1};ft.unstable_batchedUpdates=Mh;ft.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Xl(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Yl(t,e,n,!1,s)};ft.version="18.3.1-next-f1338f8080-20240426";function Z0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z0)}catch(t){console.error(t)}}Z0(),Zm.exports=ft;var p1=Zm.exports,ev,Bp=p1;ev=Bp.createRoot,Bp.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ao(){return ao=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ao.apply(this,arguments)}var zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zn||(zn={}));const Up="popstate";function g1(t){t===void 0&&(t={});function e(s,r){let{pathname:i,search:o,hash:a}=s.location;return ad("",{pathname:i,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:vl(r)}return y1(e,n,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m1(){return Math.random().toString(36).substr(2,8)}function Hp(t,e){return{usr:t.state,key:t.key,idx:e}}function ad(t,e,n,s){return n===void 0&&(n=null),ao({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zr(e):e,{state:n,key:e&&e.key||s||m1()})}function vl(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function zr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function y1(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,o=r.history,a=zn.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ao({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=zn.Pop;let v=u(),g=v==null?null:v-c;c=v,l&&l({action:a,location:y.location,delta:g})}function h(v,g){a=zn.Push;let p=ad(y.location,v,g);c=u()+1;let _=Hp(p,c),w=y.createHref(p);try{o.pushState(_,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;r.location.assign(w)}i&&l&&l({action:a,location:y.location,delta:1})}function f(v,g){a=zn.Replace;let p=ad(y.location,v,g);c=u();let _=Hp(p,c),w=y.createHref(p);o.replaceState(_,"",w),i&&l&&l({action:a,location:y.location,delta:0})}function m(v){let g=r.location.origin!=="null"?r.location.origin:r.location.href,p=typeof v=="string"?v:vl(v);return p=p.replace(/ $/,"%20"),me(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return t(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Up,d),l=v,()=>{r.removeEventListener(Up,d),l=null}},createHref(v){return e(r,v)},createURL:m,encodeLocation(v){let g=m(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:f,go(v){return o.go(v)}};return y}var Wp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wp||(Wp={}));function v1(t,e,n){return n===void 0&&(n="/"),_1(t,e,n,!1)}function _1(t,e,n,s){let r=typeof e=="string"?zr(e):e,i=zh(r.pathname||"/",n);if(i==null)return null;let o=nv(t);w1(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=R1(i);a=T1(o[l],c,s)}return a}function nv(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(me(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let c=Yn([s,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nv(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:P1(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))r(i,o);else for(let l of sv(i.path))r(i,o,l)}),e}function sv(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let o=sv(s.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function w1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:O1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const x1=/^:[\w-]+$/,b1=3,k1=2,S1=1,C1=10,E1=-2,Vp=t=>t==="*";function P1(t,e){let n=t.split("/"),s=n.length;return n.some(Vp)&&(s+=E1),e&&(s+=k1),n.filter(r=>!Vp(r)).reduce((r,i)=>r+(x1.test(i)?b1:i===""?S1:C1),s)}function O1(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function T1(t,e,n){let{routesMeta:s}=t,r={},i="/",o=[];for(let a=0;a<s.length;++a){let l=s[a],c=a===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=Kp({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!s[s.length-1].route.index&&(d=Kp({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Yn([i,d.pathname]),pathnameBase:L1(Yn([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Yn([i,d.pathnameBase]))}return o}function Kp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=A1(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:s.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function A1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(s.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function R1(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function M1(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?zr(t):t;return{pathname:n?n.startsWith("/")?n:I1(n,e):e,search:N1(s),hash:D1(r)}}function I1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Wc(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function j1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rv(t,e){let n=j1(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function iv(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=zr(t):(r=ao({},t),me(!r.pathname||!r.pathname.includes("?"),Wc("?","pathname","search",r)),me(!r.pathname||!r.pathname.includes("#"),Wc("#","pathname","hash",r)),me(!r.search||!r.search.includes("#"),Wc("#","search","hash",r)));let i=t===""||r.pathname==="",o=i?"/":r.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=M1(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Yn=t=>t.join("/").replace(/\/\/+/g,"/"),L1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),N1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,D1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ov=["post","put","patch","delete"];new Set(ov);const F1=["get",...ov];new Set(F1);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},lo.apply(this,arguments)}const Bh=E.createContext(null),z1=E.createContext(null),Ds=E.createContext(null),Gl=E.createContext(null),$s=E.createContext({outlet:null,matches:[],isDataRoute:!1}),av=E.createContext(null);function B1(t,e){let{relative:n}=e===void 0?{}:e;So()||me(!1);let{basename:s,navigator:r}=E.useContext(Ds),{hash:i,pathname:o,search:a}=uv(t,{relative:n}),l=o;return s!=="/"&&(l=o==="/"?s:Yn([s,o])),r.createHref({pathname:l,search:a,hash:i})}function So(){return E.useContext(Gl)!=null}function Ql(){return So()||me(!1),E.useContext(Gl).location}function lv(t){E.useContext(Ds).static||E.useLayoutEffect(t)}function cv(){let{isDataRoute:t}=E.useContext($s);return t?ek():U1()}function U1(){So()||me(!1);let t=E.useContext(Bh),{basename:e,future:n,navigator:s}=E.useContext(Ds),{matches:r}=E.useContext($s),{pathname:i}=Ql(),o=JSON.stringify(rv(r,n.v7_relativeSplatPath)),a=E.useRef(!1);return lv(()=>{a.current=!0}),E.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){s.go(c);return}let d=iv(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Yn([e,d.pathname])),(u.replace?s.replace:s.push)(d,u.state,u)},[e,s,o,i,t])}function uv(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=E.useContext(Ds),{matches:r}=E.useContext($s),{pathname:i}=Ql(),o=JSON.stringify(rv(r,s.v7_relativeSplatPath));return E.useMemo(()=>iv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function H1(t,e){return W1(t,e)}function W1(t,e,n,s){So()||me(!1);let{navigator:r,static:i}=E.useContext(Ds),{matches:o}=E.useContext($s),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Ql(),d;if(e){var h;let g=typeof e=="string"?zr(e):e;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||me(!1),d=g}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let y=!i&&n&&n.matches&&n.matches.length>0?n.matches:v1(t,{pathname:m}),v=X1(y&&y.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Yn([c,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Yn([c,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,s);return e&&v?E.createElement(Gl.Provider,{value:{location:lo({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zn.Pop}},v):v}function V1(){let t=Z1(),e=$1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:r},n):null,null)}const K1=E.createElement(V1,null);class q1 extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement($s.Provider,{value:this.props.routeContext},E.createElement(av.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function J1(t){let{routeContext:e,match:n,children:s}=t,r=E.useContext(Bh);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement($s.Provider,{value:e},s)}function X1(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||me(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,m=!1,y=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||K1,l&&(c<0&&h===0?(m=!0,v=null):c===h&&(m=!0,v=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),p=()=>{let _;return f?_=y:m?_=v:d.route.Component?_=E.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,E.createElement(J1,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?E.createElement(q1,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var dv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dv||{}),_l=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_l||{});function Y1(t){let e=E.useContext(Bh);return e||me(!1),e}function G1(t){let e=E.useContext(z1);return e||me(!1),e}function Q1(t){let e=E.useContext($s);return e||me(!1),e}function hv(t){let e=Q1(),n=e.matches[e.matches.length-1];return n.route.id||me(!1),n.route.id}function Z1(){var t;let e=E.useContext(av),n=G1(_l.UseRouteError),s=hv(_l.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function ek(){let{router:t}=Y1(dv.UseNavigateStable),e=hv(_l.UseNavigateStable),n=E.useRef(!1);return lv(()=>{n.current=!0}),E.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,lo({fromRouteId:e},i)))},[t,e])}function tk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fs(t){me(!1)}function nk(t){let{basename:e="/",children:n=null,location:s,navigationType:r=zn.Pop,navigator:i,static:o=!1,future:a}=t;So()&&me(!1);let l=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:i,static:o,future:lo({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof s=="string"&&(s=zr(s));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=s,y=E.useMemo(()=>{let v=zh(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:m},navigationType:r}},[l,u,d,h,f,m,r]);return y==null?null:E.createElement(Ds.Provider,{value:c},E.createElement(Gl.Provider,{children:n,value:y}))}function sk(t){let{children:e,location:n}=t;return H1(ld(e),n)}new Promise(()=>{});function ld(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(s,r)=>{if(!E.isValidElement(s))return;let i=[...e,r];if(s.type===E.Fragment){n.push.apply(n,ld(s.props.children,i));return}s.type!==fs&&me(!1),!s.props.index||!s.props.children||me(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=ld(s.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},cd.apply(this,arguments)}function rk(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function ik(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ok(t,e){return t.button===0&&(!e||e==="_self")&&!ik(t)}const ak=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lk="6";try{window.__reactRouterVersion=lk}catch{}const ck="startTransition",qp=sx[ck];function uk(t){let{basename:e,children:n,future:s,window:r}=t,i=E.useRef();i.current==null&&(i.current=g1({window:r,v5Compat:!0}));let o=i.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:c}=s||{},u=E.useCallback(d=>{c&&qp?qp(()=>l(d)):l(d)},[l,c]);return E.useLayoutEffect(()=>o.listen(u),[o,u]),E.useEffect(()=>tk(s),[s]),E.createElement(nk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:s})}const dk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=E.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=rk(e,ak),{basename:f}=E.useContext(Ds),m,y=!1;if(typeof c=="string"&&hk.test(c)&&(m=c,dk))try{let _=new URL(window.location.href),w=c.startsWith("//")?new URL(_.protocol+c):new URL(c),x=zh(w.pathname,f);w.origin===_.origin&&x!=null?c=x+w.search+w.hash:y=!0}catch{}let v=B1(c,{relative:r}),g=fk(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:d});function p(_){s&&s(_),_.defaultPrevented||g(_)}return E.createElement("a",cd({},h,{href:m||v,onClick:y||i?s:p,ref:n,target:l}))});var Jp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jp||(Jp={}));var Xp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xp||(Xp={}));function fk(t,e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=cv(),c=Ql(),u=uv(t,{relative:o});return E.useCallback(d=>{if(ok(d,n)){d.preventDefault();let h=s!==void 0?s:vl(c)===vl(u);l(t,{replace:h,state:r,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,u,s,r,n,t,i,o,a])}let pk={data:""},gk=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||pk,mk=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yk=/\/\*[^]*?\*\/|  +/g,Yp=/\n+/g,Nn=(t,e)=>{let n="",s="",r="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":s+=i[1]=="f"?Nn(o,i):i+"{"+Nn(o,i[1]=="k"?"":e)+"}":typeof o=="object"?s+=Nn(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Nn.p?Nn.p(i,o):i+":"+o+";")}return n+(e&&r?e+"{"+r+"}":r)+s},rn={},fv=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+fv(t[n]);return e}return t},vk=(t,e,n,s,r)=>{let i=fv(t),o=rn[i]||(rn[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!rn[o]){let l=i!==t?t:(c=>{let u,d,h=[{}];for(;u=mk.exec(c.replace(yk,""));)u[4]?h.shift():u[3]?(d=u[3].replace(Yp," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(Yp," ").trim();return h[0]})(t);rn[o]=Nn(r?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&rn.g?rn.g:null;return n&&(rn.g=rn[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(rn[o],e,s,a),o},_k=(t,e,n)=>t.reduce((s,r,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Nn(a,""):a===!1?"":a}return s+r+(o??"")},"");function Zl(t){let e=this||{},n=t.call?t(e.p):t;return vk(n.unshift?n.raw?_k(n,[].slice.call(arguments,1),e.p):n.reduce((s,r)=>Object.assign(s,r&&r.call?r(e.p):r),{}):n,gk(e.target),e.g,e.o,e.k)}let pv,ud,dd;Zl.bind({g:1});let bn=Zl.bind({k:1});function wk(t,e,n,s){Nn.p=e,pv=t,ud=n,dd=s}function rs(t,e){let n=this||{};return function(){let s=arguments;function r(i,o){let a=Object.assign({},i),l=a.className||r.className;n.p=Object.assign({theme:ud&&ud()},a),n.o=/ *go\d+/.test(l),a.className=Zl.apply(n,s)+(l?" "+l:"");let c=t;return t[0]&&(c=a.as||t,delete a.as),dd&&c[0]&&dd(a),pv(c,a)}return r}}var xk=t=>typeof t=="function",wl=(t,e)=>xk(t)?t(e):t,bk=(()=>{let t=0;return()=>(++t).toString()})(),gv=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),kk=20,mv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,kk)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return mv(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let r=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+r}))}}},Da=[],bs={toasts:[],pausedAt:void 0},Fs=t=>{bs=mv(bs,t),Da.forEach(e=>{e(bs)})},Sk={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ck=(t={})=>{let[e,n]=E.useState(bs),s=E.useRef(bs);E.useEffect(()=>(s.current!==bs&&n(bs),Da.push(n),()=>{let i=Da.indexOf(n);i>-1&&Da.splice(i,1)}),[]);let r=e.toasts.map(i=>{var o,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||Sk[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},Ek=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||bk()}),Co=t=>(e,n)=>{let s=Ek(e,t,n);return Fs({type:2,toast:s}),s.id},Ve=(t,e)=>Co("blank")(t,e);Ve.error=Co("error");Ve.success=Co("success");Ve.loading=Co("loading");Ve.custom=Co("custom");Ve.dismiss=t=>{Fs({type:3,toastId:t})};Ve.remove=t=>Fs({type:4,toastId:t});Ve.promise=(t,e,n)=>{let s=Ve.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let i=e.success?wl(e.success,r):void 0;return i?Ve.success(i,{id:s,...n,...n==null?void 0:n.success}):Ve.dismiss(s),r}).catch(r=>{let i=e.error?wl(e.error,r):void 0;i?Ve.error(i,{id:s,...n,...n==null?void 0:n.error}):Ve.dismiss(s)}),t};var Pk=(t,e)=>{Fs({type:1,toast:{id:t,height:e}})},Ok=()=>{Fs({type:5,time:Date.now()})},Ii=new Map,Tk=1e3,Ak=(t,e=Tk)=>{if(Ii.has(t))return;let n=setTimeout(()=>{Ii.delete(t),Fs({type:4,toastId:t})},e);Ii.set(t,n)},Rk=t=>{let{toasts:e,pausedAt:n}=Ck(t);E.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&Ve.dismiss(a.id);return}return setTimeout(()=>Ve.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let s=E.useCallback(()=>{n&&Fs({type:6,time:Date.now()})},[n]),r=E.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(f=>(f.position||c)===(i.position||c)&&f.height),d=u.findIndex(f=>f.id===i.id),h=u.filter((f,m)=>m<d&&f.visible).length;return u.filter(f=>f.visible).slice(...a?[h+1]:[0,h]).reduce((f,m)=>f+(m.height||0)+l,0)},[e]);return E.useEffect(()=>{e.forEach(i=>{if(i.dismissed)Ak(i.id,i.removeDelay);else{let o=Ii.get(i.id);o&&(clearTimeout(o),Ii.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:Pk,startPause:Ok,endPause:s,calculateOffset:r}}},Mk=bn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ik=bn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jk=bn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Lk=rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Mk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ik} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jk} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Nk=bn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Dk=rs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${Nk} 1s linear infinite;
`,$k=bn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Fk=bn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,zk=rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$k} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Fk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Bk=rs("div")`
  position: absolute;
`,Uk=rs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Hk=bn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wk=rs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Hk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Vk=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?E.createElement(Wk,null,e):e:n==="blank"?null:E.createElement(Uk,null,E.createElement(Dk,{...s}),n!=="loading"&&E.createElement(Bk,null,n==="error"?E.createElement(Lk,{...s}):E.createElement(zk,{...s})))},Kk=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qk=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Jk="0%{opacity:0;} 100%{opacity:1;}",Xk="0%{opacity:1;} 100%{opacity:0;}",Yk=rs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Gk=rs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Qk=(t,e)=>{let n=t.includes("top")?1:-1,[s,r]=gv()?[Jk,Xk]:[Kk(n),qk(n)];return{animation:e?`${bn(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${bn(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Zk=E.memo(({toast:t,position:e,style:n,children:s})=>{let r=t.height?Qk(t.position||e||"top-center",t.visible):{opacity:0},i=E.createElement(Vk,{toast:t}),o=E.createElement(Gk,{...t.ariaProps},wl(t.message,t));return E.createElement(Yk,{className:t.className,style:{...r,...n,...t.style}},typeof s=="function"?s({icon:i,message:o}):E.createElement(E.Fragment,null,i,o))});wk(E.createElement);var eS=({id:t,className:e,style:n,onHeightUpdate:s,children:r})=>{let i=E.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;s(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return E.createElement("div",{ref:i,className:e,style:n},r)},tS=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...r}},nS=Zl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zo=16,sS=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:r,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=Rk(n);return E.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Zo,left:Zo,right:Zo,bottom:Zo,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:s,defaultPosition:e}),h=tS(u,d);return E.createElement(eS,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?nS:"",style:h},c.type==="custom"?wl(c.message,c):r?r(c):E.createElement(Zk,{toast:c,position:u}))}))},xl=Ve;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),nn=(t,e)=>{const n=E.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>E.createElement("svg",{ref:u,...rS,width:r,height:r,stroke:s,strokeWidth:o?Number(i)*24/Number(r):i,className:["lucide",`lucide-${iS(t)}`,a].join(" "),...c},[...e.map(([d,h])=>E.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=nn("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=nn("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=nn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=nn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=nn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=nn("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=nn("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=nn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=nn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=nn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pS="modulepreload",gS=function(t){return"/"+t},Gp={},Rr=function(e,n,s){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=gS(l),l in Gp)return;Gp[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":pS,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},mS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rr(async()=>{const{default:s}=await Promise.resolve().then(()=>Br);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class Hh extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class yS extends Hh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vS extends Hh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _S extends Hh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var hd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(hd||(hd={}));var wS=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class xS{constructor(e,{headers:n={},customFetch:s,region:r=hd.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=mS(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return wS(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:c}).catch(m=>{throw new yS(m)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new vS(u);if(!u.ok)throw new _S(u);let h=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield u.json():h==="application/octet-stream"?f=yield u.blob():h==="text/event-stream"?f=u:h==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(r){return{data:null,error:r}}})}}var Ze={},Wh={},ec={},Eo={},tc={},nc={},bS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mr=bS();const kS=Mr.fetch,vv=Mr.fetch.bind(Mr),_v=Mr.Headers,SS=Mr.Request,CS=Mr.Response,Br=Object.freeze(Object.defineProperty({__proto__:null,Headers:_v,Request:SS,Response:CS,default:vv,fetch:kS},Symbol.toStringTag,{value:"Module"})),ES=Bw(Br);var sc={};Object.defineProperty(sc,"__esModule",{value:!0});let PS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};sc.default=PS;var wv=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nc,"__esModule",{value:!0});const OS=wv(ES),TS=wv(sc);let AS=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=OS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(u=[],c=null,h=200,f="OK")}catch{i.status===404&&y===""?(h=204,f="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new TS.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};nc.default=AS;var RS=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tc,"__esModule",{value:!0});const MS=RS(nc);let IS=class extends MS.default{select(e){let n=!1;const s=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:r=s}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};tc.default=IS;var jS=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Eo,"__esModule",{value:!0});const LS=jS(tc);let NS=class extends LS.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Eo.default=NS;var DS=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ec,"__esModule",{value:!0});const ni=DS(Eo);let $S=class{constructor(e,{headers:n={},schema:s,fetch:r}){this.url=e,this.headers=n,this.schema=s,this.fetch=r}select(e,{head:n=!1,count:s}={}){const r=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new ni.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:s=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ni.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ni.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const s="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new ni.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new ni.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ec.default=$S;var rc={},ic={};Object.defineProperty(ic,"__esModule",{value:!0});ic.version=void 0;ic.version="0.0.0-automated";Object.defineProperty(rc,"__esModule",{value:!0});rc.DEFAULT_HEADERS=void 0;const FS=ic;rc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${FS.version}`};var xv=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wh,"__esModule",{value:!0});const zS=xv(ec),BS=xv(Eo),US=rc;let HS=class bv{constructor(e,{headers:n={},schema:s,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},US.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new zS.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new bv(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:r=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;s||r?(o=s?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new BS.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Wh.default=HS;var Ur=kt&&kt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const kv=Ur(Wh);Ze.PostgrestClient=kv.default;const Sv=Ur(ec);Ze.PostgrestQueryBuilder=Sv.default;const Cv=Ur(Eo);Ze.PostgrestFilterBuilder=Cv.default;const Ev=Ur(tc);Ze.PostgrestTransformBuilder=Ev.default;const Pv=Ur(nc);Ze.PostgrestBuilder=Pv.default;const Ov=Ur(sc);Ze.PostgrestError=Ov.default;var WS=Ze.default={PostgrestClient:kv.default,PostgrestQueryBuilder:Sv.default,PostgrestFilterBuilder:Cv.default,PostgrestTransformBuilder:Ev.default,PostgrestBuilder:Pv.default,PostgrestError:Ov.default};const{PostgrestClient:VS,PostgrestQueryBuilder:BA,PostgrestFilterBuilder:UA,PostgrestTransformBuilder:HA,PostgrestBuilder:WA,PostgrestError:VA}=WS,KS="2.11.2",qS={"X-Client-Info":`realtime-js/${KS}`},JS="1.0.0",Tv=1e4,XS=1e3;var vr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vr||(vr={}));var at;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(at||(at={}));var It;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(It||(It={}));var fd;(function(t){t.websocket="websocket"})(fd||(fd={}));var ys;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ys||(ys={}));class YS{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const r=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+r));o=o+r;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Av{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Q||(Q={}));const Qp=(t,e,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=GS(o,t,e,r),i),{})},GS=(t,e,n,s)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=n[t];return i&&!s.includes(i)?Rv(i,o):pd(o)},Rv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return tC(e,n)}switch(t){case Q.bool:return QS(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return ZS(e);case Q.json:case Q.jsonb:return eC(e);case Q.timestamp:return nC(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return pd(e);default:return pd(e)}},pd=t=>t,QS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ZS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},eC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tC=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Rv(e,a))}return t},nC=t=>typeof t=="string"?t.replace(" ","T"):t,Mv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Vc{constructor(e,n,s={},r=Tv){this.channel=e,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Zp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Zp||(Zp={}));class ji{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ji.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=ji.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ji.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,r){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),m=u.filter(v=>f.indexOf(v.presence_ref)<0),y=d.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(a[c]=m),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,r)}static syncDiff(e,n,s,r){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const r=e[s];return"metas"in r?n[s]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(eg||(eg={}));var tg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tg||(tg={}));var hn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hn||(hn={}));class Vh{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vc(this,It.join,this.params,this.timeout),this.rejoinTimer=new Av(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new ji(this),this.broadcastEndpointURL=Mv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(hn.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(hn.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){e==null||e(hn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,m=[];for(let y=0;y<f;y++){const v=h[y],{filter:{event:g,schema:p,table:_,filter:w}}=v,x=u&&u[y];if(x&&x.event===g&&x.schema===p&&x.table===_&&x.filter===w)m.push(Object.assign(Object.assign({},v),{id:x.id}));else{this.unsubscribe(),e==null||e(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(hn.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this._on(e,n,s)}async send(e,n={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const r=new Vc(this,It.leave,{},e);r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,n,s){const r=new AbortController,i=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Vc(this,e,n,s);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=It;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var m,y,v;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(y=f.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(f=>f.callback(h,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var m,y,v,g,p,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const w=f.id,x=(m=f.filter)===null||m===void 0?void 0:m.event;return w&&((y=n.ids)===null||y===void 0?void 0:y.includes(w))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const w=(p=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:y,table:v,commit_timestamp:g,type:p,errors:_}=m;h=Object.assign(Object.assign({},{schema:y,table:v,commit_timestamp:g,eventType:p,new:{},old:{},errors:_}),this._getPayloadRecords(m))}f.callback(h,s)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const r=e.toLocaleLowerCase(),i={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Vh.isEqual(r.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(It.close,{},e)}_onError(e){this._on(It.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Qp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Qp(e.columns,e.old_record)),n}}const sC=()=>{},rC=typeof WebSocket<"u",iC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oC{constructor(e,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=qS,this.params={},this.timeout=Tv,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sC,this.conn=null,this.sendBuffer=[],this.serializer=new YS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Rr(async()=>{const{default:l}=await Promise.resolve().then(()=>Br);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${fd.websocket}`,this.httpEndpoint=Mv(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const r=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Av(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(rC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new aC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Rr(async()=>{const{default:e}=await import("./browser-BdjxzoN8.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:JS}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case vr.connecting:return ys.Connecting;case vr.open:return ys.Open;case vr.closing:return ys.Closing;default:return ys.Closed}}isConnected(){return this.connectionState()===ys.Open}channel(e,n={config:{}}){const s=new Vh(`realtime:${e}`,n,this);return this.channels.push(s),s}push(e){const{topic:n,event:s,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n}),r.joinedOnce&&r._isJoined()&&r._push(It.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(XS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:s,event:r,payload:i,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${s} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(It.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${s}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([iC],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class aC{constructor(e,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=vr.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Kh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function be(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lC extends Kh{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class gd extends Kh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var cC=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const Iv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rr(async()=>{const{default:s}=await Promise.resolve().then(()=>Br);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},uC=()=>cC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rr(()=>Promise.resolve().then(()=>Br),void 0)).Response:Response}),md=t=>{if(Array.isArray(t))return t.map(n=>md(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=md(s)}),e};var zs=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const Kc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dC=(t,e,n)=>zs(void 0,void 0,void 0,function*(){const s=yield uC();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{e(new lC(Kc(r),t.status||500))}).catch(r=>{e(new gd(Kc(r),r))}):e(new gd(Kc(t),t))}),hC=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(r.body=JSON.stringify(s)),Object.assign(Object.assign({},r),n))};function Po(t,e,n,s,r,i){return zs(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,hC(e,s,r,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>dC(l,a,s))})})}function bl(t,e,n,s){return zs(this,void 0,void 0,function*(){return Po(t,"GET",e,n,s)})}function In(t,e,n,s,r){return zs(this,void 0,void 0,function*(){return Po(t,"POST",e,s,r,n)})}function fC(t,e,n,s,r){return zs(this,void 0,void 0,function*(){return Po(t,"PUT",e,s,r,n)})}function pC(t,e,n,s){return zs(this,void 0,void 0,function*(){return Po(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function jv(t,e,n,s,r){return zs(this,void 0,void 0,function*(){return Po(t,"DELETE",e,s,r,n)})}var Xe=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const gC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ng={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mC{constructor(e,n={},s,r){this.url=e,this.headers=n,this.bucketId=s,this.fetch=Iv(r)}uploadOrUpdate(e,n,s,r){return Xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ng),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(be(i))return{data:null,error:i};throw i}})}upload(e,n,s){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,r){return Xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:ng.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(be(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const i=yield In(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Kh("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}update(e,n,s){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Xe(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}copy(e,n,s){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield In(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,s){return Xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield In(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,s){return Xe(this,void 0,void 0,function*(){try{const r=yield In(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}download(e,n){return Xe(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield bl(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(be(a))return{data:null,error:a};throw a}})}info(e){return Xe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield bl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:md(s),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}exists(e){return Xe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield pC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(be(s)&&s instanceof gd){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),r=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&r.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield jv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}list(e,n,s){return Xe(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},gC),n),{prefix:e||""});return{data:yield In(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const yC="2.7.1",vC={"X-Client-Info":`storage-js/${yC}`};var Ws=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class _C{constructor(e,n={},s){this.url=e,this.headers=Object.assign(Object.assign({},vC),n),this.fetch=Iv(s)}listBuckets(){return Ws(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(be(e))return{data:null,error:e};throw e}})}getBucket(e){return Ws(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ws(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Ws(this,void 0,void 0,function*(){try{return{data:yield fC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(be(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ws(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ws(this,void 0,void 0,function*(){try{return{data:yield jv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}})}}class wC extends _C{constructor(e,n={},s){super(e,n,s)}from(e){return new mC(this.url,this.headers,e,this.fetch)}}const xC="2.49.1";let hi="";typeof Deno<"u"?hi="deno":typeof document<"u"?hi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hi="react-native":hi="node";const bC={"X-Client-Info":`supabase-js-${hi}/${xC}`},kC={headers:bC},SC={schema:"public"},CC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EC={};var PC=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const OC=t=>{let e;return t?e=t:typeof fetch>"u"?e=vv:e=fetch,(...n)=>e(...n)},TC=()=>typeof Headers>"u"?_v:Headers,AC=(t,e,n)=>{const s=OC(n),r=TC();return(i,o)=>PC(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new r(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))})};var RC=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};function MC(t){return t.replace(/\/$/,"")}function IC(t,e){const{db:n,auth:s,realtime:r,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),i),accessToken:()=>RC(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Lv="2.68.0",Ys=30*1e3,yd=3,qc=yd*Ys,jC="http://localhost:9999",LC="supabase.auth.token",NC={"X-Client-Info":`gotrue-js/${Lv}`},vd="X-Supabase-Api-Version",Nv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function DC(t){return Math.round(Date.now()/1e3)+t}function $C(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Vt=()=>typeof window<"u"&&typeof document<"u",os={tested:!1,writable:!1},Li=()=>{if(!Vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(os.tested)return os.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),os.tested=!0,os.writable=!0}catch{os.tested=!0,os.writable=!1}return os.writable};function FC(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return n.searchParams.forEach((s,r)=>{e[r]=s}),e}const Dv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Rr(async()=>{const{default:s}=await Promise.resolve().then(()=>Br);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},zC=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$v=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ea=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ta=async(t,e)=>{await t.removeItem(e)};function BC(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,r,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),s=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|c,n=n+String.fromCharCode(s),l!=64&&r!=0&&(n=n+String.fromCharCode(r)),c!=64&&i!=0&&(n=n+String.fromCharCode(i));return n}class oc{constructor(){this.promise=new oc.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}oc.promiseConstructor=Promise;function sg(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=n[1];return JSON.parse(BC(s))}async function UC(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function HC(t,e){return new Promise((s,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function WC(t){return("0"+t.toString(16)).substr(-2)}function VC(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,WC).join("")}async function KC(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function qC(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function JC(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await KC(t);return qC(n)}async function Vs(t,e,n=!1){const s=VC();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await $v(t,`${e}-code-verifier`,r);const i=await JC(s);return[i,s===i?"plain":"s256"]}const XC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YC(t){const e=t.headers.get(vd);if(!e||!e.match(XC))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class qh extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class GC extends qh{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function QC(t){return $(t)&&t.name==="AuthApiError"}class Fv extends qh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Bs extends qh{constructor(e,n,s,r){super(e,s,r),this.name=n,this.status=s}}class On extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZC(t){return $(t)&&t.name==="AuthSessionMissingError"}class Jc extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class na extends Bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sa extends Bs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eE(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class rg extends Bs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _d extends Bs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Xc(t){return $(t)&&t.name==="AuthRetryableFetchError"}class ig extends Bs{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}var tE=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};const ps=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nE=[502,503,504];async function og(t){var e;if(!zC(t))throw new _d(ps(t),0);if(nE.includes(t.status))throw new _d(ps(t),t.status);let n;try{n=await t.json()}catch(i){throw new Fv(ps(i),i)}let s;const r=YC(t);if(r&&r.getTime()>=Nv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new ig(ps(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new On}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ig(ps(n),t.status,n.weak_password.reasons);throw new GC(ps(n),t.status||500,s)}const sE=(t,e,n,s)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function B(t,e,n,s){var r;const i=Object.assign({},s==null?void 0:s.headers);i[vd]||(i[vd]=Nv["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await rE(t,e,n+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function rE(t,e,n,s,r,i){const o=sE(e,s,r,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new _d(ps(l),0)}if(a.ok||await og(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await og(l)}}function Tn(t){var e;let n=null;lE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=DC(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function ag(t){const e=Tn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function iE(t){return{data:t,error:null}}function oE(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i}=t,o=tE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function aE(t){return t}function lE(t){return t.access_token&&t.refresh_token&&t.expires_in}var cE=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class uE{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Dv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if($(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dn})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=cE(e,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:oE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if($(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:aE});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const y=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=y}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dn})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Dn})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dn})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:n,error:s}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}const dE={getItem:t=>Li()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Li()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Li()&&globalThis.localStorage.removeItem(t)}};function lg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function hE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ks={debug:!!(globalThis&&Li()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class zv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class fE extends zv{}async function pE(t,e,n){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new fE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ks.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}hE();const gE={url:jC,storageKey:LC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cg(t,e,n){return await n()}class co{constructor(e){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=co.nextInstanceID,co.nextInstanceID+=1,this.instanceID>0&&Vt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},gE),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new uE({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Dv(r.fetch),this.lock=r.lock||cg,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Vt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=pE:this.lock=cg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Li()?this.storage=dE:(this.memoryStorage={},this.storage=lg(this.memoryStorage)):(this.memoryStorage={},this.storage=lg(this.memoryStorage)),Vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=FC(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Vt()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),eE(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return $(n)?{error:n}:{error:new Fv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,r;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Tn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,r;try{let i;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Vs(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:m},xform:Tn})}else if("phone"in e){const{phone:u,password:d,options:h}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tn})}else throw new na("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ag})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ag})}else throw new na("You must provide either an email or phone number and a password");const{data:s,error:r}=n;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Jc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await ea(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Tn});if(await ta(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Jc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:r,access_token:i,nonce:o}=e,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Jc}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Vs(this.storage,this.storageKey));const{error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new na("You must provide either an email or phone number.")}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let r,i;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Tn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,s,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Vs(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:iE})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new On;const{error:r}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if($(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:i}=e,{error:o}=await B(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:r,options:i}=e,{data:o,error:a}=await B(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new na("You must provide either an email or phone number and a type")}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<qc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dn}):await this._useSession(async n=>{var s,r,i;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Dn})})}catch(n){if($(n))return ZC(n)&&(await this._removeSession(),await ta(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:r,error:i}=s;if(i)throw i;if(!r.session)throw new On;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Vs(this.storage,this.storageKey));const{data:c,error:u}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Dn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if($(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return sg(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new On;const n=Date.now()/1e3;let s=n,r=!0,i=null;const o=sg(e.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if($(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new On;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if($(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Vt())throw new sa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new rg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rg("No code detected.");const{data:p,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new sa("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=Ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:y,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:s,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(s){if($(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ea(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{error:i};const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(QC(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ta(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=$C(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,r;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Vs(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:r}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return Vt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if($(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await HC(async r=>(r>0&&await UC(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Tn})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Xc(i)&&Date.now()+o-s<Ys})}catch(s){if(this._debug(n,"error",s),$(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Vt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ea(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const r=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<qc;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${qc}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Xc(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new oc;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new On;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),$(i)){const o={session:null,error:i};return Xc(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $v(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await ta(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/Ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Ys}ms, refresh threshold is ${yd} ticks`),r<=yd&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof zv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Vs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);r.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if($(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],r=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=r.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}co.nextInstanceID=0;const mE=co;class yE extends mE{constructor(e){super(e)}}var vE=function(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(d){o(d)}}function l(u){try{c(s.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class _E{constructor(e,n,s){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=MC(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:SC,realtime:EC,auth:Object.assign(Object.assign({},CC),{storageKey:l}),global:kC},u=IC(s??{},c);this.storageKey=(r=u.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=AC(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new VS(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new xS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wC(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return vE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,storageKey:i,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yE({url:this.authUrl,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:r,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new oC(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wE=(t,e,n)=>new _E(t,e,n),xE="https://your-project-url.supabase.co",bE="your-anon-key",Bv=wE(xE,bE);function kE(){const t=async()=>{await Bv.auth.signOut()};return b.jsx("nav",{className:"bg-indigo-600 text-white",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex items-center justify-between h-16",children:[b.jsx("div",{className:"flex items-center",children:b.jsxs(ti,{to:"/",className:"flex items-center space-x-2",children:[b.jsx(Uh,{className:"h-8 w-8"}),b.jsx("span",{className:"text-xl font-bold",children:"FinXpert"})]})}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsx(ti,{to:"/dashboard",className:"hover:text-indigo-200 transition",children:"Dashboard"}),b.jsx(ti,{to:"/recommendations",className:"hover:text-indigo-200 transition",children:"Recommendations"}),b.jsxs(ti,{to:"/alerts",className:"relative hover:text-indigo-200 transition",children:[b.jsx(yv,{className:"h-5 w-5"}),b.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-xs rounded-full h-4 w-4 flex items-center justify-center",children:"2"})]}),b.jsx(ti,{to:"/profile",className:"hover:text-indigo-200 transition",children:b.jsx(hS,{className:"h-5 w-5"})}),b.jsx("button",{onClick:t,className:"hover:text-indigo-200 transition",children:b.jsx(lS,{className:"h-5 w-5"})})]})]})})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Oo(t){return t+.5|0}const Bn=(t,e,n)=>Math.max(Math.min(t,n),e);function fi(t){return Bn(Oo(t*2.55),0,255)}function Gn(t){return Bn(Oo(t*255),0,255)}function pn(t){return Bn(Oo(t/2.55)/100,0,1)}function ug(t){return Bn(Oo(t*100),0,100)}const mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wd=[..."0123456789ABCDEF"],SE=t=>wd[t&15],CE=t=>wd[(t&240)>>4]+wd[t&15],ra=t=>(t&240)>>4===(t&15),EE=t=>ra(t.r)&&ra(t.g)&&ra(t.b)&&ra(t.a);function PE(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&mt[t[1]]*17,g:255&mt[t[2]]*17,b:255&mt[t[3]]*17,a:e===5?mt[t[4]]*17:255}:(e===7||e===9)&&(n={r:mt[t[1]]<<4|mt[t[2]],g:mt[t[3]]<<4|mt[t[4]],b:mt[t[5]]<<4|mt[t[6]],a:e===9?mt[t[7]]<<4|mt[t[8]]:255})),n}const OE=(t,e)=>t<255?e(t):"";function TE(t){var e=EE(t)?SE:CE;return t?"#"+e(t.r)+e(t.g)+e(t.b)+OE(t.a,e):void 0}const AE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Uv(t,e,n){const s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function RE(t,e,n){const s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function ME(t,e,n){const s=Uv(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function IE(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function Jh(t){const n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=IE(n,s,r,u,i),l=l*60+.5),[l|0,c||0,a]}function Xh(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Gn)}function Yh(t,e,n){return Xh(Uv,t,e,n)}function jE(t,e,n){return Xh(ME,t,e,n)}function LE(t,e,n){return Xh(RE,t,e,n)}function Hv(t){return(t%360+360)%360}function NE(t){const e=AE.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?fi(+e[5]):Gn(+e[5]));const r=Hv(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=jE(r,i,o):e[1]==="hsv"?s=LE(r,i,o):s=Yh(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function DE(t,e){var n=Jh(t);n[0]=Hv(n[0]+e),n=Yh(n),t.r=n[0],t.g=n[1],t.b=n[2]}function $E(t){if(!t)return;const e=Jh(t),n=e[0],s=ug(e[1]),r=ug(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${pn(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}const dg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function FE(){const t={},e=Object.keys(hg),n=Object.keys(dg);let s,r,i,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],r=0;r<n.length;r++)i=n[r],a=a.replace(i,dg[i]);i=parseInt(hg[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let ia;function zE(t){ia||(ia=FE(),ia.transparent=[0,0,0,0]);const e=ia[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const BE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function UE(t){const e=BE.exec(t);let n=255,s,r,i;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?fi(o):Bn(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?fi(s):Bn(s,0,255)),r=255&(e[4]?fi(r):Bn(r,0,255)),i=255&(e[6]?fi(i):Bn(i,0,255)),{r:s,g:r,b:i,a:n}}}function HE(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${pn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Yc=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,qs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function WE(t,e,n){const s=qs(pn(t.r)),r=qs(pn(t.g)),i=qs(pn(t.b));return{r:Gn(Yc(s+n*(qs(pn(e.r))-s))),g:Gn(Yc(r+n*(qs(pn(e.g))-r))),b:Gn(Yc(i+n*(qs(pn(e.b))-i))),a:t.a+n*(e.a-t.a)}}function oa(t,e,n){if(t){let s=Jh(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Yh(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Wv(t,e){return t&&Object.assign(e||{},t)}function fg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Gn(t[3]))):(e=Wv(t,{r:0,g:0,b:0,a:1}),e.a=Gn(e.a)),e}function VE(t){return t.charAt(0)==="r"?UE(t):NE(t)}class uo{constructor(e){if(e instanceof uo)return e;const n=typeof e;let s;n==="object"?s=fg(e):n==="string"&&(s=PE(e)||zE(e)||VE(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Wv(this._rgb);return e&&(e.a=pn(e.a)),e}set rgb(e){this._rgb=fg(e)}rgbString(){return this._valid?HE(this._rgb):void 0}hexString(){return this._valid?TE(this._rgb):void 0}hslString(){return this._valid?$E(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,r=e.rgb;let i;const o=n===i?.5:n,a=2*o-1,l=s.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,s.r=255&c*s.r+i*r.r+.5,s.g=255&c*s.g+i*r.g+.5,s.b=255&c*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=WE(this._rgb,e._rgb,n)),this}clone(){return new uo(this.rgb)}alpha(e){return this._rgb.a=Gn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Oo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return oa(this._rgb,2,e),this}darken(e){return oa(this._rgb,2,-e),this}saturate(e){return oa(this._rgb,1,e),this}desaturate(e){return oa(this._rgb,1,-e),this}rotate(e){return DE(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function on(){}const KE=(()=>{let t=0;return()=>t++})();function ee(t){return t==null}function Se(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function K(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Et(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ht(t,e){return Et(t)?t:e}function H(t,e){return typeof t>"u"?e:t}const qE=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function se(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function q(t,e,n,s){let r,i,o;if(Se(t))for(i=t.length,r=0;r<i;r++)e.call(n,t[r],r);else if(K(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function kl(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Sl(t){if(Se(t))return t.map(Sl);if(K(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let r=0;for(;r<s;++r)e[n[r]]=Sl(t[n[r]]);return e}return t}function Vv(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function JE(t,e,n,s){if(!Vv(t))return;const r=e[t],i=n[t];K(r)&&K(i)?ho(r,i,s):e[t]=Sl(i)}function ho(t,e,n){const s=Se(e)?e:[e],r=s.length;if(!K(t))return t;n=n||{};const i=n.merger||JE;let o;for(let a=0;a<r;++a){if(o=s[a],!K(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,n)}return t}function Ni(t,e){return ho(t,e,{merger:XE})}function XE(t,e,n){if(!Vv(t))return;const s=e[t],r=n[t];K(s)&&K(r)?Ni(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Sl(r))}const pg={"":t=>t,x:t=>t.x,y:t=>t.y};function YE(t){const e=t.split("."),n=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function GE(t){const e=YE(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function Cl(t,e){return(pg[e]||(pg[e]=GE(e)))(t)}function Gh(t){return t.charAt(0).toUpperCase()+t.slice(1)}const El=t=>typeof t<"u",es=t=>typeof t=="function",gg=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function QE(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ee=Math.PI,tn=2*Ee,ZE=tn+Ee,Pl=Number.POSITIVE_INFINITY,eP=Ee/180,Lt=Ee/2,as=Ee/4,mg=Ee*2/3,xd=Math.log10,Ir=Math.sign;function Di(t,e,n){return Math.abs(t-e)<n}function yg(t){const e=Math.round(t);t=Di(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(xd(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function tP(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function nP(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function fo(t){return!nP(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function sP(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function rP(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ks(t){return t*(Ee/180)}function iP(t){return t*(180/Ee)}function vg(t){if(!Et(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function oP(t,e){const n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s);let i=Math.atan2(s,n);return i<-.5*Ee&&(i+=tn),{angle:i,distance:r}}function bd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function aP(t,e){return(t-e+ZE)%tn-Ee}function An(t){return(t%tn+tn)%tn}function Kv(t,e,n,s){const r=An(t),i=An(e),o=An(n),a=An(i-r),l=An(o-r),c=An(r-i),u=An(r-o);return r===i||r===o||s&&i===o||a>l&&c<u}function wt(t,e,n){return Math.max(e,Math.min(n,t))}function lP(t){return wt(t,-32768,32767)}function pi(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Qh(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}const Ss=(t,e,n,s)=>Qh(t,n,s?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),cP=(t,e,n)=>Qh(t,n,s=>t[s][e]>=n);function uP(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}const qv=["push","pop","shift","splice","unshift"];function dP(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),qv.forEach(n=>{const s="_onData"+Gh(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function _g(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(qv.forEach(i=>{delete t[i]}),delete t._chartjs)}function hP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Jv=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Xv(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,Jv.call(window,()=>{s=!1,t.apply(e,n)}))}}function fP(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Zh=t=>t==="start"?"left":t==="end"?"right":"center",Ne=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,pP=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function gP(t,e,n){const s=e.length;let r=0,i=s;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:d,max:h,minDefined:f,maxDefined:m}=o.getUserBounds();if(f){if(r=Math.min(Ss(l,u,d).lo,n?s:Ss(e,u,o.getPixelForValue(d)).lo),c){const y=l.slice(0,r+1).reverse().findIndex(v=>!ee(v[a.axis]));r-=Math.max(0,y)}r=wt(r,0,s-1)}if(m){let y=Math.max(Ss(l,o.axis,h,!0).hi+1,n?0:Ss(e,u,o.getPixelForValue(h),!0).hi+1);if(c){const v=l.slice(y-1).findIndex(g=>!ee(g[a.axis]));y+=Math.max(0,v)}i=wt(y,r,s)-r}else i=s-r}return{start:r,count:i}}function mP(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}const aa=t=>t===0||t===1,wg=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*tn/n)),xg=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*tn/n)+1,$i={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Lt)+1,easeOutSine:t=>Math.sin(t*Lt),easeInOutSine:t=>-.5*(Math.cos(Ee*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>aa(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>aa(t)?t:wg(t,.075,.3),easeOutElastic:t=>aa(t)?t:xg(t,.075,.3),easeInOutElastic(t){return aa(t)?t:t<.5?.5*wg(t*2,.1125,.45):.5+.5*xg(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-$i.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?$i.easeInBounce(t*2)*.5:$i.easeOutBounce(t*2-1)*.5+.5};function ef(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function bg(t){return ef(t)?t:new uo(t)}function Gc(t){return ef(t)?t:new uo(t).saturate(.5).darken(.1).hexString()}const yP=["x","y","borderWidth","radius","tension"],vP=["color","borderColor","backgroundColor"];function _P(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:vP},numbers:{type:"number",properties:yP}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function wP(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const kg=new Map;function xP(t,e){e=e||{};const n=t+JSON.stringify(e);let s=kg.get(n);return s||(s=new Intl.NumberFormat(t,e),kg.set(n,s)),s}function Yv(t,e,n){return xP(e,n).format(t)}const Gv={values(t){return Se(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let r,i=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),i=bP(t,n)}const o=xd(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Yv(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(xd(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?Gv.numeric.call(this,t,e,n):""}};function bP(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Qv={formatters:Gv};function kP(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Qv.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const js=Object.create(null),kd=Object.create(null);function Fi(t,e){if(!e)return t;const n=e.split(".");for(let s=0,r=n.length;s<r;++s){const i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function Qc(t,e,n){return typeof e=="string"?ho(Fi(t,e),n):ho(Fi(t,""),e)}class SP{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Gc(r.backgroundColor),this.hoverBorderColor=(s,r)=>Gc(r.borderColor),this.hoverColor=(s,r)=>Gc(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Qc(this,e,n)}get(e){return Fi(this,e)}describe(e,n){return Qc(kd,e,n)}override(e,n){return Qc(js,e,n)}route(e,n,s,r){const i=Fi(this,e),o=Fi(this,s),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return K(l)?Object.assign({},c,l):H(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var pe=new SP({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_P,wP,kP]);function CP(t){return!t||ee(t.size)||ee(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Sg(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function ls(t,e,n){const s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function Cg(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Sd(t,e,n,s){Zv(t,e,n,s,null)}function Zv(t,e,n,s,r){let i,o,a,l,c,u,d,h;const f=e.pointStyle,m=e.rotation,y=e.radius;let v=(m||0)*eP;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,s,r/2,y,0,0,tn):t.arc(n,s,y,0,tn),t.closePath();break;case"triangle":u=r?r/2:y,t.moveTo(n+Math.sin(v)*u,s-Math.cos(v)*y),v+=mg,t.lineTo(n+Math.sin(v)*u,s-Math.cos(v)*y),v+=mg,t.lineTo(n+Math.sin(v)*u,s-Math.cos(v)*y),t.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(v+as)*l,d=Math.cos(v+as)*(r?r/2-c:l),a=Math.sin(v+as)*l,h=Math.sin(v+as)*(r?r/2-c:l),t.arc(n-d,s-a,c,v-Ee,v-Lt),t.arc(n+h,s-o,c,v-Lt,v),t.arc(n+d,s+a,c,v,v+Lt),t.arc(n-h,s+o,c,v+Lt,v+Ee),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*y,u=r?r/2:l,t.rect(n-u,s-l,2*u,2*l);break}v+=as;case"rectRot":d=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,h=Math.sin(v)*(r?r/2:y),t.moveTo(n-d,s-a),t.lineTo(n+h,s-o),t.lineTo(n+d,s+a),t.lineTo(n-h,s+o),t.closePath();break;case"crossRot":v+=as;case"cross":d=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,h=Math.sin(v)*(r?r/2:y),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"star":d=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,h=Math.sin(v)*(r?r/2:y),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o),v+=as,d=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,h=Math.sin(v)*(r?r/2:y),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"line":o=r?r/2:Math.cos(v)*y,a=Math.sin(v)*y,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(v)*(r?r/2:y),s+Math.sin(v)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function po(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function tf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function nf(t){t.restore()}function EP(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function PP(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function OP(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ee(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function TP(t,e,n,s,r){if(r.strikethrough||r.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=n-i.actualBoundingBoxAscent,c=n+i.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function AP(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function go(t,e,n,s,r,i={}){const o=Se(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,OP(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&AP(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ee(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,n,s,i.maxWidth)),t.fillText(c,n,s,i.maxWidth),TP(t,n,s,c,i),s+=Number(r.lineHeight);t.restore()}function Cd(t,e){const{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*Ee,Ee,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,Ee,Lt,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Lt,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-Lt,!0),t.lineTo(n+o.topLeft,s)}const RP=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,MP=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function IP(t,e){const n=(""+t).match(RP);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const jP=t=>+t||0;function e_(t,e){const n={},s=K(e),r=s?Object.keys(e):e,i=K(t)?s?o=>H(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=jP(i(o));return n}function LP(t){return e_(t,{top:"y",right:"x",bottom:"y",left:"x"})}function zi(t){return e_(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Pt(t){const e=LP(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function $e(t,e){t=t||{},e=e||pe.font;let n=H(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=H(t.style,e.style);s&&!(""+s).match(MP)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:H(t.family,e.family),lineHeight:IP(H(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:H(t.weight,e.weight),string:""};return r.string=CP(r),r}function la(t,e,n,s){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function NP(t,e,n){const{min:s,max:r}=t,i=qE(e,(r-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function Us(t,e){return Object.assign(Object.create(t),e)}function sf(t,e=[""],n,s,r=()=>t[0]){const i=n||t;typeof s>"u"&&(s=r_("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>sf([a,...t],e,i,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return n_(a,l,()=>WP(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Pg(a).includes(l)},ownKeys(a){return Pg(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function jr(t,e,n,s){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:t_(t,s),setContext:i=>jr(t,i,n,s),override:i=>jr(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return n_(i,o,()=>$P(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function t_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:es(n)?n:()=>n,isIndexable:es(s)?s:()=>s}}const DP=(t,e)=>t?t+Gh(e):e,rf=(t,e)=>K(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function n_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function $P(t,e,n){const{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t;let a=s[e];return es(a)&&o.isScriptable(e)&&(a=FP(e,a,t,n)),Se(a)&&a.length&&(a=zP(e,a,t,o.isIndexable)),rf(e,a)&&(a=jr(a,r,i&&i[e],o)),a}function FP(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||s);return a.delete(t),rf(t,l)&&(l=of(r._scopes,r,t,l)),l}function zP(t,e,n,s){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(K(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=of(c,r,t,u);e.push(jr(d,i,o&&o[t],a))}}return e}function s_(t,e,n){return es(t)?t(e,n):t}const BP=(t,e)=>t===!0?e:typeof t=="string"?Cl(e,t):void 0;function UP(t,e,n,s,r){for(const i of e){const o=BP(n,i);if(o){t.add(o);const a=s_(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function of(t,e,n,s){const r=e._rootScopes,i=s_(e._fallback,n,s),o=[...t,...r],a=new Set;a.add(s);let l=Eg(a,o,n,i||n,s);return l===null||typeof i<"u"&&i!==n&&(l=Eg(a,o,i,l,s),l===null)?!1:sf(Array.from(a),[""],r,i,()=>HP(e,n,s))}function Eg(t,e,n,s,r){for(;n;)n=UP(t,e,n,s,r);return n}function HP(t,e,n){const s=t._getTarget();e in s||(s[e]={});const r=s[e];return Se(r)&&K(n)?n:r||{}}function WP(t,e,n,s){let r;for(const i of e)if(r=r_(DP(i,t),n),typeof r<"u")return rf(t,r)?of(n,s,t,r):r}function r_(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Pg(t){let e=t._keys;return e||(e=t._keys=VP(t._scopes)),e}function VP(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const KP=Number.EPSILON||1e-14,Lr=(t,e)=>e<t.length&&!t[e].skip&&t[e],i_=t=>t==="x"?"y":"x";function qP(t,e,n,s){const r=t.skip?e:t,i=e,o=n.skip?e:n,a=bd(i,r),l=bd(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=s*c,h=s*u;return{previous:{x:i.x-d*(o.x-r.x),y:i.y-d*(o.y-r.y)},next:{x:i.x+h*(o.x-r.x),y:i.y+h*(o.y-r.y)}}}function JP(t,e,n){const s=t.length;let r,i,o,a,l,c=Lr(t,0);for(let u=0;u<s-1;++u)if(l=c,c=Lr(t,u+1),!(!l||!c)){if(Di(e[u],0,KP)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],i=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=i*o*e[u])}}function XP(t,e,n="x"){const s=i_(n),r=t.length;let i,o,a,l=Lr(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Lr(t,c+1),!a)continue;const u=a[n],d=a[s];o&&(i=(u-o[n])/3,a[`cp1${n}`]=u-i,a[`cp1${s}`]=d-i*e[c]),l&&(i=(l[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${s}`]=d+i*e[c])}}function YP(t,e="x"){const n=i_(e),s=t.length,r=Array(s).fill(0),i=Array(s);let o,a,l,c=Lr(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=Lr(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}i[o]=a?c?Ir(r[o-1])!==Ir(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}JP(t,r,i),XP(t,i,e)}function ca(t,e,n){return Math.max(Math.min(t,n),e)}function GP(t,e){let n,s,r,i,o,a=po(t[0],e);for(n=0,s=t.length;n<s;++n)o=i,i=a,a=n<s-1&&po(t[n+1],e),i&&(r=t[n],o&&(r.cp1x=ca(r.cp1x,e.left,e.right),r.cp1y=ca(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=ca(r.cp2x,e.left,e.right),r.cp2y=ca(r.cp2y,e.top,e.bottom)))}function QP(t,e,n,s,r){let i,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")YP(t,r);else{let c=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],l=qP(c,a,t[Math.min(i+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&GP(t,n)}function af(){return typeof window<"u"&&typeof document<"u"}function lf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ol(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const ac=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function ZP(t,e){return ac(t).getPropertyValue(e)}const eO=["top","right","bottom","left"];function Os(t,e,n){const s={};n=n?"-"+n:"";for(let r=0;r<4;r++){const i=eO[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const tO=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function nO(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s;let o=!1,a,l;if(tO(r,i,t.target))a=r,l=i;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function gs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,r=ac(n),i=r.boxSizing==="border-box",o=Os(r,"padding"),a=Os(r,"border","width"),{x:l,y:c,box:u}=nO(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:m}=e;return i&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/f*n.width/s),y:Math.round((c-h)/m*n.height/s)}}function sO(t,e,n){let s,r;if(e===void 0||n===void 0){const i=t&&lf(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{const o=i.getBoundingClientRect(),a=ac(i),l=Os(a,"border","width"),c=Os(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=Ol(a.maxWidth,i,"clientWidth"),r=Ol(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Pl,maxHeight:r||Pl}}const ua=t=>Math.round(t*10)/10;function rO(t,e,n,s){const r=ac(t),i=Os(r,"margin"),o=Ol(r.maxWidth,t,"clientWidth")||Pl,a=Ol(r.maxHeight,t,"clientHeight")||Pl,l=sO(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const h=Os(r,"border","width"),f=Os(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-i.width),u=Math.max(0,s?c/s:u-i.height),c=ua(Math.min(c,o,l.maxWidth)),u=ua(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ua(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=ua(Math.floor(u*s))),{width:c,height:u}}function Og(t,e,n){const s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const iO=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};af()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Tg(t,e){const n=ZP(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ms(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function oO(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function aO(t,e,n,s){const r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=ms(t,r,n),a=ms(r,i,n),l=ms(i,e,n),c=ms(o,a,n),u=ms(a,l,n);return ms(c,u,n)}const lO=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},cO=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function _r(t,e,n){return t?lO(e,n):cO()}function o_(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function a_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function l_(t){return t==="angle"?{between:Kv,compare:aP,normalize:An}:{between:pi,compare:(e,n)=>e-n,normalize:e=>e}}function Ag({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function uO(t,e,n){const{property:s,start:r,end:i}=n,{between:o,normalize:a}=l_(s),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][s]),r,i);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function dO(t,e,n){if(!n)return[t];const{property:s,start:r,end:i}=n,o=e.length,{compare:a,between:l,normalize:c}=l_(s),{start:u,end:d,loop:h,style:f}=uO(t,e,n),m=[];let y=!1,v=null,g,p,_;const w=()=>l(r,_,g)&&a(r,_)!==0,x=()=>a(i,g)===0||l(i,_,g),S=()=>y||w(),k=()=>!y||x();for(let C=u,T=u;C<=d;++C)p=e[C%o],!p.skip&&(g=c(p[s]),g!==_&&(y=l(g,r,i),v===null&&S()&&(v=a(g,r)===0?C:T),v!==null&&k()&&(m.push(Ag({start:v,end:C,loop:h,count:o,style:f})),v=null),T=C,_=g));return v!==null&&m.push(Ag({start:v,end:d,loop:h,count:o,style:f})),m}function hO(t,e){const n=[],s=t.segments;for(let r=0;r<s.length;r++){const i=dO(s[r],t.points,e);i.length&&n.push(...i)}return n}function fO(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function pO(t,e,n,s){const r=t.length,i=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(s=!1,i.push({start:e%r,end:(l-1)%r,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%r,end:o%r,loop:s}),i}function gO(t,e){const n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];const i=!!t._loop,{start:o,end:a}=fO(n,r,i,s);if(s===!0)return Rg(t,[{start:o,end:a,loop:i}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return Rg(t,pO(n,o,l,c),n,e)}function Rg(t,e,n,s){return!s||!s.setContext||!n?e:mO(t,e,n,s)}function mO(t,e,n,s){const r=t._chart.getContext(),i=Mg(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=i,d=e[0].start,h=d;function f(m,y,v,g){const p=a?-1:1;if(m!==y){for(m+=l;n[m%l].skip;)m-=p;for(;n[y%l].skip;)y+=p;m%l!==y%l&&(c.push({start:m%l,end:y%l,loop:v,style:g}),u=g,d=y%l)}}for(const m of e){d=a?d:m.start;let y=n[d%l],v;for(h=d+1;h<=m.end;h++){const g=n[h%l];v=Mg(s.setContext(Us(r,{type:"segment",p0:y,p1:g,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),yO(v,u)&&f(d,h-1,m.loop,u),y=g,u=v}d<h-1&&f(d,h-1,m.loop,u)}return c}function Mg(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function yO(t,e){if(!e)return!1;const n=[],s=function(r,i){return ef(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class vO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){const i=n.listeners[r],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Jv.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ln=new vO;const Ig="transparent",_O={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=bg(t||Ig),r=s.valid&&bg(e||Ig);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class wO{constructor(e,n,s,r){const i=n[s];r=la([e.to,r,i,e.from]);const o=la([e.from,i,r]);this._active=!0,this._fn=e.fn||_O[e.type||typeof o],this._easing=$i[e.easing]||$i.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=la([e.to,n,r,e.from]),this._from=la([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||n<s),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=i;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}}class c_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!K(e))return;const n=Object.keys(pe.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!K(i))return;const o={};for(const a of n)o[a]=i[a];(Se(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,r=bO(e,s);if(!r)return[];const i=this._createAnimations(r,s);return s.$shared&&xO(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){const s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let d=i[c];const h=s.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}i[c]=d=new wO(h,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return ln.add(this._chart,s),!0}}function xO(t,e){const n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function bO(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function jg(t,e){const n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function kO(t,e,n){if(n===!1)return!1;const s=jg(t,n),r=jg(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function SO(t){let e,n,s,r;return K(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function u_(t,e){const n=[],s=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function Lg(t,e,n,s={}){const r=t.keys,i=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(u=!0,s.all)continue;break}c=t.values[l],Et(c)&&(i||e===0||Ir(e)===Ir(c))&&(e+=c)}return!u&&!s.all?0:e}function CO(t,e){const{iScale:n,vScale:s}=e,r=n.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[i]:t[u]};return a}function Zc(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function EO(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function PO(t){const{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function OO(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function Ng(t,e,n,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function Dg(t,e){const{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=s,l=i.axis,c=o.axis,u=EO(i,o,s),d=e.length;let h;for(let f=0;f<d;++f){const m=e[f],{[l]:y,[c]:v}=m,g=m._stacks||(m._stacks={});h=g[c]=OO(r,u,y),h[a]=v,h._top=Ng(h,o,!0,s.type),h._bottom=Ng(h,o,!1,s.type);const p=h._visualValues||(h._visualValues={});p[a]=v}}function eu(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function TO(t,e){return Us(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function AO(t,e,n){return Us(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function si(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}const tu=t=>t==="reset"||t==="none",$g=(t,e)=>e?t:Object.assign({},t),RO=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:u_(n,!0),values:null};class Bi{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Zc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&si(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),r=(d,h,f,m)=>d==="x"?h:d==="r"?m:f,i=n.xAxisID=H(s.xAxisID,eu(e,"x")),o=n.yAxisID=H(s.yAxisID,eu(e,"y")),a=n.rAxisID=H(s.rAxisID,eu(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,i,o,a),u=n.vAxisID=r(l,o,i,a);n.xScale=this.getScaleForId(i),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&_g(this._data,this),e._stacked&&si(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(K(n)){const r=this._cachedMeta;this._data=CO(n,r)}else if(s!==n){if(s){_g(s,this);const r=this._cachedMeta;si(r),r._parsed=[]}n&&Object.isExtensible(n)&&dP(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const i=n._stacked;n._stacked=Zc(n.vScale,n),n.stack!==s.stack&&(r=!0,si(n),n.stack=s.stack),this._resyncElements(e),(r||i!==n._stacked)&&(Dg(this,n._parsed),n._stacked=Zc(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:r}=this,{iScale:i,_stacked:o}=s,a=i.axis;let l=e===0&&n===r.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,d,h;if(this._parsing===!1)s._parsed=r,s._sorted=!0,h=r;else{Se(r[e])?h=this.parseArrayData(s,r,e,n):K(r[e])?h=this.parseObjectData(s,r,e,n):h=this.parsePrimitiveData(s,r,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);s._sorted=l}o&&Dg(this,h)}parsePrimitiveData(e,n,s,r){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,d=new Array(r);let h,f,m;for(h=0,f=r;h<f;++h)m=h+s,d[h]={[a]:u||i.parse(c[m],m),[l]:o.parse(n[m],m)};return d}parseArrayData(e,n,s,r){const{xScale:i,yScale:o}=e,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+s,d=n[u],a[l]={x:i.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,s,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,h,f;for(u=0,d=r;u<d;++u)h=u+s,f=n[h],c[u]={x:i.parse(Cl(f,a),h),y:o.parse(Cl(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const r=this.chart,i=this._cachedMeta,o=n[e.axis],a={keys:u_(r,!0),values:n._stacks[e.axis]._visualValues};return Lg(a,o,i.index,{mode:s})}updateRangeFromParsed(e,n,s,r){const i=s[n.axis];let o=i===null?NaN:i;const a=r&&s._stacks[n.axis];r&&a&&(r.values=a,o=Lg(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,r=s._parsed,i=s._sorted&&e===s.iScale,o=r.length,a=this._getOtherScale(e),l=RO(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=PO(a);let h,f;function m(){f=r[h];const y=f[a.axis];return!Et(f[e.axis])||u>y||d<y}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),i));++h);if(i){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let r,i,o;for(r=0,i=n.length;r<i;++r)o=n[r][e.axis],Et(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,r=n.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=SO(H(this.options.clip,kO(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,r=s.data||[],i=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const d=r[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=AO(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=TO(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!n,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const r=n==="active",i=this._cachedDataOpts,o=e+"-"+n,a=i[o],l=this.enableOptionSharing&&El(s);if(a)return $g(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(pe.elements[e]),m=()=>this.getContext(s,r,n),y=c.resolveNamedOptions(h,f,m,d);return y.$shared&&(y.$shared=l,i[o]=Object.freeze($g(y,l))),y}_resolveAnimations(e,n,s){const r=this.chart,i=this._cachedDataOpts,o=`animation-${n}`,a=i[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,s,n))}const c=new c_(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||tu(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),r=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(n,i)||i!==r;return this.updateSharedOptions(i,n,s),{sharedOptions:i,includeOptions:o}}updateElement(e,n,s,r){tu(r)?Object.assign(e,s):this._resolveAnimations(n,r).update(e,s)}updateSharedOptions(e,n,s){e&&!tu(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,r){e.active=r;const i=this.getStyle(n,r);this._resolveAnimations(n,s,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=s.length,i=n.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,n,s=!0){const r=this._cachedMeta,i=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),s&&this.updateElements(i,e,n,"reset")}updateElements(e,n,s,r){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,n);s._stacked&&si(s,r)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,r]=e;this[n](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}D(Bi,"defaults",{}),D(Bi,"datasetElementType",null),D(Bi,"dataElementType",null);class $a extends Bi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:r=[],_dataset:i}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=gP(n,r,o);this._drawStart=a,this._drawCount=l,mP(n)&&(a=0,l=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,s,r){const i=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,r),h=o.axis,f=a.axis,{spanGaps:m,segment:y}=this.options,v=fo(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||r==="none",p=n+s,_=e.length;let w=n>0&&this.getParsed(n-1);for(let x=0;x<_;++x){const S=e[x],k=g?S:{};if(x<n||x>=p){k.skip=!0;continue}const C=this.getParsed(x),T=ee(C[f]),O=k[h]=o.getPixelForValue(C[h],x),A=k[f]=i||T?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[f],x);k.skip=isNaN(O)||isNaN(A)||T,k.stop=x>0&&Math.abs(C[h]-w[h])>v,y&&(k.parsed=C,k.raw=c.data[x]),d&&(k.options=u||this.resolveDataElementOptions(x,S.active?"active":r)),g||this.updateElement(S,x,k,r),w=C}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}D($a,"id","line"),D($a,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),D($a,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function cs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cf{constructor(e){D(this,"options");this.options=e||{}}static override(e){Object.assign(cf.prototype,e)}init(){}formats(){return cs()}parse(){return cs()}format(){return cs()}add(){return cs()}diff(){return cs()}startOf(){return cs()}endOf(){return cs()}}var MO={_date:cf};function IO(t,e,n,s){const{controller:r,data:i,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const c=a._reversePixels?cP:Ss;if(s){if(r._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const h=c(i,e,n-d),f=c(i,e,n+d);return{lo:h.lo,hi:f.hi}}}}else{const u=c(i,e,n);if(l){const{vScale:d}=r._cachedMeta,{_parsed:h}=t,f=h.slice(0,u.lo+1).reverse().findIndex(y=>!ee(y[d.axis]));u.lo-=Math.max(0,f);const m=h.slice(u.hi).findIndex(y=>!ee(y[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:i.length-1}}function To(t,e,n,s,r){const i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:h}=IO(i[a],e,o,r);for(let f=d;f<=h;++f){const m=u[f];m.skip||s(m,c,f)}}}function jO(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){const i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function nu(t,e,n,s,r){const i=[];return!r&&!t.isPointInArea(e)||To(t,n,e,function(a,l,c){!r&&!po(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function LO(t,e,n,s){let r=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:d}=oP(o,{x:e.x,y:e.y});Kv(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return To(t,n,e,i),r}function NO(t,e,n,s,r,i){let o=[];const a=jO(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,r);if(s&&!f)return;const m=u.getCenterPoint(r);if(!(!!i||t.isPointInArea(m))&&!f)return;const v=a(e,m);v<l?(o=[{element:u,datasetIndex:d,index:h}],l=v):v===l&&o.push({element:u,datasetIndex:d,index:h})}return To(t,n,e,c),o}function su(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?LO(t,e,n,r):NO(t,e,n,s,r,i)}function Fg(t,e,n,s,r){const i=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return To(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],r)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),s&&!a?[]:i}var DO={evaluateInteractionItems:To,modes:{index(t,e,n,s){const r=gs(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?nu(t,r,i,s,o):su(t,r,i,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const r=gs(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?nu(t,r,i,s,o):su(t,r,i,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const r=gs(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return nu(t,r,i,s,o)},nearest(t,e,n,s){const r=gs(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return su(t,r,i,n.intersect,s,o)},x(t,e,n,s){const r=gs(e,t);return Fg(t,r,"x",n.intersect,s)},y(t,e,n,s){const r=gs(e,t);return Fg(t,r,"y",n.intersect,s)}}};const d_=["left","top","right","bottom"];function ri(t,e){return t.filter(n=>n.pos===e)}function zg(t,e){return t.filter(n=>d_.indexOf(n.pos)===-1&&n.box.axis===e)}function ii(t,e){return t.sort((n,s)=>{const r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function $O(t){const e=[];let n,s,r,i,o,a;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function FO(t){const e={};for(const n of t){const{stack:s,pos:r,stackWeight:i}=n;if(!s||!d_.includes(r))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function zO(t,e){const n=FO(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=r):(a.width=s,a.height=u?u*r:l&&e.availableHeight)}return n}function BO(t){const e=$O(t),n=ii(e.filter(c=>c.box.fullSize),!0),s=ii(ri(e,"left"),!0),r=ii(ri(e,"right")),i=ii(ri(e,"top"),!0),o=ii(ri(e,"bottom")),a=zg(e,"x"),l=zg(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:ri(e,"chartArea"),vertical:s.concat(r).concat(l),horizontal:i.concat(o).concat(a)}}function Bg(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function h_(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function UO(t,e,n,s){const{pos:r,box:i}=n,o=t.maxPadding;if(!K(r)){n.size&&(t[r]-=n.size);const d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[r]+=n.size}i.getPadding&&h_(o,i.getPadding());const a=Math.max(0,e.outerWidth-Bg(o,t,"left","right")),l=Math.max(0,e.outerHeight-Bg(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function HO(t){const e=t.maxPadding;function n(s){const r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function WO(t,e){const n=e.maxPadding;function s(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function gi(t,e,n,s){const r=[];let i,o,a,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,WO(a.horizontal,e));const{same:d,other:h}=UO(e,n,a,s);c|=d&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&gi(r,e,n,s)||u}function da(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function Ug(t,e,n,s){const r=n.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;El(c.start)&&(o=c.start),l.fullSize?da(l,r.left,o,n.outerWidth-r.right-r.left,h):da(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;El(c.start)&&(i=c.start),l.fullSize?da(l,i,r.top,h,n.outerHeight-r.bottom-r.top):da(l,i,e.top+c.placed,h,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=o}var xt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const r=Pt(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=BO(t.boxes),l=a.vertical,c=a.horizontal;q(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},r);h_(h,Pt(s));const f=Object.assign({maxPadding:h,w:i,h:o,x:r.left,y:r.top},r),m=zO(l.concat(c),d);gi(a.fullSize,f,d,m),gi(l,f,d,m),gi(c,f,d,m)&&gi(l,f,d,m),HO(f),Ug(a.leftAndTop,f,d,m),f.x+=f.w,f.y+=f.h,Ug(a.rightAndBottom,f,d,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},q(a.chartArea,y=>{const v=y.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class f_{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}}class VO extends f_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fa="$chartjs",KO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Hg=t=>t===null||t==="";function qO(t,e){const n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[Fa]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Hg(r)){const i=Tg(t,"width");i!==void 0&&(t.width=i)}if(Hg(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=Tg(t,"height");i!==void 0&&(t.height=i)}return t}const p_=iO?{passive:!0}:!1;function JO(t,e,n){t&&t.addEventListener(e,n,p_)}function XO(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,p_)}function YO(t,e){const n=KO[t.type]||t.type,{x:s,y:r}=gs(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Tl(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function GO(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Tl(a.addedNodes,s),o=o&&!Tl(a.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function QO(t,e,n){const s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||Tl(a.removedNodes,s),o=o&&!Tl(a.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const mo=new Map;let Wg=0;function g_(){const t=window.devicePixelRatio;t!==Wg&&(Wg=t,mo.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function ZO(t,e){mo.size||window.addEventListener("resize",g_),mo.set(t,e)}function eT(t){mo.delete(t),mo.size||window.removeEventListener("resize",g_)}function tT(t,e,n){const s=t.canvas,r=s&&lf(s);if(!r)return;const i=Xv((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(r),ZO(t,i),o}function ru(t,e,n){n&&n.disconnect(),e==="resize"&&eT(t)}function nT(t,e,n){const s=t.canvas,r=Xv(i=>{t.ctx!==null&&n(YO(i,t))},t);return JO(s,e,r),r}class sT extends f_{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(qO(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Fa])return!1;const s=n[Fa].initial;["height","width"].forEach(i=>{const o=s[i];ee(o)?n.removeAttribute(i):n.setAttribute(i,o)});const r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[Fa],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:GO,detach:QO,resize:tT}[n]||nT;r[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:ru,detach:ru,resize:ru}[n]||XO)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return rO(e,n,s,r)}isAttached(e){const n=e&&lf(e);return!!(n&&n.isConnected)}}function rT(t){return!af()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?VO:sT}class kn{constructor(){D(this,"x");D(this,"y");D(this,"active",!1);D(this,"options");D(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return fo(this.x)&&fo(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}}D(kn,"defaults",{}),D(kn,"defaultRoutes");function iT(t,e){const n=t.options.ticks,s=oT(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?lT(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>r)return cT(e,c,i,o/r),c;const u=aT(i,e,r);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(ha(e,c,u,ee(f)?0:a-f,a),d=0,h=o-1;d<h;d++)ha(e,c,u,i[d],i[d+1]);return ha(e,c,u,l,ee(f)?e.length:l+f),c}return ha(e,c,u),c}function oT(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function aT(t,e,n){const s=uT(t),r=e.length/n;if(!s)return Math.max(r,1);const i=tP(s);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function lT(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function cT(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function ha(t,e,n,s,r){const i=H(s,0),o=Math.min(H(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-s,n=l/Math.floor(l/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*n))}function uT(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const dT=t=>t==="left"?"right":t==="right"?"left":t,Vg=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Kg=(t,e)=>Math.min(e||t,t);function qg(t,e){const n=[],s=t.length/e,r=t.length;let i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function hT(t,e,n){const s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(s===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<i-a||l>o+a)))return l}function fT(t,e){q(t,n=>{const s=n.gc,r=s.length/2;let i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function oi(t){return t.drawTicks?t.tickLength:0}function Jg(t,e){if(!t.display)return 0;const n=$e(t.font,e),s=Pt(t.padding);return(Se(t.text)?t.text.length:1)*n.lineHeight+s.height}function pT(t,e){return Us(t,{scale:e,type:"scale"})}function gT(t,e,n){return Us(t,{tick:n,index:e,type:"tick"})}function mT(t,e,n){let s=Zh(t);return(n&&e!=="right"||!n&&e==="right")&&(s=dT(s)),s}function yT(t,e,n,s){const{top:r,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,m;const y=o-r,v=a-i;if(t.isHorizontal()){if(f=Ne(s,i,a),K(n)){const g=Object.keys(n)[0],p=n[g];m=u[g].getPixelForValue(p)+y-e}else n==="center"?m=(c.bottom+c.top)/2+y-e:m=Vg(t,n,e);h=a-i}else{if(K(n)){const g=Object.keys(n)[0],p=n[g];f=u[g].getPixelForValue(p)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=Vg(t,n,e);m=Ne(s,o,r),d=n==="left"?-Lt:Lt}return{titleX:f,titleY:m,maxWidth:h,rotation:d}}class Hr extends kn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=Ht(e,Number.POSITIVE_INFINITY),n=Ht(n,Number.NEGATIVE_INFINITY),s=Ht(s,Number.POSITIVE_INFINITY),r=Ht(r,Number.NEGATIVE_INFINITY),{min:Ht(e,s),max:Ht(n,r),minDefined:Et(e),maxDefined:Et(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Ht(n,Ht(s,n)),max:Ht(s,Ht(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){se(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=NP(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?qg(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=iT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){se(this.options.afterUpdate,[this])}beforeSetDimensions(){se(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){se(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),se(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){se(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=se(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){se(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){se(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=Kg(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=wt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:f/(s-1),d+6>a&&(a=f/(s-(e.offset?.5:1)),l=this.maxHeight-oi(e.grid)-n.padding-Jg(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=iP(Math.min(Math.asin(wt((u.highest.height+6)/a,-1,1)),Math.asin(wt(l/c,-1,1))-Math.asin(wt(h/c,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){se(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){se(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Jg(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=oi(i)+l):(e.height=this.maxHeight,e.width=oi(i)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=s.padding*2,m=ks(this.labelRotation),y=Math.cos(m),v=Math.sin(m);if(a){const g=s.mirror?0:v*d.width+y*h.height;e.height=Math.min(this.maxHeight,e.height+g+f)}else{const g=s.mirror?0:y*d.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+g+f)}this._calculatePadding(c,u,v,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=r*e.width,f=s*n.height):(h=s*e.height,f=r*n.width):i==="start"?f=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){se(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)ee(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=qg(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(n/Kg(n,s));let c=0,u=0,d,h,f,m,y,v,g,p,_,w,x;for(d=0;d<n;d+=l){if(m=e[d].label,y=this._resolveTickFontOptions(d),r.font=v=y.string,g=i[v]=i[v]||{data:{},gc:[]},p=y.lineHeight,_=w=0,!ee(m)&&!Se(m))_=Sg(r,g.data,g.gc,_,m),w=p;else if(Se(m))for(h=0,f=m.length;h<f;++h)x=m[h],!ee(x)&&!Se(x)&&(_=Sg(r,g.data,g.gc,_,x),w+=p);o.push(_),a.push(w),c=Math.max(_,c),u=Math.max(w,u)}fT(i,n);const S=o.indexOf(c),k=a.indexOf(u),C=T=>({width:o[T]||0,height:a[T]||0});return{first:C(0),last:C(n-1),widest:C(S),highest:C(k),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return lP(this._alignToPixels?ls(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=gT(this.getContext(),e,s))}return this.$context||(this.$context=pT(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ks(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*s>a*r?a/s:l/r:l*r<a*s?l/s:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=oi(i),f=[],m=a.setContext(this.getContext()),y=m.display?m.width:0,v=y/2,g=function(he){return ls(s,he,y)};let p,_,w,x,S,k,C,T,O,A,N,ie;if(o==="top")p=g(this.bottom),k=this.bottom-h,T=p-v,A=g(e.top)+v,ie=e.bottom;else if(o==="bottom")p=g(this.top),A=e.top,ie=g(e.bottom)-v,k=p+v,T=this.top+h;else if(o==="left")p=g(this.right),S=this.right-h,C=p-v,O=g(e.left)+v,N=e.right;else if(o==="right")p=g(this.left),O=e.left,N=g(e.right)-v,S=p+v,C=this.left+h;else if(n==="x"){if(o==="center")p=g((e.top+e.bottom)/2+.5);else if(K(o)){const he=Object.keys(o)[0],Me=o[he];p=g(this.chart.scales[he].getPixelForValue(Me))}A=e.top,ie=e.bottom,k=p+v,T=k+h}else if(n==="y"){if(o==="center")p=g((e.left+e.right)/2);else if(K(o)){const he=Object.keys(o)[0],Me=o[he];p=g(this.chart.scales[he].getPixelForValue(Me))}S=p-v,C=S-h,O=e.left,N=e.right}const Be=H(r.ticks.maxTicksLimit,d),Y=Math.max(1,Math.ceil(d/Be));for(_=0;_<d;_+=Y){const he=this.getContext(_),Me=i.setContext(he),R=a.setContext(he),j=Me.lineWidth,L=Me.color,G=R.dash||[],te=R.dashOffset,Bt=Me.tickWidth,Ue=Me.tickColor,sn=Me.tickBorderDash||[],He=Me.tickBorderDashOffset;w=hT(this,_,l),w!==void 0&&(x=ls(s,w,j),c?S=C=O=N=x:k=T=A=ie=x,f.push({tx1:S,ty1:k,tx2:C,ty2:T,x1:O,y1:A,x2:N,y2:ie,width:j,color:L,borderDash:G,borderDashOffset:te,tickWidth:Bt,tickColor:Ue,tickBorderDash:sn,tickBorderDashOffset:He}))}return this._ticksLength=d,this._borderValue=p,f}_computeLabelItems(e){const n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,h=oi(s.grid),f=h+u,m=d?-u:f,y=-ks(this.labelRotation),v=[];let g,p,_,w,x,S,k,C,T,O,A,N,ie="middle";if(r==="top")S=this.bottom-m,k=this._getXAxisLabelAlignment();else if(r==="bottom")S=this.top+m,k=this._getXAxisLabelAlignment();else if(r==="left"){const Y=this._getYAxisLabelAlignment(h);k=Y.textAlign,x=Y.x}else if(r==="right"){const Y=this._getYAxisLabelAlignment(h);k=Y.textAlign,x=Y.x}else if(n==="x"){if(r==="center")S=(e.top+e.bottom)/2+f;else if(K(r)){const Y=Object.keys(r)[0],he=r[Y];S=this.chart.scales[Y].getPixelForValue(he)+f}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")x=(e.left+e.right)/2-f;else if(K(r)){const Y=Object.keys(r)[0],he=r[Y];x=this.chart.scales[Y].getPixelForValue(he)}k=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?ie="top":l==="end"&&(ie="bottom"));const Be=this._getLabelSizes();for(g=0,p=a.length;g<p;++g){_=a[g],w=_.label;const Y=i.setContext(this.getContext(g));C=this.getPixelForTick(g)+i.labelOffset,T=this._resolveTickFontOptions(g),O=T.lineHeight,A=Se(w)?w.length:1;const he=A/2,Me=Y.color,R=Y.textStrokeColor,j=Y.textStrokeWidth;let L=k;o?(x=C,k==="inner"&&(g===p-1?L=this.options.reverse?"left":"right":g===0?L=this.options.reverse?"right":"left":L="center"),r==="top"?c==="near"||y!==0?N=-A*O+O/2:c==="center"?N=-Be.highest.height/2-he*O+O:N=-Be.highest.height+O/2:c==="near"||y!==0?N=O/2:c==="center"?N=Be.highest.height/2-he*O:N=Be.highest.height-A*O,d&&(N*=-1),y!==0&&!Y.showLabelBackdrop&&(x+=O/2*Math.sin(y))):(S=C,N=(1-A)*O/2);let G;if(Y.showLabelBackdrop){const te=Pt(Y.backdropPadding),Bt=Be.heights[g],Ue=Be.widths[g];let sn=N-te.top,He=0-te.left;switch(ie){case"middle":sn-=Bt/2;break;case"bottom":sn-=Bt;break}switch(k){case"center":He-=Ue/2;break;case"right":He-=Ue;break;case"inner":g===p-1?He-=Ue:g>0&&(He-=Ue/2);break}G={left:He,top:sn,width:Ue+te.width,height:Bt+te.height,color:Y.backdropColor}}v.push({label:w,font:T,textOffset:N,options:{rotation:y,color:Me,strokeColor:R,strokeWidth:j,textAlign:L,textBaseline:ie,translation:[x,S],backdrop:G}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ks(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+i,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+i,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){const l=r[i];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=ls(e,this.left,o)-o/2,u=ls(e,this.right,a)+a/2,d=h=l):(d=ls(e,this.top,o)-o/2,h=ls(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&tf(s,r);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;go(s,c,0,u,l,a)}r&&nf(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;const i=$e(s.font),o=Pt(s.padding),a=s.align;let l=i.lineHeight/2;n==="bottom"||n==="center"||K(n)?(l+=o.bottom,Se(s.text)&&(l+=i.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=yT(this,l,n,a);go(e,s.text,0,0,i,{color:s.color,maxWidth:d,rotation:h,textAlign:mT(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=H(e.grid&&e.grid.z,-1),r=H(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Hr.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let i,o;for(i=0,o=n.length;i<o;++i){const a=n[i];a[s]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return $e(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class fa{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;wT(n)&&(s=this.register(n));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,vT(e,o,s),this.override&&pe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in pe[r]&&(delete pe[r][s],this.override&&delete js[s])}}function vT(t,e,n){const s=ho(Object.create(null),[n?pe.get(n):{},pe.get(e),t.defaults]);pe.set(e,s),t.defaultRoutes&&_T(e,t.defaultRoutes),t.descriptors&&pe.describe(e,t.descriptors)}function _T(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");pe.route(i,r,l,a)})}function wT(t){return"id"in t&&"defaults"in t}class xT{constructor(){this.controllers=new fa(Bi,"datasets",!0),this.elements=new fa(kn,"elements"),this.plugins=new fa(Object,"plugins"),this.scales=new fa(Hr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{const i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):q(r,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const r=Gh(e);se(s["before"+r],[],s),n[e](s),se(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Jt=new xT;class bT{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,r){r=r||{};for(const i of e){const o=i.plugin,a=o[s],l=[n,r,i.options];if(se(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ee(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,r=H(s.options&&s.options.plugins,{}),i=kT(s);return r===!1&&!n?[]:CT(e,i,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}}function kT(t){const e={},n=[],s=Object.keys(Jt.plugins.items);for(let i=0;i<s.length;i++)n.push(Jt.getPlugin(s[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function ST(t,e){return!e&&t===!1?null:t===!0?{}:t}function CT(t,{plugins:e,localIds:n},s,r){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=ST(s[l],r);c!==null&&i.push({plugin:a,options:ET(t.config,{plugin:a,local:n[l]},c,o)})}return i}function ET(t,{plugin:e,local:n},s,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ed(t,e){const n=pe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function PT(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function OT(t,e){return t===e?"_index_":"_value_"}function Xg(t){if(t==="x"||t==="y"||t==="r")return t}function TT(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Pd(t,...e){if(Xg(t))return t;for(const n of e){const s=n.axis||TT(n.position)||t.length>1&&Xg(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Yg(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function AT(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return Yg(t,"x",n[0])||Yg(t,"y",n[0])}return{}}function RT(t,e){const n=js[t.type]||{scales:{}},s=e.scales||{},r=Ed(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!K(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Pd(o,a,AT(o,t),pe.scales[a.type]),c=OT(l,r),u=n.scales||{};i[o]=Ni(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Ed(a,e),u=(js[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=PT(d,l),f=o[h+"AxisID"]||h;i[f]=i[f]||Object.create(null),Ni(i[f],[{axis:h},s[f],u[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];Ni(a,[pe.scales[a.type],pe.scale])}),i}function m_(t){const e=t.options||(t.options={});e.plugins=H(e.plugins,{}),e.scales=RT(t,e)}function y_(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function MT(t){return t=t||{},t.data=y_(t.data),m_(t),t}const Gg=new Map,v_=new Set;function pa(t,e){let n=Gg.get(t);return n||(n=e(),Gg.set(t,n),v_.add(n)),n}const ai=(t,e,n)=>{const s=Cl(e,n);s!==void 0&&t.add(s)};class IT{constructor(e){this._config=MT(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=y_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),m_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return pa(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return pa(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return pa(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return pa(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){const{options:r,type:i}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>ai(l,e,d))),u.forEach(d=>ai(l,r,d)),u.forEach(d=>ai(l,js[i]||{},d)),u.forEach(d=>ai(l,pe,d)),u.forEach(d=>ai(l,kd,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),v_.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,js[n]||{},pe.datasets[n]||{},{type:n},pe,kd]}resolveNamedOptions(e,n,s,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=Qg(this._resolverCache,e,r);let l=o;if(LT(o,n)){i.$shared=!1,s=es(s)?s():s;const c=this.createResolver(e,s,a);l=jr(o,s,c)}for(const c of n)i[c]=l[c];return i}createResolver(e,n,s=[""],r){const{resolver:i}=Qg(this._resolverCache,e,s);return K(n)?jr(i,n,void 0,r):i}}function Qg(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const r=n.join();let i=s.get(r);return i||(i={resolver:sf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}const jT=t=>K(t)&&Object.getOwnPropertyNames(t).some(e=>es(t[e]));function LT(t,e){const{isScriptable:n,isIndexable:s}=t_(t);for(const r of e){const i=n(r),o=s(r),a=(o||i)&&t[r];if(i&&(es(a)||jT(a))||o&&Se(a))return!0}return!1}var NT="4.4.8";const DT=["top","bottom","left","right","chartArea"];function Zg(t,e){return t==="top"||t==="bottom"||DT.indexOf(t)===-1&&e==="x"}function em(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function tm(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),se(n&&n.onComplete,[t],e)}function $T(t){const e=t.chart,n=e.options.animation;se(n&&n.onProgress,[t],e)}function __(t){return af()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const za={},nm=t=>{const e=__(t);return Object.values(za).filter(n=>n.canvas===e).pop()};function FT(t,e,n){const s=Object.keys(t);for(const r of s){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function zT(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}function ga(t,e,n){return t.options.clip?t[n]:e[n]}function BT(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:ga(n,e,"left"),right:ga(n,e,"right"),top:ga(s,e,"top"),bottom:ga(s,e,"bottom")}:e}var Pn;let lc=(Pn=class{static register(...e){Jt.add(...e),sm()}static unregister(...e){Jt.remove(...e),sm()}constructor(e,n){const s=this.config=new IT(n),r=__(e),i=nm(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||rT(r)),this.platform.updateConfig(s);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=KE(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fP(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],za[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ln.listen(this,"complete",tm),ln.listen(this,"progress",$T),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:r,_aspectRatio:i}=this;return ee(e)?n&&i?i:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Jt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Og(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Cg(this.canvas,this.ctx),this}stop(){return ln.stop(this),this}resize(e,n){ln.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,r=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,i),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Og(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),se(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};q(n,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,r=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let i=[];n&&(i=i.concat(Object.keys(n).map(o=>{const a=n[o],l=Pd(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),q(i,o=>{const a=o.options,l=a.id,c=Pd(l,a),u=H(a.type,o.dtype);(a.position===void 0||Zg(a.position,c)!==Zg(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in s&&s[l].type===u)d=s[l];else{const h=Jt.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),s[d.id]=d}d.init(a,e)}),q(r,(o,a)=>{o||delete s[a]}),q(s,o=>{xt.configure(this,o,o.options),xt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((r,i)=>r.index-i.index),s>n){for(let r=n;r<s;++r)this._destroyDatasetMeta(r);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(em("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,r)=>{n.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=n.length;s<r;s++){const i=n[s];let o=this.getDatasetMeta(s);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=i.indexAxis||Ed(a,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Jt.getController(a),{datasetElementType:c,dataElementType:u}=pe.datasets[a];Object.assign(l,{dataElementType:Jt.getElement(u),datasetElementType:c&&Jt.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){q(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!r&&i.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),r||q(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(em("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){q(this.scales,e=>{xt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!gg(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:i}of n){const o=s==="_removeElements"?-i:i;FT(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=s(0);for(let i=1;i<n;i++)if(!gg(r,s(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],q(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,es(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ln.has(this)?this.attached&&!ln.running(this)&&ln.start(this):(this.draw(),tm({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let r,i;for(r=0,i=n.length;r<i;++r){const o=n[r];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s=e._clip,r=!s.disabled,i=BT(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&tf(n,{left:s.left===!1?0:i.left-s.left,right:s.right===!1?this.width:i.right+s.right,top:s.top===!1?0:i.top-s.top,bottom:s.bottom===!1?this.height:i.bottom+s.bottom}),e.controller.draw(),r&&nf(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return po(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,r){const i=DO.modes[n];return typeof i=="function"?i(this,e,s,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let r=s.filter(i=>i&&i._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Us(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const r=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);El(n)?(i.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),ln.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Cg(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete za[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(i,o)=>{n.addEventListener(this,i,o),e[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};q(this.options.events,i=>s(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){q(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},q(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const r=s?"set":"remove";let i,o,a,l;for(n==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!kl(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const r=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=i(n,e),a=s?e:i(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const i=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(i||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:r=[],options:i}=this,o=n,a=this._getActiveElements(e,r,s,o),l=QE(e),c=zT(e,this._lastEvent,s,l);s&&(this._lastEvent=null,se(i.onHover,[e,a,this],this),l&&se(i.onClick,[e,a,this],this));const u=!kl(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,r){if(e.type==="mouseout")return[];if(!s)return n;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}},D(Pn,"defaults",pe),D(Pn,"instances",za),D(Pn,"overrides",js),D(Pn,"registry",Jt),D(Pn,"version",NT),D(Pn,"getChart",nm),Pn);function sm(){return q(lc.instances,t=>t._plugins.invalidate())}function w_(t,e,n=e){t.lineCap=H(n.borderCapStyle,e.borderCapStyle),t.setLineDash(H(n.borderDash,e.borderDash)),t.lineDashOffset=H(n.borderDashOffset,e.borderDashOffset),t.lineJoin=H(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=H(n.borderWidth,e.borderWidth),t.strokeStyle=H(n.borderColor,e.borderColor)}function UT(t,e,n){t.lineTo(n.x,n.y)}function HT(t){return t.stepped?EP:t.tension||t.cubicInterpolationMode==="monotone"?PP:UT}function x_(t,e,n={}){const s=t.length,{start:r=0,end:i=s-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(i,a),u=r<o&&i<o||r>a&&i>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function WT(t,e,n,s){const{points:r,options:i}=e,{count:o,start:a,loop:l,ilen:c}=x_(r,n,s),u=HT(i);let{move:d=!0,reverse:h}=s||{},f,m,y;for(f=0;f<=c;++f)m=r[(a+(h?c-f:f))%o],!m.skip&&(d?(t.moveTo(m.x,m.y),d=!1):u(t,y,m,h,i.stepped),y=m);return l&&(m=r[(a+(h?c:0))%o],u(t,y,m,h,i.stepped)),!!l}function VT(t,e,n,s){const r=e.points,{count:i,start:o,ilen:a}=x_(r,n,s),{move:l=!0,reverse:c}=s||{};let u=0,d=0,h,f,m,y,v,g;const p=w=>(o+(c?a-w:w))%i,_=()=>{y!==v&&(t.lineTo(u,v),t.lineTo(u,y),t.lineTo(u,g))};for(l&&(f=r[p(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=r[p(h)],f.skip)continue;const w=f.x,x=f.y,S=w|0;S===m?(x<y?y=x:x>v&&(v=x),u=(d*u+w)/++d):(_(),t.lineTo(w,x),m=S,d=0,y=v=x),g=x}_()}function Od(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?VT:WT}function KT(t){return t.stepped?oO:t.tension||t.cubicInterpolationMode==="monotone"?aO:ms}function qT(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),w_(t,e.options),t.stroke(r)}function JT(t,e,n,s){const{segments:r,options:i}=e,o=Od(e);for(const a of r)w_(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const XT=typeof Path2D=="function";function YT(t,e,n,s){XT&&!e.options.segment?qT(t,e,n,s):JT(t,e,n,s)}class mi extends kn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;QP(this._points,s,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=gO(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,r=e[n],i=this.points,o=hO(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=KT(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=i[d],m=i[h];if(f===m){a.push(f);continue}const y=Math.abs((r-f[n])/(m[n]-f[n])),v=l(f,m,y,s.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,s){return Od(this)(e,this,n,s)}path(e,n,s){const r=this.segments,i=Od(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of r)o&=i(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),YT(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}D(mi,"id","line"),D(mi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),D(mi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),D(mi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function rm(t,e,n,s){const r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}class Ba extends kn{constructor(n){super();D(this,"parsed");D(this,"skip");D(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return rm(this,n,"x",s)}inYRange(n,s){return rm(this,n,"y",s)}getCenterPoint(n){const{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){const r=this.options;this.skip||r.radius<.1||!po(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Sd(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}D(Ba,"id","point"),D(Ba,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),D(Ba,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const im=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},GT=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class om extends kn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=se(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=$e(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=im(s,i);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=e;i.textAlign="left",i.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((m,y)=>{const v=s+n/2+i.measureText(m.text).width;(y===0||c[c.length-1]+v+2*a>o)&&(d+=u,c[c.length-(y>0?0:1)]=0,f+=u,h++),l[y]={left:0,top:f,row:h,width:v,height:r},c[c.length-1]+=v+a}),d}_fitCols(e,n,s,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,m=0,y=0;return this.legendItems.forEach((v,g)=>{const{itemWidth:p,itemHeight:_}=QT(s,n,i,v,r);g>0&&f+_+2*a>u&&(d+=h+a,c.push({width:h,height:f}),m+=h+a,y++,h=f=0),l[g]={left:m,top:f,col:y,width:p,height:_},h=Math.max(h,p),f+=_+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=_r(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ne(s,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ne(s,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Ne(s,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ne(s,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;tf(e,this),this._draw(),nf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,a=pe.color,l=_r(e.rtl,this.left,this.width),c=$e(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:m,boxHeight:y,itemHeight:v}=im(o,d),g=function(S,k,C){if(isNaN(m)||m<=0||isNaN(y)||y<0)return;r.save();const T=H(C.lineWidth,1);if(r.fillStyle=H(C.fillStyle,a),r.lineCap=H(C.lineCap,"butt"),r.lineDashOffset=H(C.lineDashOffset,0),r.lineJoin=H(C.lineJoin,"miter"),r.lineWidth=T,r.strokeStyle=H(C.strokeStyle,a),r.setLineDash(H(C.lineDash,[])),o.usePointStyle){const O={radius:y*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:T},A=l.xPlus(S,m/2),N=k+h;Zv(r,O,A,N,o.pointStyleWidth&&m)}else{const O=k+Math.max((d-y)/2,0),A=l.leftForLtr(S,m),N=zi(C.borderRadius);r.beginPath(),Object.values(N).some(ie=>ie!==0)?Cd(r,{x:A,y:O,w:m,h:y,radius:N}):r.rect(A,O,m,y),r.fill(),T!==0&&r.stroke()}r.restore()},p=function(S,k,C){go(r,C.text,S,k+v/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},_=this.isHorizontal(),w=this._computeTitleHeight();_?f={x:Ne(i,this.left+u,this.right-s[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:Ne(i,this.top+w+u,this.bottom-n[0].height),line:0},o_(this.ctx,e.textDirection);const x=v+u;this.legendItems.forEach((S,k)=>{r.strokeStyle=S.fontColor,r.fillStyle=S.fontColor;const C=r.measureText(S.text).width,T=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),O=m+h+C;let A=f.x,N=f.y;l.setWidth(this.width),_?k>0&&A+O+u>this.right&&(N=f.y+=x,f.line++,A=f.x=Ne(i,this.left+u,this.right-s[f.line])):k>0&&N+x>this.bottom&&(A=f.x=A+n[f.line].width+u,f.line++,N=f.y=Ne(i,this.top+w+u,this.bottom-n[f.line].height));const ie=l.x(A);if(g(ie,N,S),A=pP(T,A+m+h,_?A+O:this.right,e.rtl),p(l.x(A),N,S),_)f.x+=O+u;else if(typeof S.text!="string"){const Be=c.lineHeight;f.y+=b_(S,Be)+u}else f.y+=x}),a_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=$e(n.font),r=Pt(n.padding);if(!n.display)return;const i=_r(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=r.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=Ne(e.align,d,this.right-h);else{const m=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);u=c+Ne(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=Ne(a,d,d+h);o.textAlign=i.textAlign(Zh(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,go(o,n.text,f,u,s)}_computeTitleHeight(){const e=this.options.title,n=$e(e.font),s=Pt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(pi(e,this.left,this.right)&&pi(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],pi(e,r.left,r.left+r.width)&&pi(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!t2(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=GT(r,s);r&&!i&&se(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&se(n.onHover,[e,s,this],this)}else s&&se(n.onClick,[e,s,this],this)}}function QT(t,e,n,s,r){const i=ZT(s,t,e,n),o=e2(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function ZT(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function e2(t,e,n){let s=t;return typeof e.text!="string"&&(s=b_(e,n)),s}function b_(t,e){const n=t.text?t.text.length:0;return e*n}function t2(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var n2={id:"legend",_element:om,start(t,e,n){const s=t.legend=new om({ctx:t.ctx,options:n,chart:t});xt.configure(t,s,n),xt.addBox(t,s)},stop(t){xt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;xt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Pt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class k_ extends kn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Se(s.text)?s.text.length:1;this._padding=Pt(s.padding);const i=r*$e(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:r,right:i,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=Ne(a,s,i),d=n+e,c=i-s):(o.position==="left"?(u=s+e,d=Ne(a,r,n),l=Ee*-.5):(u=i-e,d=Ne(a,n,r),l=Ee*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=$e(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);go(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:Zh(n.align),textBaseline:"middle",translation:[o,a]})}}function s2(t,e){const n=new k_({ctx:t.ctx,options:e,chart:t});xt.configure(t,n,e),xt.addBox(t,n),t.titleBlock=n}var r2={id:"title",_element:k_,start(t,e,n){s2(t,n)},stop(t){const e=t.titleBlock;xt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;xt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yi={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),r+=l.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=bd(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function Kt(t,e){return e&&(Se(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function cn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function i2(t,e){const{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function am(t,e){const n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=$e(e.bodyFont),c=$e(e.titleFont),u=$e(e.footerFont),d=i.length,h=r.length,f=s.length,m=Pt(e.padding);let y=m.height,v=0,g=s.reduce((w,x)=>w+x.before.length+x.lines.length+x.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),g){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=f*w+(g-f)*l.lineHeight+(g-1)*e.bodySpacing}h&&(y+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let p=0;const _=function(w){v=Math.max(v,n.measureText(w).width+p)};return n.save(),n.font=c.string,q(t.title,_),n.font=l.string,q(t.beforeBody.concat(t.afterBody),_),p=e.displayColors?o+2+e.boxPadding:0,q(s,w=>{q(w.before,_),q(w.lines,_),q(w.after,_)}),p=0,n.font=u.string,q(t.footer,_),n.restore(),v+=m.width,{width:v,height:y}}function o2(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function a2(t,e,n,s){const{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function l2(t,e,n,s){const{x:r,width:i}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=r<=(a+l)/2?"left":"right":r<=i/2?c="left":r>=o-i/2&&(c="right"),a2(c,t,e,n)&&(c="center"),c}function lm(t,e,n){const s=n.yAlign||e.yAlign||o2(t,n);return{xAlign:n.xAlign||e.xAlign||l2(t,e,n,s),yAlign:s}}function c2(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function u2(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function cm(t,e,n,s){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=zi(o);let m=c2(e,a);const y=u2(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,h)+r:a==="right"&&(m+=Math.max(d,f)+r),{x:wt(m,0,s.width-e.width),y:wt(y,0,s.height-e.height)}}function ma(t,e,n){const s=Pt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function um(t){return Kt([],cn(t))}function d2(t,e,n){return Us(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function dm(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const S_={beforeTitle:on,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:on,beforeBody:on,beforeLabel:on,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ee(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:on,afterBody:on,beforeFooter:on,footer:on,afterFooter:on};function Ye(t,e,n,s){const r=t[e].call(n,s);return typeof r>"u"?S_[e].call(n,s):r}class Td extends kn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&n.options.animation&&s.animations,i=new c_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=d2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,r=Ye(s,"beforeTitle",this,e),i=Ye(s,"title",this,e),o=Ye(s,"afterTitle",this,e);let a=[];return a=Kt(a,cn(r)),a=Kt(a,cn(i)),a=Kt(a,cn(o)),a}getBeforeBody(e,n){return um(Ye(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,r=[];return q(e,i=>{const o={before:[],lines:[],after:[]},a=dm(s,i);Kt(o.before,cn(Ye(a,"beforeLabel",this,i))),Kt(o.lines,Ye(a,"label",this,i)),Kt(o.after,cn(Ye(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,n){return um(Ye(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,r=Ye(s,"beforeFooter",this,e),i=Ye(s,"footer",this,e),o=Ye(s,"afterFooter",this,e);let a=[];return a=Kt(a,cn(r)),a=Kt(a,cn(i)),a=Kt(a,cn(o)),a}_createItems(e){const n=this._active,s=this.chart.data,r=[],i=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(i2(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,s))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,s))),q(a,u=>{const d=dm(e.callbacks,u);r.push(Ye(d,"labelColor",this,u)),i.push(Ye(d,"labelPointStyle",this,u)),o.push(Ye(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=yi[s.position].call(this,r,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=am(this,s),c=Object.assign({},a,l),u=lm(this.chart,s,c),d=cm(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,r){const i=this.getCaretPosition(e,s,r);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)}getCaretPosition(e,n,s){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=zi(a),{x:h,y:f}=e,{width:m,height:y}=n;let v,g,p,_,w,x;return i==="center"?(w=f+y/2,r==="left"?(v=h,g=v-o,_=w+o,x=w-o):(v=h+m,g=v+o,_=w-o,x=w+o),p=v):(r==="left"?g=h+Math.max(l,u)+o:r==="right"?g=h+m-Math.max(c,d)-o:g=this.caretX,i==="top"?(_=f,w=_-o,v=g-o,p=g+o):(_=f+y,w=_+o,v=g+o,p=g-o),x=_),{x1:v,x2:g,x3:p,y1:_,y2:w,y3:x}}drawTitle(e,n,s){const r=this.title,i=r.length;let o,a,l;if(i){const c=_r(s.rtl,this.x,this.width);for(e.x=ma(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=$e(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<i;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,r,i){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=i,u=$e(i.bodyFont),d=ma(this,"left",i),h=r.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+f;if(i.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(h,c)+c/2,g=m+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Sd(e,y,v,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Sd(e,y,v,g)}else{e.lineWidth=K(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(h,c),v=r.leftForLtr(r.xPlus(h,1),c-2),g=zi(o.borderRadius);Object.values(g).some(p=>p!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Cd(e,{x:y,y:m,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Cd(e,{x:v,y:m+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,m,c,l),e.strokeRect(y,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,d=$e(s.bodyFont);let h=d.lineHeight,f=0;const m=_r(s.rtl,this.x,this.width),y=function(C){n.fillText(C,m.x(e.x+f),e.y+h/2),e.y+=h+i},v=m.textAlign(o);let g,p,_,w,x,S,k;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=ma(this,v,s),n.fillStyle=s.bodyColor,q(this.beforeBody,y),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,S=r.length;w<S;++w){for(g=r[w],p=this.labelTextColors[w],n.fillStyle=p,q(g.before,y),_=g.lines,a&&_.length&&(this._drawColorBox(n,e,w,m,s),h=Math.max(d.lineHeight,l)),x=0,k=_.length;x<k;++x)y(_[x]),h=d.lineHeight;q(g.after,y)}f=0,h=d.lineHeight,q(this.afterBody,y),e.y-=i}drawFooter(e,n,s){const r=this.footer,i=r.length;let o,a;if(i){const l=_r(s.rtl,this.x,this.width);for(e.x=ma(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=$e(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<i;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,r){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:m}=zi(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,s,r),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&i==="right"&&this.drawCaret(e,n,s,r),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,s,r),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&i==="left"&&this.drawCaret(e,n,s,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,r=s&&s.x,i=s&&s.y;if(r||i){const o=yi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=am(this,e),l=Object.assign({},o,this._size),c=lm(n,e,l),u=cm(e,l,c,n);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Pt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,r,n),o_(e,n.textDirection),i.y+=o.top,this.drawTitle(i,e,n),this.drawBody(i,e,n),this.drawFooter(i,e,n),a_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!kl(s,r),o=this._positionChanged(r,n);(i||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,n,s),a=this._positionChanged(o,e),l=n||!kl(o,i)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:r,options:i}=this,o=yi[i.position].call(this,e,n);return o!==!1&&(s!==o.x||r!==o.y)}}D(Td,"positioners",yi);var h2={id:"tooltip",_element:Td,positioners:yi,afterInit(t,e,n){n&&(t.tooltip=new Td({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:S_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const f2=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function p2(t,e,n,s){const r=t.indexOf(e);if(r===-1)return f2(t,e,n,s);const i=t.lastIndexOf(e);return r!==i?n:r}const g2=(t,e)=>t===null?null:wt(Math.round(t),0,e);function hm(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ad extends Hr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:r,label:i}of n)s[r]===i&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ee(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:p2(s,e,H(n,e),this._addedLabels),g2(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,r=[];let i=this.getLabels();i=e===0&&n===i.length-1?i:i.slice(e,n+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return hm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}D(Ad,"id","category"),D(Ad,"defaults",{ticks:{callback:hm}});function m2(t,e){const n=[],{bounds:r,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=i||1,m=u-1,{min:y,max:v}=e,g=!ee(o),p=!ee(a),_=!ee(c),w=(v-y)/(d+1);let x=yg((v-y)/m/f)*f,S,k,C,T;if(x<1e-14&&!g&&!p)return[{value:y},{value:v}];T=Math.ceil(v/x)-Math.floor(y/x),T>m&&(x=yg(T*x/m/f)*f),ee(l)||(S=Math.pow(10,l),x=Math.ceil(x*S)/S),r==="ticks"?(k=Math.floor(y/x)*x,C=Math.ceil(v/x)*x):(k=y,C=v),g&&p&&i&&sP((a-o)/i,x/1e3)?(T=Math.round(Math.min((a-o)/x,u)),x=(a-o)/T,k=o,C=a):_?(k=g?o:k,C=p?a:C,T=c-1,x=(C-k)/T):(T=(C-k)/x,Di(T,Math.round(T),x/1e3)?T=Math.round(T):T=Math.ceil(T));const O=Math.max(vg(x),vg(k));S=Math.pow(10,ee(l)?O:l),k=Math.round(k*S)/S,C=Math.round(C*S)/S;let A=0;for(g&&(h&&k!==o?(n.push({value:o}),k<o&&A++,Di(Math.round((k+A*x)*S)/S,o,fm(o,w,t))&&A++):k<o&&A++);A<T;++A){const N=Math.round((k+A*x)*S)/S;if(p&&N>a)break;n.push({value:N})}return p&&h&&C!==a?n.length&&Di(n[n.length-1].value,a,fm(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!p||C===a)&&n.push({value:C}),n}function fm(t,e,{horizontal:n,minRotation:s}){const r=ks(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class y2 extends Hr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ee(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=n?r:l,a=l=>i=s?i:l;if(e){const l=Ir(r),c=Ir(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(r-l)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=m2(r,i);return e.bounds==="ticks"&&rP(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Yv(e,this.chart.options.locale,this.options.ticks.format)}}class Rd extends y2{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Et(e)?e:0,this.max=Et(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=ks(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}D(Rd,"id","linear"),D(Rd,"defaults",{ticks:{callback:Qv.formatters.numeric}});const cc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},et=Object.keys(cc);function pm(t,e){return t-e}function gm(t,e){if(ee(e))return null;const n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Et(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(fo(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function mm(t,e,n,s){const r=et.length;for(let i=et.indexOf(t);i<r-1;++i){const o=cc[et[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return et[i]}return et[r-1]}function v2(t,e,n,s,r){for(let i=et.length-1;i>=et.indexOf(n);i--){const o=et[i];if(cc[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return et[n?et.indexOf(n):0]}function _2(t){for(let e=et.indexOf(t)+1,n=et.length;e<n;++e)if(cc[et[e]].common)return et[e]}function ym(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:r}=Qh(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function w2(t,e,n,s){const r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+r.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function vm(t,e,n){const s=[],r={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,s.push({value:a,major:!1});return i===0||!n?s:w2(t,s,r,n)}class Al extends Hr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),r=this._adapter=new MO._date(e.adapters.date);r.init(n),Ni(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:gm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Et(r)&&!isNaN(r)?r:+n.startOf(Date.now(),s),i=Et(i)&&!isNaN(i)?i:+n.endOf(Date.now(),s)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=uP(r,i,o);return this._unit=n.unit||(s.autoSkip?mm(n.minUnit,this.min,this.max,this._getLabelCapacity(i)):v2(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:_2(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),vm(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=wt(n,0,o),s=wt(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,r=this.options,i=r.time,o=i.unit||mm(i.minUnit,n,s,this._getLabelCapacity(n)),a=H(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=fo(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<s;h=+e.add(h,a,o),f++)ym(u,h,m);return(h===s||r.bounds==="ticks"||f===1)&&ym(u,h,m),Object.keys(u).sort(pm).map(y=>+y)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,i=this._unit,o=n||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,r){const i=this.options,o=i.ticks.callback;if(o)return se(o,[e,n,s],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=s[n],f=c&&d&&h&&h.major;return this._adapter.format(e,r||(f?d:u))}generateTickLabels(e){let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,r=ks(this.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:s*i+a*o,h:s*o+a*i}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,r=s[n.unit]||s.millisecond,i=this._tickFormatFunction(e,0,vm(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,s=r.length;n<s;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const r=this.getLabels();for(n=0,s=r.length;n<s;++n)e.push(gm(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return hP(e.sort(pm))}}D(Al,"id","time"),D(Al,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ya(t,e,n){let s=0,r=t.length-1,i,o,a,l;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=Ss(t,"pos",e)),{pos:i,time:a}=t[s],{pos:o,time:l}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=Ss(t,"time",e)),{time:i,pos:a}=t[s],{time:o,pos:l}=t[r]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class _m extends Al{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ya(n,this.min),this._tableRange=ya(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,r=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(ya(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return ya(this._table,s*this._tableRange+this._minPos,!0)}}D(_m,"id","timeseries"),D(_m,"defaults",Al.defaults);const C_="label";function wm(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function x2(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function E_(t,e){t.labels=e}function P_(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C_;const s=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function b2(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C_;const n={labels:[],datasets:[]};return E_(n,t.labels),P_(n,t.datasets,e),n}function k2(t,e){const{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...h}=t,f=E.useRef(null),m=E.useRef(null),y=()=>{f.current&&(m.current=new lc(f.current,{type:o,data:b2(a,i),options:l&&{...l},plugins:c}),wm(e,m.current))},v=()=>{wm(e,null),m.current&&(m.current.destroy(),m.current=null)};return E.useEffect(()=>{!r&&m.current&&l&&x2(m.current,l)},[r,l]),E.useEffect(()=>{!r&&m.current&&E_(m.current.config.data,a.labels)},[r,a.labels]),E.useEffect(()=>{!r&&m.current&&a.datasets&&P_(m.current.config.data,a.datasets,i)},[r,a.datasets]),E.useEffect(()=>{m.current&&(r?(v(),setTimeout(y)):m.current.update(d))},[r,l,a.labels,a.datasets,d]),E.useEffect(()=>{m.current&&(v(),setTimeout(y))},[o]),E.useEffect(()=>(y(),()=>v()),[]),Xd.createElement("canvas",{ref:f,role:"img",height:n,width:s,...h},u)}const S2=E.forwardRef(k2);function C2(t,e){return lc.register(e),E.forwardRef((n,s)=>Xd.createElement(S2,{...n,ref:s,type:t}))}const E2=C2("line",$a);function P2({stock:t}){const e=t.change>=0;return b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 hover:shadow-lg transition",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold",children:t.symbol}),b.jsx("p",{className:"text-gray-600 text-sm",children:t.name})]}),b.jsxs("div",{className:`flex items-center ${e?"text-green-600":"text-red-600"}`,children:[e?b.jsx(aS,{className:"h-4 w-4"}):b.jsx(oS,{className:"h-4 w-4"}),b.jsxs("span",{className:"ml-1",children:[Math.abs(t.change),"%"]})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"text-2xl font-bold",children:["$",t.price.toFixed(2)]}),b.jsxs("div",{className:"text-gray-500 text-sm",children:["Volume: ",t.volume.toLocaleString()]})]})]})}lc.register(Ad,Rd,Ba,mi,r2,h2,n2);function xm(){const[t,e]=E.useState([{symbol:"AAPL",name:"Apple Inc.",price:173.45,change:2.3,volume:82345678},{symbol:"MSFT",name:"Microsoft Corporation",price:378.92,change:-.8,volume:45678123},{symbol:"GOOGL",name:"Alphabet Inc.",price:141.8,change:1.5,volume:34567890}]),n={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Portfolio Value",data:[1e4,12e3,11500,13e3,12800,14500],borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.5)",tension:.4}]},s={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Portfolio Performance"}}};return b.jsxs("div",{className:"space-y-8",children:[b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(r=>b.jsx(P2,{stock:r},r.symbol))}),b.jsx("div",{className:"bg-white p-6 rounded-lg shadow-md",children:b.jsx(E2,{options:s,data:n})}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Market News"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"border-b pb-4",children:[b.jsx("h3",{className:"font-medium",children:"Fed Signals Potential Rate Cuts"}),b.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Federal Reserve officials indicate possibility of rate cuts later this year..."})]}),b.jsxs("div",{className:"border-b pb-4",children:[b.jsx("h3",{className:"font-medium",children:"Tech Sector Shows Strong Growth"}),b.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Major tech companies report better-than-expected earnings..."})]})]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[b.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Risk Analysis"}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{children:"Portfolio Risk Level"}),b.jsx("span",{className:"text-yellow-600 font-medium",children:"Medium"})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{children:"Diversification Score"}),b.jsx("span",{className:"text-green-600 font-medium",children:"8.5/10"})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx("span",{children:"Volatility Index"}),b.jsx("span",{className:"text-red-600 font-medium",children:"High"})]})]})]})]})]})}function O2(){const t=[{symbol:"NVDA",confidence:85,risk_level:"medium",reason:"Strong growth in AI and data center markets"},{symbol:"TSLA",confidence:75,risk_level:"high",reason:"Market leader in EV space with significant expansion plans"},{symbol:"KO",confidence:90,risk_level:"low",reason:"Stable dividend stock with consistent growth"}];return b.jsxs("div",{className:"space-y-6",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI-Powered Stock Recommendations"}),b.jsx("p",{className:"text-gray-600",children:"Personalized recommendations based on your risk profile and market analysis."}),b.jsx("div",{className:"grid gap-6",children:t.map(e=>b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:e.symbol}),b.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[b.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                    ${e.risk_level==="low"?"bg-green-100 text-green-800":e.risk_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[e.risk_level.charAt(0).toUpperCase()+e.risk_level.slice(1)," Risk"]}),b.jsxs("span",{className:"text-gray-500 text-sm",children:[e.confidence,"% Confidence"]})]})]}),b.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition",children:"Add to Watchlist"})]}),b.jsx("p",{className:"mt-4 text-gray-600",children:e.reason})]},e.symbol))})]})}function T2(){const[t,e]=E.useState({email:"user@example.com",risk_level:"medium"});return b.jsxs("div",{className:"max-w-2xl mx-auto",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Profile Settings"}),b.jsxs("div",{className:"bg-white shadow rounded-lg",children:[b.jsxs("div",{className:"p-6 space-y-6",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Personal Information"}),b.jsx("div",{className:"mt-4 space-y-4",children:b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),b.jsx("input",{type:"email",value:t.email,readOnly:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm bg-gray-50 px-3 py-2"})]})})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Investment Preferences"}),b.jsx("div",{className:"mt-4 space-y-4",children:b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Risk Tolerance Level"}),b.jsxs("select",{value:t.risk_level,onChange:n=>e({...t,risk_level:n.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[b.jsx("option",{value:"low",children:"Low - Conservative"}),b.jsx("option",{value:"medium",children:"Medium - Balanced"}),b.jsx("option",{value:"high",children:"High - Aggressive"})]})]})})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Settings"}),b.jsxs("div",{className:"mt-4 space-y-4",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"price-alerts",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",defaultChecked:!0}),b.jsx("label",{htmlFor:"price-alerts",className:"ml-3 text-sm text-gray-700",children:"Price movement alerts"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"news-alerts",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",defaultChecked:!0}),b.jsx("label",{htmlFor:"news-alerts",className:"ml-3 text-sm text-gray-700",children:"Important news alerts"})]}),b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"recommendation-alerts",type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",defaultChecked:!0}),b.jsx("label",{htmlFor:"recommendation-alerts",className:"ml-3 text-sm text-gray-700",children:"New stock recommendations"})]})]})]})]}),b.jsx("div",{className:"bg-gray-50 px-6 py-4 rounded-b-lg",children:b.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save Changes"})})]})]})}function A2(){const t=[{id:"1",type:"price",title:"AAPL Price Movement",description:"Apple Inc. stock has increased by 5% in the last hour",timestamp:"2024-02-28T10:30:00Z",read:!1},{id:"2",type:"news",title:"Market Update",description:"Federal Reserve announces new policy changes",timestamp:"2024-02-28T09:15:00Z",read:!1},{id:"3",type:"recommendation",title:"New Stock Recommendation",description:"Based on your profile, we recommend considering NVDA",timestamp:"2024-02-28T08:45:00Z",read:!0}],e=n=>{switch(n){case"price":return b.jsx(Uh,{className:"h-5 w-5 text-blue-500"});case"news":return b.jsx(uS,{className:"h-5 w-5 text-green-500"});case"recommendation":return b.jsx(yv,{className:"h-5 w-5 text-purple-500"})}};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Alerts"}),b.jsx("button",{className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Mark all as read"})]}),b.jsx("div",{className:"space-y-4",children:t.map(n=>b.jsx("div",{className:`bg-white rounded-lg shadow-md p-4 ${n.read?"":"border-l-4 border-indigo-500"}`,children:b.jsxs("div",{className:"flex items-start space-x-4",children:[b.jsx("div",{className:"flex-shrink-0",children:e(n.type)}),b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:n.title}),b.jsx("span",{className:"text-sm text-gray-500",children:new Date(n.timestamp).toLocaleTimeString()})]}),b.jsx("p",{className:"mt-1 text-gray-600",children:n.description})]})]})},n.id))})]})}function R2(){const[t,e]=E.useState(""),[n,s]=E.useState(""),[r,i]=E.useState(!1),o=cv(),a=async l=>{l.preventDefault(),i(!0);try{const{error:c}=await Bv.auth.signInWithPassword({email:t,password:n});if(c)throw c;xl.success("Welcome back!"),o("/dashboard")}catch{xl.error("Failed to sign in. Please check your credentials.")}finally{i(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-md w-full space-y-8",children:[b.jsxs("div",{children:[b.jsx("div",{className:"flex justify-center",children:b.jsx(Uh,{className:"h-12 w-12 text-indigo-600"})}),b.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to FinXpert"})]}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a,children:[b.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:l=>e(l.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:l=>s(l.target.value)})]})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:r,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:r?"Signing in...":"Sign in"})})]})]})})}const Md="RFC3986",Id={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},M2="RFC1738",I2=Array.isArray,Wt=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),iu=1024,j2=(t,e,n,s,r)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(a){return"%26%23"+parseInt(a.slice(2),16)+"%3B"});let o="";for(let a=0;a<i.length;a+=iu){const l=i.length>=iu?i.slice(a,a+iu):i,c=[];for(let u=0;u<l.length;++u){let d=l.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||r===M2&&(d===40||d===41)){c[c.length]=l.charAt(u);continue}if(d<128){c[c.length]=Wt[d];continue}if(d<2048){c[c.length]=Wt[192|d>>6]+Wt[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=Wt[224|d>>12]+Wt[128|d>>6&63]+Wt[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=Wt[240|d>>18]+Wt[128|d>>12&63]+Wt[128|d>>6&63]+Wt[128|d&63]}o+=c.join("")}return o};function L2(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function bm(t,e){if(I2(t)){const n=[];for(let s=0;s<t.length;s+=1)n.push(e(t[s]));return n}return e(t)}const N2=Object.prototype.hasOwnProperty,O_={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Xt=Array.isArray,D2=Array.prototype.push,T_=function(t,e){D2.apply(t,Xt(e)?e:[e])},$2=Date.prototype.toISOString,ve={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:j2,encodeValuesOnly:!1,format:Md,formatter:Id[Md],indices:!1,serializeDate(t){return $2.call(t)},skipNulls:!1,strictNullHandling:!1};function F2(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const ou={};function A_(t,e,n,s,r,i,o,a,l,c,u,d,h,f,m,y,v,g){let p=t,_=g,w=0,x=!1;for(;(_=_.get(ou))!==void 0&&!x;){const O=_.get(t);if(w+=1,typeof O<"u"){if(O===w)throw new RangeError("Cyclic object value");x=!0}typeof _.get(ou)>"u"&&(w=0)}if(typeof c=="function"?p=c(e,p):p instanceof Date?p=h==null?void 0:h(p):n==="comma"&&Xt(p)&&(p=bm(p,function(O){return O instanceof Date?h==null?void 0:h(O):O})),p===null){if(i)return l&&!y?l(e,ve.encoder,v,"key",f):e;p=""}if(F2(p)||L2(p)){if(l){const O=y?e:l(e,ve.encoder,v,"key",f);return[(m==null?void 0:m(O))+"="+(m==null?void 0:m(l(p,ve.encoder,v,"value",f)))]}return[(m==null?void 0:m(e))+"="+(m==null?void 0:m(String(p)))]}const S=[];if(typeof p>"u")return S;let k;if(n==="comma"&&Xt(p))y&&l&&(p=bm(p,l)),k=[{value:p.length>0?p.join(",")||null:void 0}];else if(Xt(c))k=c;else{const O=Object.keys(p);k=u?O.sort(u):O}const C=a?String(e).replace(/\./g,"%2E"):String(e),T=s&&Xt(p)&&p.length===1?C+"[]":C;if(r&&Xt(p)&&p.length===0)return T+"[]";for(let O=0;O<k.length;++O){const A=k[O],N=typeof A=="object"&&typeof A.value<"u"?A.value:p[A];if(o&&N===null)continue;const ie=d&&a?A.replace(/\./g,"%2E"):A,Be=Xt(p)?typeof n=="function"?n(T,ie):T:T+(d?"."+ie:"["+ie+"]");g.set(t,w);const Y=new WeakMap;Y.set(ou,g),T_(S,A_(N,Be,n,s,r,i,o,a,n==="comma"&&y&&Xt(p)?null:l,c,u,d,h,f,m,y,v,Y))}return S}function z2(t=ve){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||ve.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Md;if(typeof t.format<"u"){if(!N2.call(Id,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const s=Id[n];let r=ve.filter;(typeof t.filter=="function"||Xt(t.filter))&&(r=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in O_?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=ve.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:ve.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ve.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ve.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ve.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?ve.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ve.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:ve.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:ve.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ve.encodeValuesOnly,filter:r,format:n,formatter:s,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ve.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ve.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ve.strictNullHandling}}function B2(t,e={}){let n=t;const s=z2(e);let r,i;typeof s.filter=="function"?(i=s.filter,n=i("",n)):Xt(s.filter)&&(i=s.filter,r=i);const o=[];if(typeof n!="object"||n===null)return"";const a=O_[s.arrayFormat],l=a==="comma"&&s.commaRoundTrip;r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);const c=new WeakMap;for(let h=0;h<r.length;++h){const f=r[h];s.skipNulls&&n[f]===null||T_(o,A_(n[f],f,a,l,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,c))}const u=o.join(s.delimiter);let d=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}const Gs="4.85.4";let km=!1,Ui,R_,M_,jd,I_,j_,L_,N_,D_;function U2(t,e={auto:!1}){if(km)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(Ui)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${Ui}'\``);km=e.auto,Ui=t.kind,R_=t.fetch,M_=t.FormData,jd=t.File,I_=t.ReadableStream,j_=t.getMultipartRequestOptions,L_=t.getDefaultAgent,N_=t.fileFromPath,D_=t.isFsReadStream}class H2{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function W2({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,r,i;try{n=fetch,s=Request,r=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:s,Response:r,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new H2(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}Ui||U2(W2(),{auto:!0});class z extends Error{}class Re extends z{constructor(e,n,s,r){super(`${Re.makeMessage(e,n,s)}`),this.status=e,this.headers=r,this.request_id=r==null?void 0:r["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,s){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e||!r)return new uc({message:s,cause:Nd(n)});const i=n==null?void 0:n.error;return e===400?new $_(e,i,s,r):e===401?new F_(e,i,s,r):e===403?new z_(e,i,s,r):e===404?new B_(e,i,s,r):e===409?new U_(e,i,s,r):e===422?new H_(e,i,s,r):e===429?new W_(e,i,s,r):e>=500?new V_(e,i,s,r):new Re(e,i,s,r)}}class Nt extends Re{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class uc extends Re{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class uf extends uc{constructor({message:e}={}){super({message:e??"Request timed out."})}}class $_ extends Re{}class F_ extends Re{}class z_ extends Re{}class B_ extends Re{}class U_ extends Re{}class H_ extends Re{}class W_ extends Re{}class V_ extends Re{}class K_ extends z{constructor(){super("Could not parse response content as the length limit was reached")}}class q_ extends z{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}var va=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},us=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},ot;class dc{constructor(){ot.set(this,void 0),this.buffer=new Uint8Array,va(this,ot,null,"f")}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?new TextEncoder().encode(e):e;let s=new Uint8Array(this.buffer.length+n.length);s.set(this.buffer),s.set(n,this.buffer.length),this.buffer=s;const r=[];let i;for(;(i=V2(this.buffer,us(this,ot,"f")))!=null;){if(i.carriage&&us(this,ot,"f")==null){va(this,ot,i.index,"f");continue}if(us(this,ot,"f")!=null&&(i.index!==us(this,ot,"f")+1||i.carriage)){r.push(this.decodeText(this.buffer.slice(0,us(this,ot,"f")-1))),this.buffer=this.buffer.slice(us(this,ot,"f")),va(this,ot,null,"f");continue}const o=us(this,ot,"f")!==null?i.preceding-1:i.preceding,a=this.decodeText(this.buffer.slice(0,o));r.push(a),this.buffer=this.buffer.slice(i.index),va(this,ot,null,"f")}return r}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new z(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new z(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new z("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){return this.buffer.length?this.decode(`
`):[]}}ot=new WeakMap;dc.NEWLINE_CHARS=new Set([`
`,"\r"]);dc.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function V2(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function K2(t){for(let s=0;s<t.length-1;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}function J_(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Qt{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let s=!1;async function*r(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const o of q2(e,n))if(!i){if(o.data.startsWith("[DONE]")){i=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new Re(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new Re(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}i=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{i||n.abort()}}return new Qt(r,n)}static fromReadableStream(e,n){let s=!1;async function*r(){const o=new dc,a=J_(e);for await(const l of a)for(const c of o.decode(l))yield c;for(const l of o.flush())yield l}async function*i(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const a of r())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new Qt(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const o=s.next();e.push(o),n.push(o)}return i.shift()}});return[new Qt(()=>r(e),this.controller),new Qt(()=>r(n),this.controller)]}toReadableStream(){const e=this;let n;const s=new TextEncoder;return new I_({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=s.encode(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*q2(t,e){if(!t.body)throw e.abort(),new z("Attempted to iterate over a response with no body");const n=new X2,s=new dc,r=J_(t.body);for await(const i of J2(r))for(const o of s.decode(i)){const a=n.decode(o);a&&(yield a)}for(const i of s.flush()){const o=n.decode(i);o&&(yield o)}}async function*J2(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let r=new Uint8Array(e.length+s.length);r.set(e),r.set(s,e.length),e=r;let i;for(;(i=K2(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}class X2{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=Y2(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function Y2(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const X_=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Y_=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&hc(t),hc=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",G2=t=>Y_(t)||X_(t)||D_(t);async function G_(t,e,n){var r;if(t=await t,Y_(t))return t;if(X_(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=hc(i)?[await i.arrayBuffer()]:[i];return new jd(o,e,n)}const s=await Q2(t);if(e||(e=eA(t)??"unknown_file"),!(n!=null&&n.type)){const i=(r=s[0])==null?void 0:r.type;typeof i=="string"&&(n={...n,type:i})}return new jd(s,e,n)}async function Q2(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(hc(t))e.push(await t.arrayBuffer());else if(tA(t))for await(const s of t)e.push(s);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${Z2(t)}`);return e}function Z2(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function eA(t){var e;return au(t.name)||au(t.filename)||((e=au(t.path))==null?void 0:e.split(/[\\/]/).pop())}const au=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},tA=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Sm=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Nr=async t=>{const e=await nA(t.body);return j_(e,t)},nA=async t=>{const e=new M_;return await Promise.all(Object.entries(t||{}).map(([n,s])=>Ld(e,n,s))),e},Ld=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(G2(n)){const s=await G_(n);t.append(e,s)}else if(Array.isArray(n))await Promise.all(n.map(s=>Ld(t,e+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>Ld(t,`${e}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var wr={},sA=function(t,e,n,s,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},rA=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},_a;async function Q_(t){const{response:e}=t;if(t.options.stream)return xr("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Qt.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return xr("response",e.status,e.url,e.headers,i),Z_(i,e)}const r=await e.text();return xr("response",e.status,e.url,e.headers,r),r}function Z_(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class fc extends Promise{constructor(e,n=Q_){super(s=>{s(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new fc(this.responsePromise,async n=>Z_(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class iA{constructor({baseURL:e,maxRetries:n=2,timeout:s=6e5,httpAgent:r,fetch:i}){this.baseURL=e,this.maxRetries=lu("maxRetries",n),this.timeout=lu("timeout",s),this.httpAgent=r,this.fetch=i??R_}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...dA(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${gA()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(async r=>{const i=r&&hc(r==null?void 0:r.body)?new DataView(await r.body.arrayBuffer()):(r==null?void 0:r.body)instanceof DataView?r.body:(r==null?void 0:r.body)instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r==null?void 0:r.body)?new DataView(r.body.buffer):r==null?void 0:r.body;return{method:e,path:n,...r,body:i}}))}getAPIList(e,n,s){return this.requestAPIList(n,{method:"get",path:e,...s})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var m;e={...e};const{method:s,path:r,query:i,headers:o={}}=e,a=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Sm(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(a),c=this.buildURL(r,i);"timeout"in e&&lu("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const u=e.httpAgent??this.httpAgent??L_(c),d=e.timeout+1e3;typeof((m=u==null?void 0:u.options)==null?void 0:m.timeout)=="number"&&d>(u.options.timeout??0)&&(u.options.timeout=d),this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:o,contentLength:l,retryCount:n});return{req:{method:s,...a&&{body:a},headers:h,...u&&{agent:u},signal:e.signal??null},url:c,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:s,retryCount:r}){const i={};s&&(i["content-length"]=s);const o=this.defaultHeaders(e);return Om(i,o),Om(i,n),Sm(e.body)&&Ui!=="node"&&delete i["content-type"],xa(o,"x-stainless-retry-count")===void 0&&xa(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(r)),xa(o,"x-stainless-timeout")===void 0&&xa(n,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:s}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,s,r){return Re.generate(e,n,s,r)}request(e,n=null){return new fc(this.makeRequest(e,n))}async makeRequest(e,n){var d,h;const s=await e,r=s.maxRetries??this.maxRetries;n==null&&(n=r),await this.prepareOptions(s);const{req:i,url:o,timeout:a}=this.buildRequest(s,{retryCount:r-n});if(await this.prepareRequest(i,{url:o,options:s}),xr("request",o,s,i.headers),(d=s.signal)!=null&&d.aborted)throw new Nt;const l=new AbortController,c=await this.fetchWithTimeout(o,i,a,l).catch(Nd);if(c instanceof Error){if((h=s.signal)!=null&&h.aborted)throw new Nt;if(n)return this.retryRequest(s,n);throw c.name==="AbortError"?new uf:new uc({cause:c})}const u=aA(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const p=`retrying, ${n} attempts remaining`;return xr(`response (error; ${p})`,c.status,o,u),this.retryRequest(s,n,u)}const f=await c.text().catch(p=>Nd(p).message),m=hA(f),y=m?void 0:f;throw xr(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,o,u,y),this.makeStatusError(c.status,m,y,u)}return{response:c,options:s,controller:l}}requestAPIList(e,n){const s=this.makeRequest(n,null);return new oA(this,s,e)}buildURL(e,n){const s=pA(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return tw(r)||(n={...r,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new z(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,s,r){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),s),l={signal:r.signal,...o};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(a)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s){let r;const i=s==null?void 0:s["retry-after-ms"];if(i){const a=parseFloat(i);Number.isNaN(a)||(r=a)}const o=s==null?void 0:s["retry-after"];if(o&&!r){const a=parseFloat(o);Number.isNaN(a)?r=Date.parse(o)-Date.now():r=a*1e3}if(!(r&&0<=r&&r<60*1e3)){const a=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Ao(r),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Gs}`}}class ew{constructor(e,n,s,r){_a.set(this,void 0),sA(this,_a,e),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new z("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const s=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[r,i]of s)e.url.searchParams.set(r,i);n.query=void 0,n.path=e.url.toString()}return await rA(this,_a,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(_a=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class oA extends fc{constructor(e,n,s){super(n,async r=>new s(e,r.response,await Q_(r),r.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const aA=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const s=n.toString();return e[s.toLowerCase()]||e[s]}}),lA={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ze=t=>typeof t=="object"&&t!==null&&!tw(t)&&Object.keys(t).every(e=>nw(lA,e)),cA=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gs,"X-Stainless-OS":Em(Deno.build.os),"X-Stainless-Arch":Cm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gs,"X-Stainless-OS":Em(process.platform),"X-Stainless-Arch":Cm(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=uA();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Gs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function uA(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,o=s[3]||0;return{browser:e,version:`${r}.${i}.${o}`}}}return null}const Cm=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Em=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Pm;const dA=()=>Pm??(Pm=cA()),hA=t=>{try{return JSON.parse(t)}catch{return}},fA=/^[a-z][a-z0-9+.-]*:/i,pA=t=>fA.test(t),Ao=t=>new Promise(e=>setTimeout(e,t)),lu=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new z(`${t} must be an integer`);if(e<0)throw new z(`${t} must be a positive integer`);return e},Nd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},wa=t=>{var e,n,s,r;if(typeof process<"u")return((e=wr==null?void 0:wr[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(r=(s=(n=Deno.env)==null?void 0:n.get)==null?void 0:s.call(n,t))==null?void 0:r.trim()};function tw(t){if(!t)return!0;for(const e in t)return!1;return!0}function nw(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Om(t,e){for(const n in e){if(!nw(e,n))continue;const s=n.toLowerCase();if(!s)continue;const r=e[n];r===null?delete t[s]:r!==void 0&&(t[s]=r)}}const Tm=new Set(["authorization","api-key"]);function xr(t,...e){if(typeof process<"u"&&(wr==null?void 0:wr.DEBUG)==="true"){const n=e.map(s=>{if(!s)return s;if(s.headers){const i={...s,headers:{...s.headers}};for(const o in s.headers)Tm.has(o.toLowerCase())&&(i.headers[o]="REDACTED");return i}let r=null;for(const i in s)Tm.has(i.toLowerCase())&&(r??(r={...s}),r[i]="REDACTED");return r??s});console.log(`OpenAI:DEBUG:${t}`,...n)}}const gA=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),mA=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",yA=t=>typeof(t==null?void 0:t.get)=="function",xa=(t,e)=>{var s;const n=e.toLowerCase();if(yA(t)){const r=((s=e[0])==null?void 0:s.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,o,a)=>o+a.toUpperCase());for(const i of[e,n,e.toUpperCase(),r]){const o=t.get(i);if(o)return o}}for(const[r,i]of Object.entries(t))if(r.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function cu(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class vA extends ew{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class gt extends ew{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.has_more=s.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var s;const e=this.getPaginatedItems();if(!e.length)return null;const n=(s=e[e.length-1])==null?void 0:s.id;return n?{params:{after:n}}:null}}class V{constructor(e){this._client=e}}let sw=class extends V{list(e,n={},s){return ze(n)?this.list(e,{},n):this._client.getAPIList(`/chat/completions/${e}/messages`,_A,{query:n,...s})}},pc=class extends V{constructor(){super(...arguments),this.messages=new sw(this._client)}create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}retrieve(e,n){return this._client.get(`/chat/completions/${e}`,n)}update(e,n,s){return this._client.post(`/chat/completions/${e}`,{body:n,...s})}list(e={},n){return ze(e)?this.list({},e):this._client.getAPIList("/chat/completions",gc,{query:e,...n})}del(e,n){return this._client.delete(`/chat/completions/${e}`,n)}};class gc extends gt{}class _A extends gt{}pc.ChatCompletionsPage=gc;pc.Messages=sw;let mc=class extends V{constructor(){super(...arguments),this.completions=new pc(this._client)}};mc.Completions=pc;mc.ChatCompletionsPage=gc;class rw extends V{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class iw extends V{create(e,n){return this._client.post("/audio/transcriptions",Nr({body:e,...n,__metadata:{model:e.model}}))}}class ow extends V{create(e,n){return this._client.post("/audio/translations",Nr({body:e,...n,__metadata:{model:e.model}}))}}class Ro extends V{constructor(){super(...arguments),this.transcriptions=new iw(this._client),this.translations=new ow(this._client),this.speech=new rw(this._client)}}Ro.Transcriptions=iw;Ro.Translations=ow;Ro.Speech=rw;class df extends V{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return ze(e)?this.list({},e):this._client.getAPIList("/batches",hf,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class hf extends gt{}df.BatchesPage=hf;class ff extends V{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/assistants/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return ze(e)?this.list({},e):this._client.getAPIList("/assistants",pf,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class pf extends gt{}ff.AssistantsPage=pf;function Am(t){return typeof t.parse=="function"}const br=t=>(t==null?void 0:t.role)==="assistant",aw=t=>(t==null?void 0:t.role)==="function",lw=t=>(t==null?void 0:t.role)==="tool";var Tt=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},ae=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Dd,Ua,Ha,vi,_i,Wa,wi,un,xi,Rl,Ml,Qs,cw;class uw{constructor(){Dd.add(this),this.controller=new AbortController,Ua.set(this,void 0),Ha.set(this,()=>{}),vi.set(this,()=>{}),_i.set(this,void 0),Wa.set(this,()=>{}),wi.set(this,()=>{}),un.set(this,{}),xi.set(this,!1),Rl.set(this,!1),Ml.set(this,!1),Qs.set(this,!1),Tt(this,Ua,new Promise((e,n)=>{Tt(this,Ha,e,"f"),Tt(this,vi,n,"f")}),"f"),Tt(this,_i,new Promise((e,n)=>{Tt(this,Wa,e,"f"),Tt(this,wi,n,"f")}),"f"),ae(this,Ua,"f").catch(()=>{}),ae(this,_i,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},ae(this,Dd,"m",cw).bind(this))},0)}_connected(){this.ended||(ae(this,Ha,"f").call(this),this._emit("connect"))}get ended(){return ae(this,xi,"f")}get errored(){return ae(this,Rl,"f")}get aborted(){return ae(this,Ml,"f")}abort(){this.controller.abort()}on(e,n){return(ae(this,un,"f")[e]||(ae(this,un,"f")[e]=[])).push({listener:n}),this}off(e,n){const s=ae(this,un,"f")[e];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(e,n){return(ae(this,un,"f")[e]||(ae(this,un,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,s)=>{Tt(this,Qs,!0,"f"),e!=="error"&&this.once("error",s),this.once(e,n)})}async done(){Tt(this,Qs,!0,"f"),await ae(this,_i,"f")}_emit(e,...n){if(ae(this,xi,"f"))return;e==="end"&&(Tt(this,xi,!0,"f"),ae(this,Wa,"f").call(this));const s=ae(this,un,"f")[e];if(s&&(ae(this,un,"f")[e]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!ae(this,Qs,"f")&&!(s!=null&&s.length)&&Promise.reject(r),ae(this,vi,"f").call(this,r),ae(this,wi,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!ae(this,Qs,"f")&&!(s!=null&&s.length)&&Promise.reject(r),ae(this,vi,"f").call(this,r),ae(this,wi,"f").call(this,r),this._emit("end")}}_emitFinal(){}}Ua=new WeakMap,Ha=new WeakMap,vi=new WeakMap,_i=new WeakMap,Wa=new WeakMap,wi=new WeakMap,un=new WeakMap,xi=new WeakMap,Rl=new WeakMap,Ml=new WeakMap,Qs=new WeakMap,Dd=new WeakSet,cw=function(e){if(Tt(this,Rl,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Nt),e instanceof Nt)return Tt(this,Ml,!0,"f"),this._emit("abort",e);if(e instanceof z)return this._emit("error",e);if(e instanceof Error){const n=new z(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new z(String(e)))};function dw(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Mo(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function wA(t,e){return!e||!hw(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:gf(t,e)}function gf(t,e){const n=t.choices.map(s=>{var r;if(s.finish_reason==="length")throw new K_;if(s.finish_reason==="content_filter")throw new q_;return{...s,message:{...s.message,...s.message.tool_calls?{tool_calls:((r=s.message.tool_calls)==null?void 0:r.map(i=>bA(e,i)))??void 0}:void 0,parsed:s.message.content&&!s.message.refusal?xA(e,s.message.content):null}}});return{...t,choices:n}}function xA(t,e){var n,s;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((s=t.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function bA(t,e){var s;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Mo(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function kA(t,e){var s;if(!t)return!1;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return Mo(n)||(n==null?void 0:n.function.strict)||!1}function hw(t){var e;return dw(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Mo(n)||n.type==="function"&&n.function.strict===!0))??!1}function SA(t){for(const e of t??[]){if(e.type!=="function")throw new z(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new z(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ge=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Le,$d,Il,Fd,zd,Bd,fw,Ud;const Rm=10;class pw extends uw{constructor(){super(...arguments),Le.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var s;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(s=e.choices[0])==null?void 0:s.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(aw(e)||lw(e))&&e.content)this._emit("functionCallResult",e.content);else if(br(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(br(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new z("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Ge(this,Le,"m",$d).call(this)}async finalMessage(){return await this.done(),Ge(this,Le,"m",Il).call(this)}async finalFunctionCall(){return await this.done(),Ge(this,Le,"m",Fd).call(this)}async finalFunctionCallResult(){return await this.done(),Ge(this,Le,"m",zd).call(this)}async totalUsage(){return await this.done(),Ge(this,Le,"m",Bd).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=Ge(this,Le,"m",Il).call(this);n&&this._emit("finalMessage",n);const s=Ge(this,Le,"m",$d).call(this);s&&this._emit("finalContent",s);const r=Ge(this,Le,"m",Fd).call(this);r&&this._emit("finalFunctionCall",r);const i=Ge(this,Le,"m",zd).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Ge(this,Le,"m",Bd).call(this))}async _createChatCompletion(e,n,s){const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),Ge(this,Le,"m",fw).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(gf(i,n))}async _runChatCompletion(e,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,s)}async _runFunctions(e,n,s){var h;const r="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=Rm}=s||{},u={};for(const f of n.functions)u[f.name||f.function.name]=f;const d=n.functions.map(f=>({name:f.name||f.function.name,parameters:f.parameters,description:f.description}));for(const f of n.messages)this._addMessage(f,!1);for(let f=0;f<c;++f){const y=(h=(await this._createChatCompletion(e,{...a,function_call:i,functions:d,messages:[...this.messages]},s)).choices[0])==null?void 0:h.message;if(!y)throw new z("missing message in ChatCompletion response");if(!y.function_call)return;const{name:v,arguments:g}=y.function_call,p=u[v];if(p){if(l&&l!==v){const S=`Invalid function_call: ${JSON.stringify(v)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:v,content:S});continue}}else{const S=`Invalid function_call: ${JSON.stringify(v)}. Available options are: ${d.map(k=>JSON.stringify(k.name)).join(", ")}. Please try again`;this._addMessage({role:r,name:v,content:S});continue}let _;try{_=Am(p)?await p.parse(g):g}catch(S){this._addMessage({role:r,name:v,content:S instanceof Error?S.message:String(S)});continue}const w=await p.function(_,this),x=Ge(this,Le,"m",Ud).call(this,w);if(this._addMessage({role:r,name:v,content:x}),l)return}}async _runTools(e,n,s){var f,m,y;const r="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((f=i==null?void 0:i.function)==null?void 0:f.name),{maxChatCompletions:c=Rm}=s||{},u=n.tools.map(v=>{if(Mo(v)){if(!v.$callback)throw new z("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:v.$callback,name:v.function.name,description:v.function.description||"",parameters:v.function.parameters,parse:v.$parseRaw,strict:!0}}}return v}),d={};for(const v of u)v.type==="function"&&(d[v.function.name||v.function.function.name]=v.function);const h="tools"in n?u.map(v=>v.type==="function"?{type:"function",function:{name:v.function.name||v.function.function.name,parameters:v.function.parameters,description:v.function.description,strict:v.function.strict}}:v):void 0;for(const v of n.messages)this._addMessage(v,!1);for(let v=0;v<c;++v){const p=(m=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:h,messages:[...this.messages]},s)).choices[0])==null?void 0:m.message;if(!p)throw new z("missing message in ChatCompletion response");if(!((y=p.tool_calls)!=null&&y.length))return;for(const _ of p.tool_calls){if(_.type!=="function")continue;const w=_.id,{name:x,arguments:S}=_.function,k=d[x];if(k){if(l&&l!==x){const A=`Invalid tool_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:w,content:A});continue}}else{const A=`Invalid tool_call: ${JSON.stringify(x)}. Available options are: ${Object.keys(d).map(N=>JSON.stringify(N)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:w,content:A});continue}let C;try{C=Am(k)?await k.parse(S):S}catch(A){const N=A instanceof Error?A.message:String(A);this._addMessage({role:r,tool_call_id:w,content:N});continue}const T=await k.function(C,this),O=Ge(this,Le,"m",Ud).call(this,T);if(this._addMessage({role:r,tool_call_id:w,content:O}),l)return}}}}Le=new WeakSet,$d=function(){return Ge(this,Le,"m",Il).call(this).content??null},Il=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(br(n)){const{function_call:s,...r}=n,i={...r,content:n.content??null,refusal:n.refusal??null};return s&&(i.function_call=s),i}}throw new z("stream ended without producing a ChatCompletionMessage with role=assistant")},Fd=function(){var e,n;for(let s=this.messages.length-1;s>=0;s--){const r=this.messages[s];if(br(r)&&(r!=null&&r.function_call))return r.function_call;if(br(r)&&((e=r==null?void 0:r.tool_calls)!=null&&e.length))return(n=r.tool_calls.at(-1))==null?void 0:n.function}},zd=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(aw(n)&&n.content!=null||lw(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>{var r;return s.role==="assistant"&&((r=s.tool_calls)==null?void 0:r.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Bd=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},fw=function(e){if(e.n!=null&&e.n>1)throw new z("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ud=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class yo extends pw{static runFunctions(e,n,s){const r=new yo,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new yo,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}_addMessage(e,n=!0){super._addMessage(e,n),br(e)&&e.content&&this._emit("content",e.content)}}const gw=1,mw=2,yw=4,vw=8,_w=16,ww=32,xw=64,bw=128,kw=256,Sw=bw|kw,Cw=_w|ww|Sw|xw,Ew=gw|mw|Cw,Pw=yw|vw,CA=Ew|Pw,xe={STR:gw,NUM:mw,ARR:yw,OBJ:vw,NULL:_w,BOOL:ww,NAN:xw,INFINITY:bw,MINUS_INFINITY:kw,INF:Sw,SPECIAL:Cw,ATOM:Ew,COLLECTION:Pw,ALL:CA};class EA extends Error{}class PA extends Error{}function OA(t,e=xe.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return TA(t.trim(),e)}const TA=(t,e)=>{const n=t.length;let s=0;const r=h=>{throw new EA(`${h} at position ${s}`)},i=h=>{throw new PA(`${h} at position ${s}`)},o=()=>(d(),s>=n&&r("Unexpected end of input"),t[s]==='"'?a():t[s]==="{"?l():t[s]==="["?c():t.substring(s,s+4)==="null"||xe.NULL&e&&n-s<4&&"null".startsWith(t.substring(s))?(s+=4,null):t.substring(s,s+4)==="true"||xe.BOOL&e&&n-s<4&&"true".startsWith(t.substring(s))?(s+=4,!0):t.substring(s,s+5)==="false"||xe.BOOL&e&&n-s<5&&"false".startsWith(t.substring(s))?(s+=5,!1):t.substring(s,s+8)==="Infinity"||xe.INFINITY&e&&n-s<8&&"Infinity".startsWith(t.substring(s))?(s+=8,1/0):t.substring(s,s+9)==="-Infinity"||xe.MINUS_INFINITY&e&&1<n-s&&n-s<9&&"-Infinity".startsWith(t.substring(s))?(s+=9,-1/0):t.substring(s,s+3)==="NaN"||xe.NAN&e&&n-s<3&&"NaN".startsWith(t.substring(s))?(s+=3,NaN):u()),a=()=>{const h=s;let f=!1;for(s++;s<n&&(t[s]!=='"'||f&&t[s-1]==="\\");)f=t[s]==="\\"?!f:!1,s++;if(t.charAt(s)=='"')try{return JSON.parse(t.substring(h,++s-Number(f)))}catch(m){i(String(m))}else if(xe.STR&e)try{return JSON.parse(t.substring(h,s-Number(f))+'"')}catch{return JSON.parse(t.substring(h,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},l=()=>{s++,d();const h={};try{for(;t[s]!=="}";){if(d(),s>=n&&xe.OBJ&e)return h;const f=a();d(),s++;try{const m=o();Object.defineProperty(h,f,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(xe.OBJ&e)return h;throw m}d(),t[s]===","&&s++}}catch{if(xe.OBJ&e)return h;r("Expected '}' at end of object")}return s++,h},c=()=>{s++;const h=[];try{for(;t[s]!=="]";)h.push(o()),d(),t[s]===","&&s++}catch{if(xe.ARR&e)return h;r("Expected ']' at end of array")}return s++,h},u=()=>{if(s===0){t==="-"&&xe.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(f){if(xe.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(f))}}const h=s;for(t[s]==="-"&&s++;t[s]&&!",]}".includes(t[s]);)s++;s==n&&!(xe.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(h,s))}catch{t.substring(h,s)==="-"&&xe.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(h,t.lastIndexOf("e")))}catch(m){i(String(m))}}},d=()=>{for(;s<n&&` 
\r	`.includes(t[s]);)s++};return o()},Mm=t=>OA(t,xe.ALL^xe.NUM);var Js=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},X=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},ye,an,Xs,En,uu,ba,du,hu,fu,ka,pu,Im;class vo extends pw{constructor(e){super(),ye.add(this),an.set(this,void 0),Xs.set(this,void 0),En.set(this,void 0),Js(this,an,e,"f"),Js(this,Xs,[],"f")}get currentChatCompletionSnapshot(){return X(this,En,"f")}static fromReadableStream(e){const n=new vo(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,s){const r=new vo(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,s){var o;super._createChatCompletion;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),X(this,ye,"m",uu).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)X(this,ye,"m",du).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Nt;return this._addChatCompletion(X(this,ye,"m",ka).call(this))}async _fromReadableStream(e,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),X(this,ye,"m",uu).call(this),this._connected();const r=Qt.fromReadableStream(e,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(X(this,ye,"m",ka).call(this)),X(this,ye,"m",du).call(this,a),i=a.id;if((o=r.controller.signal)!=null&&o.aborted)throw new Nt;return this._addChatCompletion(X(this,ye,"m",ka).call(this))}[(an=new WeakMap,Xs=new WeakMap,En=new WeakMap,ye=new WeakSet,uu=function(){this.ended||Js(this,En,void 0,"f")},ba=function(n){let s=X(this,Xs,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},X(this,Xs,"f")[n.index]=s,s)},du=function(n){var r,i,o,a,l,c,u,d,h,f,m,y,v,g,p;if(this.ended)return;const s=X(this,ye,"m",Im).call(this,n);this._emit("chunk",n,s);for(const _ of n.choices){const w=s.choices[_.index];_.delta.content!=null&&((r=w.message)==null?void 0:r.role)==="assistant"&&((i=w.message)!=null&&i.content)&&(this._emit("content",_.delta.content,w.message.content),this._emit("content.delta",{delta:_.delta.content,snapshot:w.message.content,parsed:w.message.parsed})),_.delta.refusal!=null&&((o=w.message)==null?void 0:o.role)==="assistant"&&((a=w.message)!=null&&a.refusal)&&this._emit("refusal.delta",{delta:_.delta.refusal,snapshot:w.message.refusal}),((l=_.logprobs)==null?void 0:l.content)!=null&&((c=w.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=_.logprobs)==null?void 0:u.content,snapshot:((d=w.logprobs)==null?void 0:d.content)??[]}),((h=_.logprobs)==null?void 0:h.refusal)!=null&&((f=w.message)==null?void 0:f.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(m=_.logprobs)==null?void 0:m.refusal,snapshot:((y=w.logprobs)==null?void 0:y.refusal)??[]});const x=X(this,ye,"m",ba).call(this,w);w.finish_reason&&(X(this,ye,"m",fu).call(this,w),x.current_tool_call_index!=null&&X(this,ye,"m",hu).call(this,w,x.current_tool_call_index));for(const S of _.delta.tool_calls??[])x.current_tool_call_index!==S.index&&(X(this,ye,"m",fu).call(this,w),x.current_tool_call_index!=null&&X(this,ye,"m",hu).call(this,w,x.current_tool_call_index)),x.current_tool_call_index=S.index;for(const S of _.delta.tool_calls??[]){const k=(v=w.message.tool_calls)==null?void 0:v[S.index];k!=null&&k.type&&((k==null?void 0:k.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(g=k.function)==null?void 0:g.name,index:S.index,arguments:k.function.arguments,parsed_arguments:k.function.parsed_arguments,arguments_delta:((p=S.function)==null?void 0:p.arguments)??""}):(k==null||k.type,void 0))}}},hu=function(n,s){var o,a,l;if(X(this,ye,"m",ba).call(this,n).done_tool_calls.has(s))return;const i=(o=n.message.tool_calls)==null?void 0:o[s];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(a=X(this,an,"f"))==null?void 0:a.tools)==null?void 0:l.find(u=>u.type==="function"&&u.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:s,arguments:i.function.arguments,parsed_arguments:Mo(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},fu=function(n){var r,i;const s=X(this,ye,"m",ba).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const o=X(this,ye,"m",pu).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(r=n.logprobs)!=null&&r.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},ka=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");const n=X(this,En,"f");if(!n)throw new z("request ended without sending any chunks");return Js(this,En,void 0,"f"),Js(this,Xs,[],"f"),AA(n,X(this,an,"f"))},pu=function(){var s;const n=(s=X(this,an,"f"))==null?void 0:s.response_format;return dw(n)?n:null},Im=function(n){var s,r,i,o;let a=X(this,En,"f");const{choices:l,...c}=n;a?Object.assign(a,c):a=Js(this,En,{...c,choices:[]},"f");for(const{delta:u,finish_reason:d,index:h,logprobs:f=null,...m}of n.choices){let y=a.choices[h];if(y||(y=a.choices[h]={finish_reason:d,index:h,message:{},logprobs:f,...m}),f)if(!y.logprobs)y.logprobs=Object.assign({},f);else{const{content:S,refusal:k,...C}=f;Object.assign(y.logprobs,C),S&&((s=y.logprobs).content??(s.content=[]),y.logprobs.content.push(...S)),k&&((r=y.logprobs).refusal??(r.refusal=[]),y.logprobs.refusal.push(...k))}if(d&&(y.finish_reason=d,X(this,an,"f")&&hw(X(this,an,"f")))){if(d==="length")throw new K_;if(d==="content_filter")throw new q_}if(Object.assign(y,m),!u)continue;const{content:v,refusal:g,function_call:p,role:_,tool_calls:w,...x}=u;if(Object.assign(y.message,x),g&&(y.message.refusal=(y.message.refusal||"")+g),_&&(y.message.role=_),p&&(y.message.function_call?(p.name&&(y.message.function_call.name=p.name),p.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=p.arguments)):y.message.function_call=p),v&&(y.message.content=(y.message.content||"")+v,!y.message.refusal&&X(this,ye,"m",pu).call(this)&&(y.message.parsed=Mm(y.message.content))),w){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:S,id:k,type:C,function:T,...O}of w){const A=(o=y.message.tool_calls)[S]??(o[S]={});Object.assign(A,O),k&&(A.id=k),C&&(A.type=C),T&&(A.function??(A.function={name:T.name??"",arguments:""})),T!=null&&T.name&&(A.function.name=T.name),T!=null&&T.arguments&&(A.function.arguments+=T.arguments,kA(X(this,an,"f"),A)&&(A.function.parsed_arguments=Mm(A.function.arguments)))}}}return a},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Qt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function AA(t,e){const{id:n,choices:s,created:r,model:i,system_fingerprint:o,...a}=t,l={...a,id:n,choices:s.map(({message:c,finish_reason:u,index:d,logprobs:h,...f})=>{if(!u)throw new z(`missing finish_reason for choice ${d}`);const{content:m=null,function_call:y,tool_calls:v,...g}=c,p=c.role;if(!p)throw new z(`missing role for choice ${d}`);if(y){const{arguments:_,name:w}=y;if(_==null)throw new z(`missing function_call.arguments for choice ${d}`);if(!w)throw new z(`missing function_call.name for choice ${d}`);return{...f,message:{content:m,function_call:{arguments:_,name:w},role:p,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:h}}return v?{...f,index:d,finish_reason:u,logprobs:h,message:{...g,role:p,content:m,refusal:c.refusal??null,tool_calls:v.map((_,w)=>{const{function:x,type:S,id:k,...C}=_,{arguments:T,name:O,...A}=x||{};if(k==null)throw new z(`missing choices[${d}].tool_calls[${w}].id
${Sa(t)}`);if(S==null)throw new z(`missing choices[${d}].tool_calls[${w}].type
${Sa(t)}`);if(O==null)throw new z(`missing choices[${d}].tool_calls[${w}].function.name
${Sa(t)}`);if(T==null)throw new z(`missing choices[${d}].tool_calls[${w}].function.arguments
${Sa(t)}`);return{...C,id:k,type:S,function:{...A,name:O,arguments:T}}})}}:{...f,message:{...g,content:m,role:p,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:h}}),created:r,model:i,object:"chat.completion",...o?{system_fingerprint:o}:{}};return wA(l,e)}function Sa(t){return JSON.stringify(t)}class kr extends vo{static fromReadableStream(e){const n=new kr(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,s){const r=new kr(null),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new kr(n),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}}let Ow=class extends V{parse(e,n){return SA(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>gf(s,e))}runFunctions(e,n){return e.stream?kr.runFunctions(this._client,e,n):yo.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?kr.runTools(this._client,e,n):yo.runTools(this._client,e,n)}stream(e,n){return vo.createChatCompletion(this._client,e,n)}};class Hd extends V{constructor(){super(...arguments),this.completions=new Ow(this._client)}}(function(t){t.Completions=Ow})(Hd||(Hd={}));class Tw extends V{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class mf extends V{constructor(){super(...arguments),this.sessions=new Tw(this._client)}}mf.Sessions=Tw;var I=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},it=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Oe,Wd,Yt,Va,Rt,Cs,dr,vs,jl,lt,Ka,qa,Hi,bi,ki,jm,Lm,Nm,Dm,$m,Fm,zm;class Dt extends uw{constructor(){super(...arguments),Oe.add(this),Wd.set(this,[]),Yt.set(this,{}),Va.set(this,{}),Rt.set(this,void 0),Cs.set(this,void 0),dr.set(this,void 0),vs.set(this,void 0),jl.set(this,void 0),lt.set(this,void 0),Ka.set(this,void 0),qa.set(this,void 0),Hi.set(this,void 0)}[(Wd=new WeakMap,Yt=new WeakMap,Va=new WeakMap,Rt=new WeakMap,Cs=new WeakMap,dr=new WeakMap,vs=new WeakMap,jl=new WeakMap,lt=new WeakMap,Ka=new WeakMap,qa=new WeakMap,Hi=new WeakMap,Oe=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,o)=>n.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Dt;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Qt.fromReadableStream(e,this.controller);for await(const o of r)I(this,Oe,"m",bi).call(this,o);if((i=r.controller.signal)!=null&&i.aborted)throw new Nt;return this._addRun(I(this,Oe,"m",ki).call(this))}toReadableStream(){return new Qt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,s,r,i){const o=new Dt;return o._run(()=>o._runToolAssistantStream(e,n,s,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,s,r,i){var c;const o=i==null?void 0:i.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},l=await e.submitToolOutputs(n,s,a,{...i,signal:this.controller.signal});this._connected();for await(const u of l)I(this,Oe,"m",bi).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new Nt;return this._addRun(I(this,Oe,"m",ki).call(this))}static createThreadAssistantStream(e,n,s){const r=new Dt;return r._run(()=>r._threadAssistantStream(e,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,s,r){const i=new Dt;return i._run(()=>i._runAssistantStream(e,n,s,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return I(this,Ka,"f")}currentRun(){return I(this,qa,"f")}currentMessageSnapshot(){return I(this,Rt,"f")}currentRunStepSnapshot(){return I(this,Hi,"f")}async finalRunSteps(){return await this.done(),Object.values(I(this,Yt,"f"))}async finalMessages(){return await this.done(),Object.values(I(this,Va,"f"))}async finalRun(){if(await this.done(),!I(this,Cs,"f"))throw Error("Final run was not received.");return I(this,Cs,"f")}async _createThreadAssistantStream(e,n,s){var a;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},o=await e.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const l of o)I(this,Oe,"m",bi).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new Nt;return this._addRun(I(this,Oe,"m",ki).call(this))}async _createAssistantStream(e,n,s,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o={...s,stream:!0},a=await e.create(n,o,{...r,signal:this.controller.signal});this._connected();for await(const c of a)I(this,Oe,"m",bi).call(this,c);if((l=a.controller.signal)!=null&&l.aborted)throw new Nt;return this._addRun(I(this,Oe,"m",ki).call(this))}static accumulateDelta(e,n){for(const[s,r]of Object.entries(n)){if(!e.hasOwnProperty(s)){e[s]=r;continue}let i=e[s];if(i==null){e[s]=r;continue}if(s==="index"||s==="type"){e[s]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(cu(i)&&cu(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...r);continue}for(const o of r){if(!cu(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const a=o.index;if(a==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof a!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${a}`);const l=i[a];l==null?i.push(o):i[a]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${i}`);e[s]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,s){return await this._createThreadAssistantStream(n,e,s)}async _runAssistantStream(e,n,s,r){return await this._createAssistantStream(n,e,s,r)}async _runToolAssistantStream(e,n,s,r,i){return await this._createToolAssistantStream(s,e,n,r,i)}}bi=function(e){if(!this.ended)switch(it(this,Ka,e,"f"),I(this,Oe,"m",Nm).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":I(this,Oe,"m",zm).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":I(this,Oe,"m",Lm).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":I(this,Oe,"m",jm).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},ki=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");if(!I(this,Cs,"f"))throw Error("Final run has not been received");return I(this,Cs,"f")},jm=function(e){const[n,s]=I(this,Oe,"m",$m).call(this,e,I(this,Rt,"f"));it(this,Rt,n,"f"),I(this,Va,"f")[n.id]=n;for(const r of s){const i=n.content[r.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,o=n.content[r.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=I(this,dr,"f")){if(I(this,vs,"f"))switch(I(this,vs,"f").type){case"text":this._emit("textDone",I(this,vs,"f").text,I(this,Rt,"f"));break;case"image_file":this._emit("imageFileDone",I(this,vs,"f").image_file,I(this,Rt,"f"));break}it(this,dr,r.index,"f")}it(this,vs,n.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(I(this,dr,"f")!==void 0){const r=e.data.content[I(this,dr,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,I(this,Rt,"f"));break;case"text":this._emit("textDone",r.text,I(this,Rt,"f"));break}}I(this,Rt,"f")&&this._emit("messageDone",e.data),it(this,Rt,void 0,"f")}},Lm=function(e){const n=I(this,Oe,"m",Dm).call(this,e);switch(it(this,Hi,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of s.step_details.tool_calls)i.index==I(this,jl,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(I(this,lt,"f")&&this._emit("toolCallDone",I(this,lt,"f")),it(this,jl,i.index,"f"),it(this,lt,n.step_details.tool_calls[i.index],"f"),I(this,lt,"f")&&this._emit("toolCallCreated",I(this,lt,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":it(this,Hi,void 0,"f"),e.data.step_details.type=="tool_calls"&&I(this,lt,"f")&&(this._emit("toolCallDone",I(this,lt,"f")),it(this,lt,void 0,"f")),this._emit("runStepDone",e.data,n);break}},Nm=function(e){I(this,Wd,"f").push(e),this._emit("event",e)},Dm=function(e){switch(e.event){case"thread.run.step.created":return I(this,Yt,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=I(this,Yt,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const r=Dt.accumulateDelta(n,s.delta);I(this,Yt,"f")[e.data.id]=r}return I(this,Yt,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":I(this,Yt,"f")[e.data.id]=e.data;break}if(I(this,Yt,"f")[e.data.id])return I(this,Yt,"f")[e.data.id];throw new Error("No snapshot available")},$m=function(e,n){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in n.content){let o=n.content[i.index];n.content[i.index]=I(this,Oe,"m",Fm).call(this,i,o)}else n.content[i.index]=i,s.push(i);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Fm=function(e,n){return Dt.accumulateDelta(n,e)},zm=function(e){switch(it(this,qa,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":it(this,Cs,e.data,"f"),I(this,lt,"f")&&(this._emit("toolCallDone",I(this,lt,"f")),it(this,lt,void 0,"f"));break}};class yf extends V{create(e,n,s){return this._client.post(`/threads/${e}/messages`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/messages/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return ze(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,vf,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class vf extends gt{}yf.MessagesPage=vf;class _f extends V{retrieve(e,n,s,r={},i){return ze(r)?this.retrieve(e,n,s,{},r):this._client.get(`/threads/${e}/runs/${n}/steps/${s}`,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,s={},r){return ze(s)?this.list(e,n,{},s):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,wf,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class wf extends gt{}_f.RunStepsPage=wf;class Io extends V{constructor(){super(...arguments),this.steps=new _f(this._client)}create(e,n,s){const{include:r,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:r},body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}retrieve(e,n,s){return this._client.get(`/threads/${e}/runs/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return ze(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,xf,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}createAndStream(e,n,s){return Dt.createAssistantStream(e,this._client.beta.threads.runs,n,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...s,headers:{...s==null?void 0:s.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Ao(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,s){return Dt.createAssistantStream(e,this._client.beta.threads.runs,n,s)}submitToolOutputs(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(e,n,s,r){const i=await this.submitToolOutputs(e,n,s,r);return await this.poll(e,i.id,r)}submitToolOutputsStream(e,n,s,r){return Dt.createToolAssistantStream(e,n,this._client.beta.threads.runs,s,r)}}class xf extends gt{}Io.RunsPage=xf;Io.Steps=_f;Io.RunStepsPage=wf;class Wr extends V{constructor(){super(...arguments),this.runs=new Io(this._client),this.messages=new yf(this._client)}create(e={},n){return ze(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/threads/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const s=await this.createAndRun(e,n);return await this.runs.poll(s.thread_id,s.id,n)}createAndRunStream(e,n){return Dt.createThreadAssistantStream(e,this._client.beta.threads,n)}}Wr.Runs=Io;Wr.RunsPage=xf;Wr.Messages=yf;Wr.MessagesPage=vf;const RA=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of e)r.status==="fulfilled"&&s.push(r.value);return s};let bf=class extends V{create(e,n,s){return this._client.post(`/vector_stores/${e}/files`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},s){return ze(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,yc,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...s,headers:r}).withResponse(),o=i.data;switch(o.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Ao(a);break;case"failed":case"completed":return o}}}async upload(e,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(e,{file_id:r.id},s)}async uploadAndPoll(e,n,s){const r=await this.upload(e,n,s);return await this.poll(e,r.id,s)}};class yc extends gt{}bf.VectorStoreFilesPage=yc;class Aw extends V{create(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n);return await this.poll(e,r.id,s)}listFiles(e,n,s={},r){return ze(s)?this.listFiles(e,n,{},s):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,yc,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:o}=await this.retrieve(e,n,{...s,headers:r}).withResponse();switch(i.status){case"in_progress":let a=5e3;if(s!=null&&s.pollIntervalMs)a=s.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(a=c)}}await Ao(a);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(r==null?void 0:r.maxConcurrency)??5,o=Math.min(i,n.length),a=this._client,l=n.values(),c=[...s];async function u(h){for(let f of h){const m=await a.files.create({file:f,purpose:"assistants"},r);c.push(m.id)}}const d=Array(o).fill(l).map(u);return await RA(d),await this.createAndPoll(e,{file_ids:c})}}class Vr extends V{constructor(){super(...arguments),this.files=new bf(this._client),this.fileBatches=new Aw(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/vector_stores/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return ze(e)?this.list({},e):this._client.getAPIList("/vector_stores",kf,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class kf extends gt{}Vr.VectorStoresPage=kf;Vr.Files=bf;Vr.VectorStoreFilesPage=yc;Vr.FileBatches=Aw;class is extends V{constructor(){super(...arguments),this.realtime=new mf(this._client),this.vectorStores=new Vr(this._client),this.chat=new Hd(this._client),this.assistants=new ff(this._client),this.threads=new Wr(this._client)}}is.Realtime=mf;is.VectorStores=Vr;is.VectorStoresPage=kf;is.Assistants=ff;is.AssistantsPage=pf;is.Threads=Wr;class Rw extends V{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class Mw extends V{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class Sf extends V{create(e,n){return this._client.post("/files",Nr({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return ze(e)?this.list({},e):this._client.getAPIList("/files",Cf,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:s=30*60*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await Ao(n),o=await this.retrieve(e),Date.now()-i>s)throw new uf({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return o}}class Cf extends gt{}Sf.FileObjectsPage=Cf;class Ef extends V{list(e,n={},s){return ze(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Pf,{query:n,...s})}}class Pf extends gt{}Ef.FineTuningJobCheckpointsPage=Pf;class Kr extends V{constructor(){super(...arguments),this.checkpoints=new Ef(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return ze(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Of,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},s){return ze(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Tf,{query:n,...s})}}class Of extends gt{}class Tf extends gt{}Kr.FineTuningJobsPage=Of;Kr.FineTuningJobEventsPage=Tf;Kr.Checkpoints=Ef;Kr.FineTuningJobCheckpointsPage=Pf;class jo extends V{constructor(){super(...arguments),this.jobs=new Kr(this._client)}}jo.Jobs=Kr;jo.FineTuningJobsPage=Of;jo.FineTuningJobEventsPage=Tf;class Iw extends V{createVariation(e,n){return this._client.post("/images/variations",Nr({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Nr({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class Af extends V{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Rf,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Rf extends vA{}Af.ModelsPage=Rf;class jw extends V{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class Lw extends V{create(e,n,s){return this._client.post(`/uploads/${e}/parts`,Nr({body:n,...s}))}}class Mf extends V{constructor(){super(...arguments),this.parts=new Lw(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,s){return this._client.post(`/uploads/${e}/complete`,{body:n,...s})}}Mf.Parts=Lw;var Nw;class U extends iA{constructor({baseURL:e=wa("OPENAI_BASE_URL"),apiKey:n=wa("OPENAI_API_KEY"),organization:s=wa("OPENAI_ORG_ID")??null,project:r=wa("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new z("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:s,project:r,...i,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&mA())throw new z(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new Rw(this),this.chat=new mc(this),this.embeddings=new Mw(this),this.files=new Sf(this),this.images=new Iw(this),this.audio=new Ro(this),this.moderations=new jw(this),this.models=new Af(this),this.fineTuning=new jo(this),this.beta=new is(this),this.batches=new df(this),this.uploads=new Mf(this),this._options=o,this.apiKey=n,this.organization=s,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return B2(e,{arrayFormat:"brackets"})}}Nw=U;U.OpenAI=Nw;U.DEFAULT_TIMEOUT=6e5;U.OpenAIError=z;U.APIError=Re;U.APIConnectionError=uc;U.APIConnectionTimeoutError=uf;U.APIUserAbortError=Nt;U.NotFoundError=B_;U.ConflictError=U_;U.RateLimitError=W_;U.BadRequestError=$_;U.AuthenticationError=F_;U.InternalServerError=V_;U.PermissionDeniedError=z_;U.UnprocessableEntityError=H_;U.toFile=G_;U.fileFromPath=N_;U.Completions=Rw;U.Chat=mc;U.ChatCompletionsPage=gc;U.Embeddings=Mw;U.Files=Sf;U.FileObjectsPage=Cf;U.Images=Iw;U.Audio=Ro;U.Moderations=jw;U.Models=Af;U.ModelsPage=Rf;U.FineTuning=jo;U.Beta=is;U.Batches=df;U.BatchesPage=hf;U.Uploads=Mf;const MA="your-openai-api-key",Bm=new U({apiKey:MA,dangerouslyAllowBrowser:!0});function IA(){const[t,e]=E.useState(!1),[n,s]=E.useState([{role:"assistant",content:"Hello! I'm your FinXpert AI assistant. How can I help you with your investment decisions today?"}]),[r,i]=E.useState(""),[o,a]=E.useState(!1),l=E.useRef(null),c=()=>{var d;(d=l.current)==null||d.scrollIntoView({behavior:"smooth"})};E.useEffect(()=>{c()},[n]);const u=async d=>{var f,m;if(d.preventDefault(),!r.trim()||o)return;if(!Bm){xl.error("OpenAI API key not configured. Please set up your environment variables.");return}const h=r.trim();i(""),s(y=>[...y,{role:"user",content:h}]),a(!0);try{const v=((m=(f=(await Bm.chat.completions.create({model:"gpt-4",messages:[{role:"system",content:"You are a financial advisor AI assistant for FinXpert. Provide concise, accurate financial advice and market insights. Focus on educational responses and avoid making specific investment recommendations."},...n.map(g=>({role:g.role,content:g.content})),{role:"user",content:h}]})).choices[0])==null?void 0:f.message)==null?void 0:m.content)||"I apologize, but I couldn't process your request.";s(g=>[...g,{role:"assistant",content:v}])}catch(y){console.error("Error:",y),xl.error("Failed to get a response from the AI assistant. Please check your API key configuration."),s(v=>[...v,{role:"assistant",content:"I apologize, but I encountered an error. Please ensure the OpenAI API key is properly configured."}])}finally{a(!1)}};return b.jsxs(b.Fragment,{children:[!t&&b.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 right-6 bg-indigo-600 text-white rounded-full p-4 shadow-lg hover:bg-indigo-700 transition-colors",children:b.jsx(cS,{className:"h-6 w-6"})}),t&&b.jsxs("div",{className:"fixed bottom-6 right-6 w-96 bg-white rounded-lg shadow-xl flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[b.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"FinXpert AI Assistant"}),b.jsx("button",{onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700",children:b.jsx(fS,{className:"h-5 w-5"})})]}),b.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto max-h-96",children:[n.map((d,h)=>b.jsx("div",{className:`flex ${d.role==="user"?"justify-end":"justify-start"}`,children:b.jsx("div",{className:`max-w-[80%] rounded-lg p-3 ${d.role==="user"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-900"}`,children:d.content})},h)),o&&b.jsx("div",{className:"flex justify-start",children:b.jsx("div",{className:"bg-gray-100 rounded-lg p-3 text-gray-900",children:b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),b.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),b.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),b.jsx("div",{ref:l})]}),b.jsx("form",{onSubmit:u,className:"p-4 border-t",children:b.jsxs("div",{className:"flex space-x-2",children:[b.jsx("input",{type:"text",value:r,onChange:d=>i(d.target.value),placeholder:"Ask me anything about finance...",className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",disabled:o}),b.jsx("button",{type:"submit",disabled:o,className:"bg-indigo-600 text-white rounded-md px-4 py-2 hover:bg-indigo-700 transition-colors disabled:opacity-50",children:b.jsx(dS,{className:"h-5 w-5"})})]})})]})]})}function jA(){return b.jsx(uk,{children:b.jsxs("div",{className:"min-h-screen bg-gray-50",children:[b.jsx(kE,{}),b.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:b.jsxs(sk,{children:[b.jsx(fs,{path:"/",element:b.jsx(xm,{})}),b.jsx(fs,{path:"/dashboard",element:b.jsx(xm,{})}),b.jsx(fs,{path:"/recommendations",element:b.jsx(O2,{})}),b.jsx(fs,{path:"/profile",element:b.jsx(T2,{})}),b.jsx(fs,{path:"/alerts",element:b.jsx(A2,{})}),b.jsx(fs,{path:"/login",element:b.jsx(R2,{})})]})}),b.jsx(IA,{}),b.jsx(sS,{position:"top-right"})]})})}ev(document.getElementById("root")).render(b.jsx(E.StrictMode,{children:b.jsx(jA,{})}));export{zw as g};
